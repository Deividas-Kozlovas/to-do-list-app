(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function If(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Td={exports:{}},Va={},Id={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag;function H0(){if(Ag)return Ce;Ag=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),I=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=I&&M[I]||M["@@iterator"],typeof M=="function"?M:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,F={};function V(M,Y,me){this.props=M,this.context=Y,this.refs=F,this.updater=me||C}V.prototype.isReactComponent={},V.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},V.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function W(){}W.prototype=V.prototype;function K(M,Y,me){this.props=M,this.context=Y,this.refs=F,this.updater=me||C}var te=K.prototype=new W;te.constructor=K,k(te,V.prototype),te.isPureReactComponent=!0;var se=Array.isArray,Q=Object.prototype.hasOwnProperty,fe={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function S(M,Y,me){var Re,Ae={},De=null,Me=null;if(Y!=null)for(Re in Y.ref!==void 0&&(Me=Y.ref),Y.key!==void 0&&(De=""+Y.key),Y)Q.call(Y,Re)&&!x.hasOwnProperty(Re)&&(Ae[Re]=Y[Re]);var Fe=arguments.length-2;if(Fe===1)Ae.children=me;else if(1<Fe){for(var qe=Array(Fe),vt=0;vt<Fe;vt++)qe[vt]=arguments[vt+2];Ae.children=qe}if(M&&M.defaultProps)for(Re in Fe=M.defaultProps,Fe)Ae[Re]===void 0&&(Ae[Re]=Fe[Re]);return{$$typeof:r,type:M,key:De,ref:Me,props:Ae,_owner:fe.current}}function A(M,Y){return{$$typeof:r,type:M.type,key:Y,ref:M.ref,props:M.props,_owner:M._owner}}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function O(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(me){return Y[me]})}var j=/\/+/g;function P(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?O(""+M.key):Y.toString(36)}function Xe(M,Y,me,Re,Ae){var De=typeof M;(De==="undefined"||De==="boolean")&&(M=null);var Me=!1;if(M===null)Me=!0;else switch(De){case"string":case"number":Me=!0;break;case"object":switch(M.$$typeof){case r:case e:Me=!0}}if(Me)return Me=M,Ae=Ae(Me),M=Re===""?"."+P(Me,0):Re,se(Ae)?(me="",M!=null&&(me=M.replace(j,"$&/")+"/"),Xe(Ae,Y,me,"",function(vt){return vt})):Ae!=null&&(N(Ae)&&(Ae=A(Ae,me+(!Ae.key||Me&&Me.key===Ae.key?"":(""+Ae.key).replace(j,"$&/")+"/")+M)),Y.push(Ae)),1;if(Me=0,Re=Re===""?".":Re+":",se(M))for(var Fe=0;Fe<M.length;Fe++){De=M[Fe];var qe=Re+P(De,Fe);Me+=Xe(De,Y,me,qe,Ae)}else if(qe=w(M),typeof qe=="function")for(M=qe.call(M),Fe=0;!(De=M.next()).done;)De=De.value,qe=Re+P(De,Fe++),Me+=Xe(De,Y,me,qe,Ae);else if(De==="object")throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Me}function Dt(M,Y,me){if(M==null)return M;var Re=[],Ae=0;return Xe(M,Re,"","",function(De){return Y.call(me,De,Ae++)}),Re}function Ot(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(me){(M._status===0||M._status===-1)&&(M._status=1,M._result=me)},function(me){(M._status===0||M._status===-1)&&(M._status=2,M._result=me)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var Be={current:null},ie={transition:null},ye={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:ie,ReactCurrentOwner:fe};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:Dt,forEach:function(M,Y,me){Dt(M,function(){Y.apply(this,arguments)},me)},count:function(M){var Y=0;return Dt(M,function(){Y++}),Y},toArray:function(M){return Dt(M,function(Y){return Y})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ce.Component=V,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=K,Ce.StrictMode=i,Ce.Suspense=p,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Ce.act=ae,Ce.cloneElement=function(M,Y,me){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Re=k({},M.props),Ae=M.key,De=M.ref,Me=M._owner;if(Y!=null){if(Y.ref!==void 0&&(De=Y.ref,Me=fe.current),Y.key!==void 0&&(Ae=""+Y.key),M.type&&M.type.defaultProps)var Fe=M.type.defaultProps;for(qe in Y)Q.call(Y,qe)&&!x.hasOwnProperty(qe)&&(Re[qe]=Y[qe]===void 0&&Fe!==void 0?Fe[qe]:Y[qe])}var qe=arguments.length-2;if(qe===1)Re.children=me;else if(1<qe){Fe=Array(qe);for(var vt=0;vt<qe;vt++)Fe[vt]=arguments[vt+2];Re.children=Fe}return{$$typeof:r,type:M.type,key:Ae,ref:De,props:Re,_owner:Me}},Ce.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:l,_context:M},M.Consumer=M},Ce.createElement=S,Ce.createFactory=function(M){var Y=S.bind(null,M);return Y.type=M,Y},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(M){return{$$typeof:f,render:M}},Ce.isValidElement=N,Ce.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:Ot}},Ce.memo=function(M,Y){return{$$typeof:y,type:M,compare:Y===void 0?null:Y}},Ce.startTransition=function(M){var Y=ie.transition;ie.transition={};try{M()}finally{ie.transition=Y}},Ce.unstable_act=ae,Ce.useCallback=function(M,Y){return Be.current.useCallback(M,Y)},Ce.useContext=function(M){return Be.current.useContext(M)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(M){return Be.current.useDeferredValue(M)},Ce.useEffect=function(M,Y){return Be.current.useEffect(M,Y)},Ce.useId=function(){return Be.current.useId()},Ce.useImperativeHandle=function(M,Y,me){return Be.current.useImperativeHandle(M,Y,me)},Ce.useInsertionEffect=function(M,Y){return Be.current.useInsertionEffect(M,Y)},Ce.useLayoutEffect=function(M,Y){return Be.current.useLayoutEffect(M,Y)},Ce.useMemo=function(M,Y){return Be.current.useMemo(M,Y)},Ce.useReducer=function(M,Y,me){return Be.current.useReducer(M,Y,me)},Ce.useRef=function(M){return Be.current.useRef(M)},Ce.useState=function(M){return Be.current.useState(M)},Ce.useSyncExternalStore=function(M,Y,me){return Be.current.useSyncExternalStore(M,Y,me)},Ce.useTransition=function(){return Be.current.useTransition()},Ce.version="18.3.1",Ce}var Cg;function Sf(){return Cg||(Cg=1,Id.exports=H0()),Id.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg;function W0(){if(Pg)return Va;Pg=1;var r=Sf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,p,y){var v,I={},w=null,C=null;y!==void 0&&(w=""+y),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(C=p.ref);for(v in p)i.call(p,v)&&!l.hasOwnProperty(v)&&(I[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)I[v]===void 0&&(I[v]=p[v]);return{$$typeof:e,type:f,key:w,ref:C,props:I,_owner:o.current}}return Va.Fragment=t,Va.jsx=h,Va.jsxs=h,Va}var kg;function K0(){return kg||(kg=1,Td.exports=W0()),Td.exports}var b=K0(),$=Sf();const G0=If($);var Lu={},Sd={exports:{}},Zt={},Rd={exports:{}},Ad={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function Q0(){return Ng||(Ng=1,function(r){function e(ie,ye){var ae=ie.length;ie.push(ye);e:for(;0<ae;){var M=ae-1>>>1,Y=ie[M];if(0<o(Y,ye))ie[M]=ye,ie[ae]=Y,ae=M;else break e}}function t(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var ye=ie[0],ae=ie.pop();if(ae!==ye){ie[0]=ae;e:for(var M=0,Y=ie.length,me=Y>>>1;M<me;){var Re=2*(M+1)-1,Ae=ie[Re],De=Re+1,Me=ie[De];if(0>o(Ae,ae))De<Y&&0>o(Me,Ae)?(ie[M]=Me,ie[De]=ae,M=De):(ie[M]=Ae,ie[Re]=ae,M=Re);else if(De<Y&&0>o(Me,ae))ie[M]=Me,ie[De]=ae,M=De;else break e}}return ye}function o(ie,ye){var ae=ie.sortIndex-ye.sortIndex;return ae!==0?ae:ie.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var p=[],y=[],v=1,I=null,w=3,C=!1,k=!1,F=!1,V=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function te(ie){for(var ye=t(y);ye!==null;){if(ye.callback===null)i(y);else if(ye.startTime<=ie)i(y),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=t(y)}}function se(ie){if(F=!1,te(ie),!k)if(t(p)!==null)k=!0,Ot(Q);else{var ye=t(y);ye!==null&&Be(se,ye.startTime-ie)}}function Q(ie,ye){k=!1,F&&(F=!1,W(S),S=-1),C=!0;var ae=w;try{for(te(ye),I=t(p);I!==null&&(!(I.expirationTime>ye)||ie&&!O());){var M=I.callback;if(typeof M=="function"){I.callback=null,w=I.priorityLevel;var Y=M(I.expirationTime<=ye);ye=r.unstable_now(),typeof Y=="function"?I.callback=Y:I===t(p)&&i(p),te(ye)}else i(p);I=t(p)}if(I!==null)var me=!0;else{var Re=t(y);Re!==null&&Be(se,Re.startTime-ye),me=!1}return me}finally{I=null,w=ae,C=!1}}var fe=!1,x=null,S=-1,A=5,N=-1;function O(){return!(r.unstable_now()-N<A)}function j(){if(x!==null){var ie=r.unstable_now();N=ie;var ye=!0;try{ye=x(!0,ie)}finally{ye?P():(fe=!1,x=null)}}else fe=!1}var P;if(typeof K=="function")P=function(){K(j)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,Dt=Xe.port2;Xe.port1.onmessage=j,P=function(){Dt.postMessage(null)}}else P=function(){V(j,0)};function Ot(ie){x=ie,fe||(fe=!0,P())}function Be(ie,ye){S=V(function(){ie(r.unstable_now())},ye)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_continueExecution=function(){k||C||(k=!0,Ot(Q))},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(ie){switch(w){case 1:case 2:case 3:var ye=3;break;default:ye=w}var ae=w;w=ye;try{return ie()}finally{w=ae}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ie,ye){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ae=w;w=ie;try{return ye()}finally{w=ae}},r.unstable_scheduleCallback=function(ie,ye,ae){var M=r.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?M+ae:M):ae=M,ie){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ae+Y,ie={id:v++,callback:ye,priorityLevel:ie,startTime:ae,expirationTime:Y,sortIndex:-1},ae>M?(ie.sortIndex=ae,e(y,ie),t(p)===null&&ie===t(y)&&(F?(W(S),S=-1):F=!0,Be(se,ae-M))):(ie.sortIndex=Y,e(p,ie),k||C||(k=!0,Ot(Q))),ie},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(ie){var ye=w;return function(){var ae=w;w=ye;try{return ie.apply(this,arguments)}finally{w=ae}}}}(Ad)),Ad}var xg;function Y0(){return xg||(xg=1,Rd.exports=Q0()),Rd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg;function J0(){if(Dg)return Zt;Dg=1;var r=Sf(),e=Y0();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(n,s){h(n,s),h(n+"Capture",s)}function h(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},I={};function w(n){return p.call(I,n)?!0:p.call(v,n)?!1:y.test(n)?I[n]=!0:(v[n]=!0,!1)}function C(n,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function k(n,s,a,c){if(s===null||typeof s>"u"||C(n,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function F(n,s,a,c,d,g,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=g,this.removeEmptyString=E}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){V[n]=new F(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];V[s]=new F(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){V[n]=new F(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){V[n]=new F(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){V[n]=new F(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){V[n]=new F(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){V[n]=new F(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){V[n]=new F(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){V[n]=new F(n,5,!1,n.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function K(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(W,K);V[s]=new F(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(W,K);V[s]=new F(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(W,K);V[s]=new F(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){V[n]=new F(n,1,!1,n.toLowerCase(),null,!1,!1)}),V.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){V[n]=new F(n,1,!1,n.toLowerCase(),null,!0,!0)});function te(n,s,a,c){var d=V.hasOwnProperty(s)?V[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(k(s,a,d,c)&&(a=null),c||d===null?w(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,s,a):n.setAttribute(s,a))))}var se=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),fe=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),O=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),Dt=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),Be=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ye(n){return n===null||typeof n!="object"?null:(n=ie&&n[ie]||n["@@iterator"],typeof n=="function"?n:null)}var ae=Object.assign,M;function Y(n){if(M===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);M=s&&s[1]||""}return`
`+M+n}var me=!1;function Re(n,s){if(!n||me)return"";me=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(q){var c=q}Reflect.construct(n,[],s)}else{try{s.call()}catch(q){c=q}n.call(s.prototype)}else{try{throw Error()}catch(q){c=q}n()}}catch(q){if(q&&c&&typeof q.stack=="string"){for(var d=q.stack.split(`
`),g=c.stack.split(`
`),E=d.length-1,R=g.length-1;1<=E&&0<=R&&d[E]!==g[R];)R--;for(;1<=E&&0<=R;E--,R--)if(d[E]!==g[R]){if(E!==1||R!==1)do if(E--,R--,0>R||d[E]!==g[R]){var D=`
`+d[E].replace(" at new "," at ");return n.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",n.displayName)),D}while(1<=E&&0<=R);break}}}finally{me=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?Y(n):""}function Ae(n){switch(n.tag){case 5:return Y(n.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return n=Re(n.type,!1),n;case 11:return n=Re(n.type.render,!1),n;case 1:return n=Re(n.type,!0),n;default:return""}}function De(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case x:return"Fragment";case fe:return"Portal";case A:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case Xe:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case O:return(n.displayName||"Context")+".Consumer";case N:return(n._context.displayName||"Context")+".Provider";case j:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Dt:return s=n.displayName||null,s!==null?s:De(n.type)||"Memo";case Ot:s=n._payload,n=n._init;try{return De(n(s))}catch{}}return null}function Me(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Fe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function qe(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function vt(n){var s=qe(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(E){c=""+E,g.call(this,E)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function ur(n){n._valueTracker||(n._valueTracker=vt(n))}function _s(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=qe(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function jr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function xi(n,s){var a=s.checked;return ae({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function vs(n,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Fe(s.value!=null?s.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function zo(n,s){s=s.checked,s!=null&&te(n,"checked",s,!1)}function Bo(n,s){zo(n,s);var a=Fe(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?Es(n,s.type,a):s.hasOwnProperty("defaultValue")&&Es(n,s.type,Fe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function vl(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function Es(n,s,a){(s!=="number"||jr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var cr=Array.isArray;function hr(n,s,a,c){if(n=n.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=s.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Fe(a),s=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function $o(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ws(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(cr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:Fe(a)}}function Ts(n,s){var a=Fe(s.value),c=Fe(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function qo(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function ht(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?ht(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var dr,Ho=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(s,a,c,d)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(dr=dr||document.createElement("div"),dr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=dr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Ur(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var Di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oi=["Webkit","ms","Moz","O"];Object.keys(Di).forEach(function(n){Oi.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Di[s]=Di[n]})});function Wo(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Di.hasOwnProperty(n)&&Di[n]?(""+s).trim():s+"px"}function Ko(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Wo(a,s[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var Go=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qo(n,s){if(s){if(Go[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Yo(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Li=null;function Is(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ss=null,fn=null,Bn=null;function Rs(n){if(n=Ea(n)){if(typeof Ss!="function")throw Error(t(280));var s=n.stateNode;s&&(s=Ql(s),Ss(n.stateNode,n.type,s))}}function $n(n){fn?Bn?Bn.push(n):Bn=[n]:fn=n}function Jo(){if(fn){var n=fn,s=Bn;if(Bn=fn=null,Rs(n),s)for(n=0;n<s.length;n++)Rs(s[n])}}function Vi(n,s){return n(s)}function Xo(){}var fr=!1;function Zo(n,s,a){if(fr)return n(s,a);fr=!0;try{return Vi(n,s,a)}finally{fr=!1,(fn!==null||Bn!==null)&&(Xo(),Jo())}}function it(n,s){var a=n.stateNode;if(a===null)return null;var c=Ql(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var As=!1;if(f)try{var Sn={};Object.defineProperty(Sn,"passive",{get:function(){As=!0}}),window.addEventListener("test",Sn,Sn),window.removeEventListener("test",Sn,Sn)}catch{As=!1}function bi(n,s,a,c,d,g,E,R,D){var q=Array.prototype.slice.call(arguments,3);try{s.apply(a,q)}catch(Z){this.onError(Z)}}var Mi=!1,Cs=null,Rn=!1,ea=null,Yc={onError:function(n){Mi=!0,Cs=n}};function Ps(n,s,a,c,d,g,E,R,D){Mi=!1,Cs=null,bi.apply(Yc,arguments)}function El(n,s,a,c,d,g,E,R,D){if(Ps.apply(this,arguments),Mi){if(Mi){var q=Cs;Mi=!1,Cs=null}else throw Error(t(198));Rn||(Rn=!0,ea=q)}}function An(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,s.flags&4098&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function Fi(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function Cn(n){if(An(n)!==n)throw Error(t(188))}function wl(n){var s=n.alternate;if(!s){if(s=An(n),s===null)throw Error(t(188));return s!==n?null:n}for(var a=n,c=s;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return Cn(d),n;if(g===c)return Cn(d),s;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=g;else{for(var E=!1,R=d.child;R;){if(R===a){E=!0,a=d,c=g;break}if(R===c){E=!0,c=d,a=g;break}R=R.sibling}if(!E){for(R=g.child;R;){if(R===a){E=!0,a=g,c=d;break}if(R===c){E=!0,c=g,a=d;break}R=R.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:s}function ta(n){return n=wl(n),n!==null?ks(n):null}function ks(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=ks(n);if(s!==null)return s;n=n.sibling}return null}var Ns=e.unstable_scheduleCallback,na=e.unstable_cancelCallback,Tl=e.unstable_shouldYield,Jc=e.unstable_requestPaint,He=e.unstable_now,Il=e.unstable_getCurrentPriorityLevel,ji=e.unstable_ImmediatePriority,zr=e.unstable_UserBlockingPriority,pn=e.unstable_NormalPriority,ra=e.unstable_LowPriority,Sl=e.unstable_IdlePriority,Ui=null,sn=null;function Rl(n){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Ui,n,void 0,(n.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:Cl,ia=Math.log,Al=Math.LN2;function Cl(n){return n>>>=0,n===0?32:31-(ia(n)/Al|0)|0}var xs=64,Ds=4194304;function Br(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function zi(n,s){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,g=n.pingedLanes,E=a&268435455;if(E!==0){var R=E&~d;R!==0?c=Br(R):(g&=E,g!==0&&(c=Br(g)))}else E=a&~d,E!==0?c=Br(E):g!==0&&(c=Br(g));if(c===0)return 0;if(s!==0&&s!==c&&!(s&d)&&(d=c&-c,g=s&-s,d>=g||d===16&&(g&4194240)!==0))return s;if(c&4&&(c|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=c;0<s;)a=31-Bt(s),d=1<<a,c|=n[a],s&=~d;return c}function Xc(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pr(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,g=n.pendingLanes;0<g;){var E=31-Bt(g),R=1<<E,D=d[E];D===-1?(!(R&a)||R&c)&&(d[E]=Xc(R,s)):D<=s&&(n.expiredLanes|=R),g&=~R}}function on(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Bi(){var n=xs;return xs<<=1,!(xs&4194240)&&(xs=64),n}function $r(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function qr(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-Bt(s),n[s]=a}function $e(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-Bt(a),g=1<<d;s[d]=0,c[d]=-1,n[d]=-1,a&=~g}}function Hr(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-Bt(a),d=1<<c;d&s|n[c]&s&&(n[c]|=s),a&=~d}}var Ne=0;function Wr(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Pl,Os,kl,Nl,xl,sa=!1,qn=[],Rt=null,Pn=null,kn=null,Kr=new Map,mn=new Map,Hn=[],Zc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dl(n,s){switch(n){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":Kr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":mn.delete(s.pointerId)}}function Wt(n,s,a,c,d,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},s!==null&&(s=Ea(s),s!==null&&Os(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function eh(n,s,a,c,d){switch(s){case"focusin":return Rt=Wt(Rt,n,s,a,c,d),!0;case"dragenter":return Pn=Wt(Pn,n,s,a,c,d),!0;case"mouseover":return kn=Wt(kn,n,s,a,c,d),!0;case"pointerover":var g=d.pointerId;return Kr.set(g,Wt(Kr.get(g)||null,n,s,a,c,d)),!0;case"gotpointercapture":return g=d.pointerId,mn.set(g,Wt(mn.get(g)||null,n,s,a,c,d)),!0}return!1}function Ol(n){var s=Ki(n.target);if(s!==null){var a=An(s);if(a!==null){if(s=a.tag,s===13){if(s=Fi(a),s!==null){n.blockedOn=s,xl(n.priority,function(){kl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function mr(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Ls(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Li=c,a.target.dispatchEvent(c),Li=null}else return s=Ea(a),s!==null&&Os(s),n.blockedOn=a,!1;s.shift()}return!0}function $i(n,s,a){mr(n)&&a.delete(s)}function Ll(){sa=!1,Rt!==null&&mr(Rt)&&(Rt=null),Pn!==null&&mr(Pn)&&(Pn=null),kn!==null&&mr(kn)&&(kn=null),Kr.forEach($i),mn.forEach($i)}function Nn(n,s){n.blockedOn===s&&(n.blockedOn=null,sa||(sa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ll)))}function xn(n){function s(d){return Nn(d,n)}if(0<qn.length){Nn(qn[0],n);for(var a=1;a<qn.length;a++){var c=qn[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Rt!==null&&Nn(Rt,n),Pn!==null&&Nn(Pn,n),kn!==null&&Nn(kn,n),Kr.forEach(s),mn.forEach(s),a=0;a<Hn.length;a++)c=Hn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Hn.length&&(a=Hn[0],a.blockedOn===null);)Ol(a),a.blockedOn===null&&Hn.shift()}var gr=se.ReactCurrentBatchConfig,Gr=!0;function Ye(n,s,a,c){var d=Ne,g=gr.transition;gr.transition=null;try{Ne=1,oa(n,s,a,c)}finally{Ne=d,gr.transition=g}}function th(n,s,a,c){var d=Ne,g=gr.transition;gr.transition=null;try{Ne=4,oa(n,s,a,c)}finally{Ne=d,gr.transition=g}}function oa(n,s,a,c){if(Gr){var d=Ls(n,s,a,c);if(d===null)dh(n,s,c,qi,a),Dl(n,c);else if(eh(d,n,s,a,c))c.stopPropagation();else if(Dl(n,c),s&4&&-1<Zc.indexOf(n)){for(;d!==null;){var g=Ea(d);if(g!==null&&Pl(g),g=Ls(n,s,a,c),g===null&&dh(n,s,c,qi,a),g===d)break;d=g}d!==null&&c.stopPropagation()}else dh(n,s,c,null,a)}}var qi=null;function Ls(n,s,a,c){if(qi=null,n=Is(c),n=Ki(n),n!==null)if(s=An(n),s===null)n=null;else if(a=s.tag,a===13){if(n=Fi(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return qi=n,null}function aa(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Il()){case ji:return 1;case zr:return 4;case pn:case ra:return 16;case Sl:return 536870912;default:return 16}default:return 16}}var an=null,Vs=null,Kt=null;function la(){if(Kt)return Kt;var n,s=Vs,a=s.length,c,d="value"in an?an.value:an.textContent,g=d.length;for(n=0;n<a&&s[n]===d[n];n++);var E=a-n;for(c=1;c<=E&&s[a-c]===d[g-c];c++);return Kt=d.slice(n,1<c?1-c:void 0)}function bs(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Wn(){return!0}function ua(){return!1}function At(n){function s(a,c,d,g,E){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(a=n[R],this[R]=a?a(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Wn:ua,this.isPropagationStopped=ua,this}return ae(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),s}var Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ms=At(Dn),Kn=ae({},Dn,{view:0,detail:0}),nh=At(Kn),Fs,yr,Qr,Hi=ae({},Kn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Qr&&(Qr&&n.type==="mousemove"?(Fs=n.screenX-Qr.screenX,yr=n.screenY-Qr.screenY):yr=Fs=0,Qr=n),Fs)},movementY:function(n){return"movementY"in n?n.movementY:yr}}),js=At(Hi),ca=ae({},Hi,{dataTransfer:0}),Vl=At(ca),Us=ae({},Kn,{relatedTarget:0}),zs=At(Us),bl=ae({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0}),_r=At(bl),Ml=ae({},Dn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Fl=At(Ml),jl=ae({},Dn,{data:0}),ha=At(jl),Bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$t={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ul={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zl(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Ul[n])?!!s[n]:!1}function Gn(){return zl}var u=ae({},Kn,{key:function(n){if(n.key){var s=Bs[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=bs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$t[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gn,charCode:function(n){return n.type==="keypress"?bs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?bs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),m=At(u),_=ae({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=At(_),U=ae({},Kn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gn}),H=At(U),re=ae({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=At(re),ft=ae({},Hi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Oe=At(ft),Et=[9,13,27,32],at=f&&"CompositionEvent"in window,gn=null;f&&"documentMode"in document&&(gn=document.documentMode);var ln=f&&"TextEvent"in window&&!gn,Wi=f&&(!at||gn&&8<gn&&11>=gn),$s=" ",Ep=!1;function wp(n,s){switch(n){case"keyup":return Et.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var qs=!1;function BE(n,s){switch(n){case"compositionend":return Tp(s);case"keypress":return s.which!==32?null:(Ep=!0,$s);case"textInput":return n=s.data,n===$s&&Ep?null:n;default:return null}}function $E(n,s){if(qs)return n==="compositionend"||!at&&wp(n,s)?(n=la(),Kt=Vs=an=null,qs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Wi&&s.locale!=="ko"?null:s.data;default:return null}}var qE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ip(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!qE[n.type]:s==="textarea"}function Sp(n,s,a,c){$n(c),s=Wl(s,"onChange"),0<s.length&&(a=new Ms("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var da=null,fa=null;function HE(n){Bp(n,0)}function Bl(n){var s=Qs(n);if(_s(s))return n}function WE(n,s){if(n==="change")return s}var Rp=!1;if(f){var rh;if(f){var ih="oninput"in document;if(!ih){var Ap=document.createElement("div");Ap.setAttribute("oninput","return;"),ih=typeof Ap.oninput=="function"}rh=ih}else rh=!1;Rp=rh&&(!document.documentMode||9<document.documentMode)}function Cp(){da&&(da.detachEvent("onpropertychange",Pp),fa=da=null)}function Pp(n){if(n.propertyName==="value"&&Bl(fa)){var s=[];Sp(s,fa,n,Is(n)),Zo(HE,s)}}function KE(n,s,a){n==="focusin"?(Cp(),da=s,fa=a,da.attachEvent("onpropertychange",Pp)):n==="focusout"&&Cp()}function GE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Bl(fa)}function QE(n,s){if(n==="click")return Bl(s)}function YE(n,s){if(n==="input"||n==="change")return Bl(s)}function JE(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var On=typeof Object.is=="function"?Object.is:JE;function pa(n,s){if(On(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!p.call(s,d)||!On(n[d],s[d]))return!1}return!0}function kp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Np(n,s){var a=kp(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kp(a)}}function xp(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?xp(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Dp(){for(var n=window,s=jr();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=jr(n.document)}return s}function sh(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function XE(n){var s=Dp(),a=n.focusedElem,c=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&xp(a.ownerDocument.documentElement,a)){if(c!==null&&sh(a)){if(s=c.start,n=c.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!n.extend&&g>c&&(d=c,c=g,g=d),d=Np(a,g);var E=Np(a,c);d&&E&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==E.node||n.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),n.removeAllRanges(),g>c?(n.addRange(s),n.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var ZE=f&&"documentMode"in document&&11>=document.documentMode,Hs=null,oh=null,ma=null,ah=!1;function Op(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ah||Hs==null||Hs!==jr(c)||(c=Hs,"selectionStart"in c&&sh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ma&&pa(ma,c)||(ma=c,c=Wl(oh,"onSelect"),0<c.length&&(s=new Ms("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=Hs)))}function $l(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Ws={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionend:$l("Transition","TransitionEnd")},lh={},Lp={};f&&(Lp=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function ql(n){if(lh[n])return lh[n];if(!Ws[n])return n;var s=Ws[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Lp)return lh[n]=s[a];return n}var Vp=ql("animationend"),bp=ql("animationiteration"),Mp=ql("animationstart"),Fp=ql("transitionend"),jp=new Map,Up="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(n,s){jp.set(n,s),l(s,[n])}for(var uh=0;uh<Up.length;uh++){var ch=Up[uh],e0=ch.toLowerCase(),t0=ch[0].toUpperCase()+ch.slice(1);Yr(e0,"on"+t0)}Yr(Vp,"onAnimationEnd"),Yr(bp,"onAnimationIteration"),Yr(Mp,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(Fp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ga));function zp(n,s,a){var c=n.type||"unknown-event";n.currentTarget=a,El(c,s,void 0,n),n.currentTarget=null}function Bp(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var E=c.length-1;0<=E;E--){var R=c[E],D=R.instance,q=R.currentTarget;if(R=R.listener,D!==g&&d.isPropagationStopped())break e;zp(d,R,q),g=D}else for(E=0;E<c.length;E++){if(R=c[E],D=R.instance,q=R.currentTarget,R=R.listener,D!==g&&d.isPropagationStopped())break e;zp(d,R,q),g=D}}}if(Rn)throw n=ea,Rn=!1,ea=null,n}function Ke(n,s){var a=s[_h];a===void 0&&(a=s[_h]=new Set);var c=n+"__bubble";a.has(c)||($p(s,n,2,!1),a.add(c))}function hh(n,s,a){var c=0;s&&(c|=4),$p(a,n,c,s)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function ya(n){if(!n[Hl]){n[Hl]=!0,i.forEach(function(a){a!=="selectionchange"&&(n0.has(a)||hh(a,!1,n),hh(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Hl]||(s[Hl]=!0,hh("selectionchange",!1,s))}}function $p(n,s,a,c){switch(aa(s)){case 1:var d=Ye;break;case 4:d=th;break;default:d=oa}a=d.bind(null,s,a,n),d=void 0,!As||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(s,a,{capture:!0,passive:d}):n.addEventListener(s,a,!0):d!==void 0?n.addEventListener(s,a,{passive:d}):n.addEventListener(s,a,!1)}function dh(n,s,a,c,d){var g=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var R=c.stateNode.containerInfo;if(R===d||R.nodeType===8&&R.parentNode===d)break;if(E===4)for(E=c.return;E!==null;){var D=E.tag;if((D===3||D===4)&&(D=E.stateNode.containerInfo,D===d||D.nodeType===8&&D.parentNode===d))return;E=E.return}for(;R!==null;){if(E=Ki(R),E===null)return;if(D=E.tag,D===5||D===6){c=g=E;continue e}R=R.parentNode}}c=c.return}Zo(function(){var q=g,Z=Is(a),ee=[];e:{var X=jp.get(n);if(X!==void 0){var oe=Ms,ce=n;switch(n){case"keypress":if(bs(a)===0)break e;case"keydown":case"keyup":oe=m;break;case"focusin":ce="focus",oe=zs;break;case"focusout":ce="blur",oe=zs;break;case"beforeblur":case"afterblur":oe=zs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=js;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Vl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=H;break;case Vp:case bp:case Mp:oe=_r;break;case Fp:oe=ze;break;case"scroll":oe=nh;break;case"wheel":oe=Oe;break;case"copy":case"cut":case"paste":oe=Fl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=T}var de=(s&4)!==0,st=!de&&n==="scroll",z=de?X!==null?X+"Capture":null:X;de=[];for(var L=q,B;L!==null;){B=L;var ne=B.stateNode;if(B.tag===5&&ne!==null&&(B=ne,z!==null&&(ne=it(L,z),ne!=null&&de.push(_a(L,ne,B)))),st)break;L=L.return}0<de.length&&(X=new oe(X,ce,null,a,Z),ee.push({event:X,listeners:de}))}}if(!(s&7)){e:{if(X=n==="mouseover"||n==="pointerover",oe=n==="mouseout"||n==="pointerout",X&&a!==Li&&(ce=a.relatedTarget||a.fromElement)&&(Ki(ce)||ce[vr]))break e;if((oe||X)&&(X=Z.window===Z?Z:(X=Z.ownerDocument)?X.defaultView||X.parentWindow:window,oe?(ce=a.relatedTarget||a.toElement,oe=q,ce=ce?Ki(ce):null,ce!==null&&(st=An(ce),ce!==st||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(oe=null,ce=q),oe!==ce)){if(de=js,ne="onMouseLeave",z="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(de=T,ne="onPointerLeave",z="onPointerEnter",L="pointer"),st=oe==null?X:Qs(oe),B=ce==null?X:Qs(ce),X=new de(ne,L+"leave",oe,a,Z),X.target=st,X.relatedTarget=B,ne=null,Ki(Z)===q&&(de=new de(z,L+"enter",ce,a,Z),de.target=B,de.relatedTarget=st,ne=de),st=ne,oe&&ce)t:{for(de=oe,z=ce,L=0,B=de;B;B=Ks(B))L++;for(B=0,ne=z;ne;ne=Ks(ne))B++;for(;0<L-B;)de=Ks(de),L--;for(;0<B-L;)z=Ks(z),B--;for(;L--;){if(de===z||z!==null&&de===z.alternate)break t;de=Ks(de),z=Ks(z)}de=null}else de=null;oe!==null&&qp(ee,X,oe,de,!1),ce!==null&&st!==null&&qp(ee,st,ce,de,!0)}}e:{if(X=q?Qs(q):window,oe=X.nodeName&&X.nodeName.toLowerCase(),oe==="select"||oe==="input"&&X.type==="file")var pe=WE;else if(Ip(X))if(Rp)pe=YE;else{pe=GE;var _e=KE}else(oe=X.nodeName)&&oe.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(pe=QE);if(pe&&(pe=pe(n,q))){Sp(ee,pe,a,Z);break e}_e&&_e(n,X,q),n==="focusout"&&(_e=X._wrapperState)&&_e.controlled&&X.type==="number"&&Es(X,"number",X.value)}switch(_e=q?Qs(q):window,n){case"focusin":(Ip(_e)||_e.contentEditable==="true")&&(Hs=_e,oh=q,ma=null);break;case"focusout":ma=oh=Hs=null;break;case"mousedown":ah=!0;break;case"contextmenu":case"mouseup":case"dragend":ah=!1,Op(ee,a,Z);break;case"selectionchange":if(ZE)break;case"keydown":case"keyup":Op(ee,a,Z)}var ve;if(at)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else qs?wp(n,a)&&(we="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(Wi&&a.locale!=="ko"&&(qs||we!=="onCompositionStart"?we==="onCompositionEnd"&&qs&&(ve=la()):(an=Z,Vs="value"in an?an.value:an.textContent,qs=!0)),_e=Wl(q,we),0<_e.length&&(we=new ha(we,n,null,a,Z),ee.push({event:we,listeners:_e}),ve?we.data=ve:(ve=Tp(a),ve!==null&&(we.data=ve)))),(ve=ln?BE(n,a):$E(n,a))&&(q=Wl(q,"onBeforeInput"),0<q.length&&(Z=new ha("onBeforeInput","beforeinput",null,a,Z),ee.push({event:Z,listeners:q}),Z.data=ve))}Bp(ee,s)})}function _a(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Wl(n,s){for(var a=s+"Capture",c=[];n!==null;){var d=n,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=it(n,a),g!=null&&c.unshift(_a(n,g,d)),g=it(n,s),g!=null&&c.push(_a(n,g,d))),n=n.return}return c}function Ks(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function qp(n,s,a,c,d){for(var g=s._reactName,E=[];a!==null&&a!==c;){var R=a,D=R.alternate,q=R.stateNode;if(D!==null&&D===c)break;R.tag===5&&q!==null&&(R=q,d?(D=it(a,g),D!=null&&E.unshift(_a(a,D,R))):d||(D=it(a,g),D!=null&&E.push(_a(a,D,R)))),a=a.return}E.length!==0&&n.push({event:s,listeners:E})}var r0=/\r\n?/g,i0=/\u0000|\uFFFD/g;function Hp(n){return(typeof n=="string"?n:""+n).replace(r0,`
`).replace(i0,"")}function Kl(n,s,a){if(s=Hp(s),Hp(n)!==s&&a)throw Error(t(425))}function Gl(){}var fh=null,ph=null;function mh(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var gh=typeof setTimeout=="function"?setTimeout:void 0,s0=typeof clearTimeout=="function"?clearTimeout:void 0,Wp=typeof Promise=="function"?Promise:void 0,o0=typeof queueMicrotask=="function"?queueMicrotask:typeof Wp<"u"?function(n){return Wp.resolve(null).then(n).catch(a0)}:gh;function a0(n){setTimeout(function(){throw n})}function yh(n,s){var a=s,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),xn(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);xn(s)}function Jr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Kp(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),Qn="__reactFiber$"+Gs,va="__reactProps$"+Gs,vr="__reactContainer$"+Gs,_h="__reactEvents$"+Gs,l0="__reactListeners$"+Gs,u0="__reactHandles$"+Gs;function Ki(n){var s=n[Qn];if(s)return s;for(var a=n.parentNode;a;){if(s=a[vr]||a[Qn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Kp(n);n!==null;){if(a=n[Qn])return a;n=Kp(n)}return s}n=a,a=n.parentNode}return null}function Ea(n){return n=n[Qn]||n[vr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Qs(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Ql(n){return n[va]||null}var vh=[],Ys=-1;function Xr(n){return{current:n}}function Ge(n){0>Ys||(n.current=vh[Ys],vh[Ys]=null,Ys--)}function We(n,s){Ys++,vh[Ys]=n.current,n.current=s}var Zr={},Lt=Xr(Zr),Gt=Xr(!1),Gi=Zr;function Js(n,s){var a=n.type.contextTypes;if(!a)return Zr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=s[g];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=d),d}function Qt(n){return n=n.childContextTypes,n!=null}function Yl(){Ge(Gt),Ge(Lt)}function Gp(n,s,a){if(Lt.current!==Zr)throw Error(t(168));We(Lt,s),We(Gt,a)}function Qp(n,s,a){var c=n.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(t(108,Me(n)||"Unknown",d));return ae({},a,c)}function Jl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Zr,Gi=Lt.current,We(Lt,n),We(Gt,Gt.current),!0}function Yp(n,s,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Qp(n,s,Gi),c.__reactInternalMemoizedMergedChildContext=n,Ge(Gt),Ge(Lt),We(Lt,n)):Ge(Gt),We(Gt,a)}var Er=null,Xl=!1,Eh=!1;function Jp(n){Er===null?Er=[n]:Er.push(n)}function c0(n){Xl=!0,Jp(n)}function ei(){if(!Eh&&Er!==null){Eh=!0;var n=0,s=Ne;try{var a=Er;for(Ne=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Er=null,Xl=!1}catch(d){throw Er!==null&&(Er=Er.slice(n+1)),Ns(ji,ei),d}finally{Ne=s,Eh=!1}}return null}var Xs=[],Zs=0,Zl=null,eu=0,yn=[],_n=0,Qi=null,wr=1,Tr="";function Yi(n,s){Xs[Zs++]=eu,Xs[Zs++]=Zl,Zl=n,eu=s}function Xp(n,s,a){yn[_n++]=wr,yn[_n++]=Tr,yn[_n++]=Qi,Qi=n;var c=wr;n=Tr;var d=32-Bt(c)-1;c&=~(1<<d),a+=1;var g=32-Bt(s)+d;if(30<g){var E=d-d%5;g=(c&(1<<E)-1).toString(32),c>>=E,d-=E,wr=1<<32-Bt(s)+d|a<<d|c,Tr=g+n}else wr=1<<g|a<<d|c,Tr=n}function wh(n){n.return!==null&&(Yi(n,1),Xp(n,1,0))}function Th(n){for(;n===Zl;)Zl=Xs[--Zs],Xs[Zs]=null,eu=Xs[--Zs],Xs[Zs]=null;for(;n===Qi;)Qi=yn[--_n],yn[_n]=null,Tr=yn[--_n],yn[_n]=null,wr=yn[--_n],yn[_n]=null}var un=null,cn=null,Je=!1,Ln=null;function Zp(n,s){var a=Tn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function em(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,un=n,cn=Jr(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,un=n,cn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Qi!==null?{id:wr,overflow:Tr}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Tn(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,un=n,cn=null,!0):!1;default:return!1}}function Ih(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Sh(n){if(Je){var s=cn;if(s){var a=s;if(!em(n,s)){if(Ih(n))throw Error(t(418));s=Jr(a.nextSibling);var c=un;s&&em(n,s)?Zp(c,a):(n.flags=n.flags&-4097|2,Je=!1,un=n)}}else{if(Ih(n))throw Error(t(418));n.flags=n.flags&-4097|2,Je=!1,un=n}}}function tm(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;un=n}function tu(n){if(n!==un)return!1;if(!Je)return tm(n),Je=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!mh(n.type,n.memoizedProps)),s&&(s=cn)){if(Ih(n))throw nm(),Error(t(418));for(;s;)Zp(n,s),s=Jr(s.nextSibling)}if(tm(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){cn=Jr(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}cn=null}}else cn=un?Jr(n.stateNode.nextSibling):null;return!0}function nm(){for(var n=cn;n;)n=Jr(n.nextSibling)}function eo(){cn=un=null,Je=!1}function Rh(n){Ln===null?Ln=[n]:Ln.push(n)}var h0=se.ReactCurrentBatchConfig;function wa(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,g=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(E){var R=d.refs;E===null?delete R[g]:R[g]=E},s._stringRef=g,s)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function nu(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function rm(n){var s=n._init;return s(n._payload)}function im(n){function s(z,L){if(n){var B=z.deletions;B===null?(z.deletions=[L],z.flags|=16):B.push(L)}}function a(z,L){if(!n)return null;for(;L!==null;)s(z,L),L=L.sibling;return null}function c(z,L){for(z=new Map;L!==null;)L.key!==null?z.set(L.key,L):z.set(L.index,L),L=L.sibling;return z}function d(z,L){return z=li(z,L),z.index=0,z.sibling=null,z}function g(z,L,B){return z.index=B,n?(B=z.alternate,B!==null?(B=B.index,B<L?(z.flags|=2,L):B):(z.flags|=2,L)):(z.flags|=1048576,L)}function E(z){return n&&z.alternate===null&&(z.flags|=2),z}function R(z,L,B,ne){return L===null||L.tag!==6?(L=gd(B,z.mode,ne),L.return=z,L):(L=d(L,B),L.return=z,L)}function D(z,L,B,ne){var pe=B.type;return pe===x?Z(z,L,B.props.children,ne,B.key):L!==null&&(L.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Ot&&rm(pe)===L.type)?(ne=d(L,B.props),ne.ref=wa(z,L,B),ne.return=z,ne):(ne=Au(B.type,B.key,B.props,null,z.mode,ne),ne.ref=wa(z,L,B),ne.return=z,ne)}function q(z,L,B,ne){return L===null||L.tag!==4||L.stateNode.containerInfo!==B.containerInfo||L.stateNode.implementation!==B.implementation?(L=yd(B,z.mode,ne),L.return=z,L):(L=d(L,B.children||[]),L.return=z,L)}function Z(z,L,B,ne,pe){return L===null||L.tag!==7?(L=is(B,z.mode,ne,pe),L.return=z,L):(L=d(L,B),L.return=z,L)}function ee(z,L,B){if(typeof L=="string"&&L!==""||typeof L=="number")return L=gd(""+L,z.mode,B),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:return B=Au(L.type,L.key,L.props,null,z.mode,B),B.ref=wa(z,null,L),B.return=z,B;case fe:return L=yd(L,z.mode,B),L.return=z,L;case Ot:var ne=L._init;return ee(z,ne(L._payload),B)}if(cr(L)||ye(L))return L=is(L,z.mode,B,null),L.return=z,L;nu(z,L)}return null}function X(z,L,B,ne){var pe=L!==null?L.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return pe!==null?null:R(z,L,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Q:return B.key===pe?D(z,L,B,ne):null;case fe:return B.key===pe?q(z,L,B,ne):null;case Ot:return pe=B._init,X(z,L,pe(B._payload),ne)}if(cr(B)||ye(B))return pe!==null?null:Z(z,L,B,ne,null);nu(z,B)}return null}function oe(z,L,B,ne,pe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return z=z.get(B)||null,R(L,z,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case Q:return z=z.get(ne.key===null?B:ne.key)||null,D(L,z,ne,pe);case fe:return z=z.get(ne.key===null?B:ne.key)||null,q(L,z,ne,pe);case Ot:var _e=ne._init;return oe(z,L,B,_e(ne._payload),pe)}if(cr(ne)||ye(ne))return z=z.get(B)||null,Z(L,z,ne,pe,null);nu(L,ne)}return null}function ce(z,L,B,ne){for(var pe=null,_e=null,ve=L,we=L=0,It=null;ve!==null&&we<B.length;we++){ve.index>we?(It=ve,ve=null):It=ve.sibling;var be=X(z,ve,B[we],ne);if(be===null){ve===null&&(ve=It);break}n&&ve&&be.alternate===null&&s(z,ve),L=g(be,L,we),_e===null?pe=be:_e.sibling=be,_e=be,ve=It}if(we===B.length)return a(z,ve),Je&&Yi(z,we),pe;if(ve===null){for(;we<B.length;we++)ve=ee(z,B[we],ne),ve!==null&&(L=g(ve,L,we),_e===null?pe=ve:_e.sibling=ve,_e=ve);return Je&&Yi(z,we),pe}for(ve=c(z,ve);we<B.length;we++)It=oe(ve,z,we,B[we],ne),It!==null&&(n&&It.alternate!==null&&ve.delete(It.key===null?we:It.key),L=g(It,L,we),_e===null?pe=It:_e.sibling=It,_e=It);return n&&ve.forEach(function(ui){return s(z,ui)}),Je&&Yi(z,we),pe}function de(z,L,B,ne){var pe=ye(B);if(typeof pe!="function")throw Error(t(150));if(B=pe.call(B),B==null)throw Error(t(151));for(var _e=pe=null,ve=L,we=L=0,It=null,be=B.next();ve!==null&&!be.done;we++,be=B.next()){ve.index>we?(It=ve,ve=null):It=ve.sibling;var ui=X(z,ve,be.value,ne);if(ui===null){ve===null&&(ve=It);break}n&&ve&&ui.alternate===null&&s(z,ve),L=g(ui,L,we),_e===null?pe=ui:_e.sibling=ui,_e=ui,ve=It}if(be.done)return a(z,ve),Je&&Yi(z,we),pe;if(ve===null){for(;!be.done;we++,be=B.next())be=ee(z,be.value,ne),be!==null&&(L=g(be,L,we),_e===null?pe=be:_e.sibling=be,_e=be);return Je&&Yi(z,we),pe}for(ve=c(z,ve);!be.done;we++,be=B.next())be=oe(ve,z,we,be.value,ne),be!==null&&(n&&be.alternate!==null&&ve.delete(be.key===null?we:be.key),L=g(be,L,we),_e===null?pe=be:_e.sibling=be,_e=be);return n&&ve.forEach(function(q0){return s(z,q0)}),Je&&Yi(z,we),pe}function st(z,L,B,ne){if(typeof B=="object"&&B!==null&&B.type===x&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case Q:e:{for(var pe=B.key,_e=L;_e!==null;){if(_e.key===pe){if(pe=B.type,pe===x){if(_e.tag===7){a(z,_e.sibling),L=d(_e,B.props.children),L.return=z,z=L;break e}}else if(_e.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Ot&&rm(pe)===_e.type){a(z,_e.sibling),L=d(_e,B.props),L.ref=wa(z,_e,B),L.return=z,z=L;break e}a(z,_e);break}else s(z,_e);_e=_e.sibling}B.type===x?(L=is(B.props.children,z.mode,ne,B.key),L.return=z,z=L):(ne=Au(B.type,B.key,B.props,null,z.mode,ne),ne.ref=wa(z,L,B),ne.return=z,z=ne)}return E(z);case fe:e:{for(_e=B.key;L!==null;){if(L.key===_e)if(L.tag===4&&L.stateNode.containerInfo===B.containerInfo&&L.stateNode.implementation===B.implementation){a(z,L.sibling),L=d(L,B.children||[]),L.return=z,z=L;break e}else{a(z,L);break}else s(z,L);L=L.sibling}L=yd(B,z.mode,ne),L.return=z,z=L}return E(z);case Ot:return _e=B._init,st(z,L,_e(B._payload),ne)}if(cr(B))return ce(z,L,B,ne);if(ye(B))return de(z,L,B,ne);nu(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,L!==null&&L.tag===6?(a(z,L.sibling),L=d(L,B),L.return=z,z=L):(a(z,L),L=gd(B,z.mode,ne),L.return=z,z=L),E(z)):a(z,L)}return st}var to=im(!0),sm=im(!1),ru=Xr(null),iu=null,no=null,Ah=null;function Ch(){Ah=no=iu=null}function Ph(n){var s=ru.current;Ge(ru),n._currentValue=s}function kh(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function ro(n,s){iu=n,Ah=no=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&s&&(Yt=!0),n.firstContext=null)}function vn(n){var s=n._currentValue;if(Ah!==n)if(n={context:n,memoizedValue:s,next:null},no===null){if(iu===null)throw Error(t(308));no=n,iu.dependencies={lanes:0,firstContext:n}}else no=no.next=n;return s}var Ji=null;function Nh(n){Ji===null?Ji=[n]:Ji.push(n)}function om(n,s,a,c){var d=s.interleaved;return d===null?(a.next=a,Nh(s)):(a.next=d.next,d.next=a),s.interleaved=a,Ir(n,c)}function Ir(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var ti=!1;function xh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function am(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Sr(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function ni(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,Ve&2){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,Ir(n,a)}return d=c.interleaved,d===null?(s.next=s,Nh(c)):(s.next=d.next,d.next=s),c.interleaved=s,Ir(n,a)}function su(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,Hr(n,a)}}function lm(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=E:g=g.next=E,a=a.next}while(a!==null);g===null?d=g=s:g=g.next=s}else d=g=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function ou(n,s,a,c){var d=n.updateQueue;ti=!1;var g=d.firstBaseUpdate,E=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var D=R,q=D.next;D.next=null,E===null?g=q:E.next=q,E=D;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,R=Z.lastBaseUpdate,R!==E&&(R===null?Z.firstBaseUpdate=q:R.next=q,Z.lastBaseUpdate=D))}if(g!==null){var ee=d.baseState;E=0,Z=q=D=null,R=g;do{var X=R.lane,oe=R.eventTime;if((c&X)===X){Z!==null&&(Z=Z.next={eventTime:oe,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var ce=n,de=R;switch(X=s,oe=a,de.tag){case 1:if(ce=de.payload,typeof ce=="function"){ee=ce.call(oe,ee,X);break e}ee=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=de.payload,X=typeof ce=="function"?ce.call(oe,ee,X):ce,X==null)break e;ee=ae({},ee,X);break e;case 2:ti=!0}}R.callback!==null&&R.lane!==0&&(n.flags|=64,X=d.effects,X===null?d.effects=[R]:X.push(R))}else oe={eventTime:oe,lane:X,tag:R.tag,payload:R.payload,callback:R.callback,next:null},Z===null?(q=Z=oe,D=ee):Z=Z.next=oe,E|=X;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;X=R,R=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);if(Z===null&&(D=ee),d.baseState=D,d.firstBaseUpdate=q,d.lastBaseUpdate=Z,s=d.shared.interleaved,s!==null){d=s;do E|=d.lane,d=d.next;while(d!==s)}else g===null&&(d.shared.lanes=0);es|=E,n.lanes=E,n.memoizedState=ee}}function um(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var c=n[s],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Ta={},Yn=Xr(Ta),Ia=Xr(Ta),Sa=Xr(Ta);function Xi(n){if(n===Ta)throw Error(t(174));return n}function Dh(n,s){switch(We(Sa,s),We(Ia,n),We(Yn,Ta),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:dt(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=dt(s,n)}Ge(Yn),We(Yn,s)}function io(){Ge(Yn),Ge(Ia),Ge(Sa)}function cm(n){Xi(Sa.current);var s=Xi(Yn.current),a=dt(s,n.type);s!==a&&(We(Ia,n),We(Yn,a))}function Oh(n){Ia.current===n&&(Ge(Yn),Ge(Ia))}var Ze=Xr(0);function au(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Lh=[];function Vh(){for(var n=0;n<Lh.length;n++)Lh[n]._workInProgressVersionPrimary=null;Lh.length=0}var lu=se.ReactCurrentDispatcher,bh=se.ReactCurrentBatchConfig,Zi=0,et=null,pt=null,wt=null,uu=!1,Ra=!1,Aa=0,d0=0;function Vt(){throw Error(t(321))}function Mh(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!On(n[a],s[a]))return!1;return!0}function Fh(n,s,a,c,d,g){if(Zi=g,et=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,lu.current=n===null||n.memoizedState===null?g0:y0,n=a(c,d),Ra){g=0;do{if(Ra=!1,Aa=0,25<=g)throw Error(t(301));g+=1,wt=pt=null,s.updateQueue=null,lu.current=_0,n=a(c,d)}while(Ra)}if(lu.current=du,s=pt!==null&&pt.next!==null,Zi=0,wt=pt=et=null,uu=!1,s)throw Error(t(300));return n}function jh(){var n=Aa!==0;return Aa=0,n}function Jn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?et.memoizedState=wt=n:wt=wt.next=n,wt}function En(){if(pt===null){var n=et.alternate;n=n!==null?n.memoizedState:null}else n=pt.next;var s=wt===null?et.memoizedState:wt.next;if(s!==null)wt=s,pt=n;else{if(n===null)throw Error(t(310));pt=n,n={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},wt===null?et.memoizedState=wt=n:wt=wt.next=n}return wt}function Ca(n,s){return typeof s=="function"?s(n):s}function Uh(n){var s=En(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=pt,d=c.baseQueue,g=a.pending;if(g!==null){if(d!==null){var E=d.next;d.next=g.next,g.next=E}c.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,c=c.baseState;var R=E=null,D=null,q=g;do{var Z=q.lane;if((Zi&Z)===Z)D!==null&&(D=D.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),c=q.hasEagerState?q.eagerState:n(c,q.action);else{var ee={lane:Z,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};D===null?(R=D=ee,E=c):D=D.next=ee,et.lanes|=Z,es|=Z}q=q.next}while(q!==null&&q!==g);D===null?E=c:D.next=R,On(c,s.memoizedState)||(Yt=!0),s.memoizedState=c,s.baseState=E,s.baseQueue=D,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do g=d.lane,et.lanes|=g,es|=g,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function zh(n){var s=En(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,g=s.memoizedState;if(d!==null){a.pending=null;var E=d=d.next;do g=n(g,E.action),E=E.next;while(E!==d);On(g,s.memoizedState)||(Yt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function hm(){}function dm(n,s){var a=et,c=En(),d=s(),g=!On(c.memoizedState,d);if(g&&(c.memoizedState=d,Yt=!0),c=c.queue,Bh(mm.bind(null,a,c,n),[n]),c.getSnapshot!==s||g||wt!==null&&wt.memoizedState.tag&1){if(a.flags|=2048,Pa(9,pm.bind(null,a,c,d,s),void 0,null),Tt===null)throw Error(t(349));Zi&30||fm(a,s,d)}return d}function fm(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=et.updateQueue,s===null?(s={lastEffect:null,stores:null},et.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function pm(n,s,a,c){s.value=a,s.getSnapshot=c,gm(s)&&ym(n)}function mm(n,s,a){return a(function(){gm(s)&&ym(n)})}function gm(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!On(n,a)}catch{return!0}}function ym(n){var s=Ir(n,1);s!==null&&Fn(s,n,1,-1)}function _m(n){var s=Jn();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:n},s.queue=n,n=n.dispatch=m0.bind(null,et,n),[s.memoizedState,n]}function Pa(n,s,a,c){return n={tag:n,create:s,destroy:a,deps:c,next:null},s=et.updateQueue,s===null?(s={lastEffect:null,stores:null},et.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n)),n}function vm(){return En().memoizedState}function cu(n,s,a,c){var d=Jn();et.flags|=n,d.memoizedState=Pa(1|s,a,void 0,c===void 0?null:c)}function hu(n,s,a,c){var d=En();c=c===void 0?null:c;var g=void 0;if(pt!==null){var E=pt.memoizedState;if(g=E.destroy,c!==null&&Mh(c,E.deps)){d.memoizedState=Pa(s,a,g,c);return}}et.flags|=n,d.memoizedState=Pa(1|s,a,g,c)}function Em(n,s){return cu(8390656,8,n,s)}function Bh(n,s){return hu(2048,8,n,s)}function wm(n,s){return hu(4,2,n,s)}function Tm(n,s){return hu(4,4,n,s)}function Im(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Sm(n,s,a){return a=a!=null?a.concat([n]):null,hu(4,4,Im.bind(null,s,n),a)}function $h(){}function Rm(n,s){var a=En();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Mh(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function Am(n,s){var a=En();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Mh(s,c[1])?c[0]:(n=n(),a.memoizedState=[n,s],n)}function Cm(n,s,a){return Zi&21?(On(a,s)||(a=Bi(),et.lanes|=a,es|=a,n.baseState=!0),s):(n.baseState&&(n.baseState=!1,Yt=!0),n.memoizedState=a)}function f0(n,s){var a=Ne;Ne=a!==0&&4>a?a:4,n(!0);var c=bh.transition;bh.transition={};try{n(!1),s()}finally{Ne=a,bh.transition=c}}function Pm(){return En().memoizedState}function p0(n,s,a){var c=oi(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},km(n))Nm(s,a);else if(a=om(n,s,a,c),a!==null){var d=Ht();Fn(a,n,c,d),xm(a,s,c)}}function m0(n,s,a){var c=oi(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(km(n))Nm(s,d);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,R=g(E,a);if(d.hasEagerState=!0,d.eagerState=R,On(R,E)){var D=s.interleaved;D===null?(d.next=d,Nh(s)):(d.next=D.next,D.next=d),s.interleaved=d;return}}catch{}finally{}a=om(n,s,d,c),a!==null&&(d=Ht(),Fn(a,n,c,d),xm(a,s,c))}}function km(n){var s=n.alternate;return n===et||s!==null&&s===et}function Nm(n,s){Ra=uu=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function xm(n,s,a){if(a&4194240){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,Hr(n,a)}}var du={readContext:vn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},g0={readContext:vn,useCallback:function(n,s){return Jn().memoizedState=[n,s===void 0?null:s],n},useContext:vn,useEffect:Em,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,cu(4194308,4,Im.bind(null,s,n),a)},useLayoutEffect:function(n,s){return cu(4194308,4,n,s)},useInsertionEffect:function(n,s){return cu(4,2,n,s)},useMemo:function(n,s){var a=Jn();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var c=Jn();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},c.queue=n,n=n.dispatch=p0.bind(null,et,n),[c.memoizedState,n]},useRef:function(n){var s=Jn();return n={current:n},s.memoizedState=n},useState:_m,useDebugValue:$h,useDeferredValue:function(n){return Jn().memoizedState=n},useTransition:function(){var n=_m(!1),s=n[0];return n=f0.bind(null,n[1]),Jn().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var c=et,d=Jn();if(Je){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Tt===null)throw Error(t(349));Zi&30||fm(c,s,a)}d.memoizedState=a;var g={value:a,getSnapshot:s};return d.queue=g,Em(mm.bind(null,c,g,n),[n]),c.flags|=2048,Pa(9,pm.bind(null,c,g,a,s),void 0,null),a},useId:function(){var n=Jn(),s=Tt.identifierPrefix;if(Je){var a=Tr,c=wr;a=(c&~(1<<32-Bt(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Aa++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=d0++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},y0={readContext:vn,useCallback:Rm,useContext:vn,useEffect:Bh,useImperativeHandle:Sm,useInsertionEffect:wm,useLayoutEffect:Tm,useMemo:Am,useReducer:Uh,useRef:vm,useState:function(){return Uh(Ca)},useDebugValue:$h,useDeferredValue:function(n){var s=En();return Cm(s,pt.memoizedState,n)},useTransition:function(){var n=Uh(Ca)[0],s=En().memoizedState;return[n,s]},useMutableSource:hm,useSyncExternalStore:dm,useId:Pm,unstable_isNewReconciler:!1},_0={readContext:vn,useCallback:Rm,useContext:vn,useEffect:Bh,useImperativeHandle:Sm,useInsertionEffect:wm,useLayoutEffect:Tm,useMemo:Am,useReducer:zh,useRef:vm,useState:function(){return zh(Ca)},useDebugValue:$h,useDeferredValue:function(n){var s=En();return pt===null?s.memoizedState=n:Cm(s,pt.memoizedState,n)},useTransition:function(){var n=zh(Ca)[0],s=En().memoizedState;return[n,s]},useMutableSource:hm,useSyncExternalStore:dm,useId:Pm,unstable_isNewReconciler:!1};function Vn(n,s){if(n&&n.defaultProps){s=ae({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}function qh(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:ae({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var fu={isMounted:function(n){return(n=n._reactInternals)?An(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var c=Ht(),d=oi(n),g=Sr(c,d);g.payload=s,a!=null&&(g.callback=a),s=ni(n,g,d),s!==null&&(Fn(s,n,d,c),su(s,n,d))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=Ht(),d=oi(n),g=Sr(c,d);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=ni(n,g,d),s!==null&&(Fn(s,n,d,c),su(s,n,d))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Ht(),c=oi(n),d=Sr(a,c);d.tag=2,s!=null&&(d.callback=s),s=ni(n,d,c),s!==null&&(Fn(s,n,c,a),su(s,n,c))}};function Dm(n,s,a,c,d,g,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,E):s.prototype&&s.prototype.isPureReactComponent?!pa(a,c)||!pa(d,g):!0}function Om(n,s,a){var c=!1,d=Zr,g=s.contextType;return typeof g=="object"&&g!==null?g=vn(g):(d=Qt(s)?Gi:Lt.current,c=s.contextTypes,g=(c=c!=null)?Js(n,d):Zr),s=new s(a,g),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=fu,n.stateNode=s,s._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=g),s}function Lm(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&fu.enqueueReplaceState(s,s.state,null)}function Hh(n,s,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},xh(n);var g=s.contextType;typeof g=="object"&&g!==null?d.context=vn(g):(g=Qt(s)?Gi:Lt.current,d.context=Js(n,g)),d.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(qh(n,s,g,a),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&fu.enqueueReplaceState(d,d.state,null),ou(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function so(n,s){try{var a="",c=s;do a+=Ae(c),c=c.return;while(c);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:s,stack:d,digest:null}}function Wh(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function Kh(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var v0=typeof WeakMap=="function"?WeakMap:Map;function Vm(n,s,a){a=Sr(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){Eu||(Eu=!0,ld=c),Kh(n,s)},a}function bm(n,s,a){a=Sr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;a.payload=function(){return c(d)},a.callback=function(){Kh(n,s)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Kh(n,s),typeof c!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),a}function Mm(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new v0;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(d.add(a),n=O0.bind(null,n,s,a),s.then(n,n))}function Fm(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function jm(n,s,a,c,d){return n.mode&1?(n.flags|=65536,n.lanes=d,n):(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Sr(-1,1),s.tag=2,ni(a,s,1))),a.lanes|=1),n)}var E0=se.ReactCurrentOwner,Yt=!1;function qt(n,s,a,c){s.child=n===null?sm(s,null,a,c):to(s,n.child,a,c)}function Um(n,s,a,c,d){a=a.render;var g=s.ref;return ro(s,d),c=Fh(n,s,a,c,g,d),a=jh(),n!==null&&!Yt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,Rr(n,s,d)):(Je&&a&&wh(s),s.flags|=1,qt(n,s,c,d),s.child)}function zm(n,s,a,c,d){if(n===null){var g=a.type;return typeof g=="function"&&!md(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Bm(n,s,g,c,d)):(n=Au(a.type,null,c,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,!(n.lanes&d)){var E=g.memoizedProps;if(a=a.compare,a=a!==null?a:pa,a(E,c)&&n.ref===s.ref)return Rr(n,s,d)}return s.flags|=1,n=li(g,c),n.ref=s.ref,n.return=s,s.child=n}function Bm(n,s,a,c,d){if(n!==null){var g=n.memoizedProps;if(pa(g,c)&&n.ref===s.ref)if(Yt=!1,s.pendingProps=c=g,(n.lanes&d)!==0)n.flags&131072&&(Yt=!0);else return s.lanes=n.lanes,Rr(n,s,d)}return Gh(n,s,a,c,d)}function $m(n,s,a){var c=s.pendingProps,d=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(ao,hn),hn|=a;else{if(!(a&1073741824))return n=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,We(ao,hn),hn|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,We(ao,hn),hn|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,We(ao,hn),hn|=c;return qt(n,s,d,a),s.child}function qm(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Gh(n,s,a,c,d){var g=Qt(a)?Gi:Lt.current;return g=Js(s,g),ro(s,d),a=Fh(n,s,a,c,g,d),c=jh(),n!==null&&!Yt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,Rr(n,s,d)):(Je&&c&&wh(s),s.flags|=1,qt(n,s,a,d),s.child)}function Hm(n,s,a,c,d){if(Qt(a)){var g=!0;Jl(s)}else g=!1;if(ro(s,d),s.stateNode===null)mu(n,s),Om(s,a,c),Hh(s,a,c,d),c=!0;else if(n===null){var E=s.stateNode,R=s.memoizedProps;E.props=R;var D=E.context,q=a.contextType;typeof q=="object"&&q!==null?q=vn(q):(q=Qt(a)?Gi:Lt.current,q=Js(s,q));var Z=a.getDerivedStateFromProps,ee=typeof Z=="function"||typeof E.getSnapshotBeforeUpdate=="function";ee||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==c||D!==q)&&Lm(s,E,c,q),ti=!1;var X=s.memoizedState;E.state=X,ou(s,c,E,d),D=s.memoizedState,R!==c||X!==D||Gt.current||ti?(typeof Z=="function"&&(qh(s,a,Z,c),D=s.memoizedState),(R=ti||Dm(s,a,R,c,X,D,q))?(ee||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=D),E.props=c,E.state=D,E.context=q,c=R):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{E=s.stateNode,am(n,s),R=s.memoizedProps,q=s.type===s.elementType?R:Vn(s.type,R),E.props=q,ee=s.pendingProps,X=E.context,D=a.contextType,typeof D=="object"&&D!==null?D=vn(D):(D=Qt(a)?Gi:Lt.current,D=Js(s,D));var oe=a.getDerivedStateFromProps;(Z=typeof oe=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==ee||X!==D)&&Lm(s,E,c,D),ti=!1,X=s.memoizedState,E.state=X,ou(s,c,E,d);var ce=s.memoizedState;R!==ee||X!==ce||Gt.current||ti?(typeof oe=="function"&&(qh(s,a,oe,c),ce=s.memoizedState),(q=ti||Dm(s,a,q,c,X,ce,D)||!1)?(Z||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(c,ce,D),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(c,ce,D)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||R===n.memoizedProps&&X===n.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&X===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ce),E.props=c,E.state=ce,E.context=D,c=q):(typeof E.componentDidUpdate!="function"||R===n.memoizedProps&&X===n.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&X===n.memoizedState||(s.flags|=1024),c=!1)}return Qh(n,s,a,c,g,d)}function Qh(n,s,a,c,d,g){qm(n,s);var E=(s.flags&128)!==0;if(!c&&!E)return d&&Yp(s,a,!1),Rr(n,s,g);c=s.stateNode,E0.current=s;var R=E&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,n!==null&&E?(s.child=to(s,n.child,null,g),s.child=to(s,null,R,g)):qt(n,s,R,g),s.memoizedState=c.state,d&&Yp(s,a,!0),s.child}function Wm(n){var s=n.stateNode;s.pendingContext?Gp(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Gp(n,s.context,!1),Dh(n,s.containerInfo)}function Km(n,s,a,c,d){return eo(),Rh(d),s.flags|=256,qt(n,s,a,c),s.child}var Yh={dehydrated:null,treeContext:null,retryLane:0};function Jh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Gm(n,s,a){var c=s.pendingProps,d=Ze.current,g=!1,E=(s.flags&128)!==0,R;if((R=E)||(R=n!==null&&n.memoizedState===null?!1:(d&2)!==0),R?(g=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),We(Ze,d&1),n===null)return Sh(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(s.mode&1?n.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(E=c.children,n=c.fallback,g?(c=s.mode,g=s.child,E={mode:"hidden",children:E},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=E):g=Cu(E,c,0,null),n=is(n,c,a,null),g.return=s,n.return=s,g.sibling=n,s.child=g,s.child.memoizedState=Jh(a),s.memoizedState=Yh,n):Xh(s,E));if(d=n.memoizedState,d!==null&&(R=d.dehydrated,R!==null))return w0(n,s,E,c,R,d,a);if(g){g=c.fallback,E=s.mode,d=n.child,R=d.sibling;var D={mode:"hidden",children:c.children};return!(E&1)&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=D,s.deletions=null):(c=li(d,D),c.subtreeFlags=d.subtreeFlags&14680064),R!==null?g=li(R,g):(g=is(g,E,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,E=n.child.memoizedState,E=E===null?Jh(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=n.childLanes&~a,s.memoizedState=Yh,c}return g=n.child,n=g.sibling,c=li(g,{mode:"visible",children:c.children}),!(s.mode&1)&&(c.lanes=a),c.return=s,c.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=c,s.memoizedState=null,c}function Xh(n,s){return s=Cu({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function pu(n,s,a,c){return c!==null&&Rh(c),to(s,n.child,null,a),n=Xh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function w0(n,s,a,c,d,g,E){if(a)return s.flags&256?(s.flags&=-257,c=Wh(Error(t(422))),pu(n,s,E,c)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(g=c.fallback,d=s.mode,c=Cu({mode:"visible",children:c.children},d,0,null),g=is(g,d,E,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,s.mode&1&&to(s,n.child,null,E),s.child.memoizedState=Jh(E),s.memoizedState=Yh,g);if(!(s.mode&1))return pu(n,s,E,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var R=c.dgst;return c=R,g=Error(t(419)),c=Wh(g,c,void 0),pu(n,s,E,c)}if(R=(E&n.childLanes)!==0,Yt||R){if(c=Tt,c!==null){switch(E&-E){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|E)?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,Ir(n,d),Fn(c,n,d,-1))}return pd(),c=Wh(Error(t(421))),pu(n,s,E,c)}return d.data==="$?"?(s.flags|=128,s.child=n.child,s=L0.bind(null,n),d._reactRetry=s,null):(n=g.treeContext,cn=Jr(d.nextSibling),un=s,Je=!0,Ln=null,n!==null&&(yn[_n++]=wr,yn[_n++]=Tr,yn[_n++]=Qi,wr=n.id,Tr=n.overflow,Qi=s),s=Xh(s,c.children),s.flags|=4096,s)}function Qm(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),kh(n.return,s,a)}function Zh(n,s,a,c,d){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d)}function Ym(n,s,a){var c=s.pendingProps,d=c.revealOrder,g=c.tail;if(qt(n,s,c.children,a),c=Ze.current,c&2)c=c&1|2,s.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Qm(n,a,s);else if(n.tag===19)Qm(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(We(Ze,c),!(s.mode&1))s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)n=a.alternate,n!==null&&au(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Zh(s,!1,d,a,g);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&au(n)===null){s.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Zh(s,!0,a,null,g);break;case"together":Zh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function mu(n,s){!(s.mode&1)&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Rr(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),es|=s.lanes,!(a&s.childLanes))return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,a=li(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=li(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function T0(n,s,a){switch(s.tag){case 3:Wm(s),eo();break;case 5:cm(s);break;case 1:Qt(s.type)&&Jl(s);break;case 4:Dh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;We(ru,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(We(Ze,Ze.current&1),s.flags|=128,null):a&s.child.childLanes?Gm(n,s,a):(We(Ze,Ze.current&1),n=Rr(n,s,a),n!==null?n.sibling:null);We(Ze,Ze.current&1);break;case 19:if(c=(a&s.childLanes)!==0,n.flags&128){if(c)return Ym(n,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),We(Ze,Ze.current),c)break;return null;case 22:case 23:return s.lanes=0,$m(n,s,a)}return Rr(n,s,a)}var Jm,ed,Xm,Zm;Jm=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},ed=function(){},Xm=function(n,s,a,c){var d=n.memoizedProps;if(d!==c){n=s.stateNode,Xi(Yn.current);var g=null;switch(a){case"input":d=xi(n,d),c=xi(n,c),g=[];break;case"select":d=ae({},d,{value:void 0}),c=ae({},c,{value:void 0}),g=[];break;case"textarea":d=$o(n,d),c=$o(n,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Gl)}Qo(a,c);var E;a=null;for(q in d)if(!c.hasOwnProperty(q)&&d.hasOwnProperty(q)&&d[q]!=null)if(q==="style"){var R=d[q];for(E in R)R.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?g||(g=[]):(g=g||[]).push(q,null));for(q in c){var D=c[q];if(R=d!=null?d[q]:void 0,c.hasOwnProperty(q)&&D!==R&&(D!=null||R!=null))if(q==="style")if(R){for(E in R)!R.hasOwnProperty(E)||D&&D.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in D)D.hasOwnProperty(E)&&R[E]!==D[E]&&(a||(a={}),a[E]=D[E])}else a||(g||(g=[]),g.push(q,a)),a=D;else q==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,R=R?R.__html:void 0,D!=null&&R!==D&&(g=g||[]).push(q,D)):q==="children"?typeof D!="string"&&typeof D!="number"||(g=g||[]).push(q,""+D):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(D!=null&&q==="onScroll"&&Ke("scroll",n),g||R===D||(g=[])):(g=g||[]).push(q,D))}a&&(g=g||[]).push("style",a);var q=g;(s.updateQueue=q)&&(s.flags|=4)}},Zm=function(n,s,a,c){a!==c&&(s.flags|=4)};function ka(n,s){if(!Je)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function bt(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function I0(n,s,a){var c=s.pendingProps;switch(Th(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(s),null;case 1:return Qt(s.type)&&Yl(),bt(s),null;case 3:return c=s.stateNode,io(),Ge(Gt),Ge(Lt),Vh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(tu(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Ln!==null&&(hd(Ln),Ln=null))),ed(n,s),bt(s),null;case 5:Oh(s);var d=Xi(Sa.current);if(a=s.type,n!==null&&s.stateNode!=null)Xm(n,s,a,c,d),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return bt(s),null}if(n=Xi(Yn.current),tu(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[Qn]=s,c[va]=g,n=(s.mode&1)!==0,a){case"dialog":Ke("cancel",c),Ke("close",c);break;case"iframe":case"object":case"embed":Ke("load",c);break;case"video":case"audio":for(d=0;d<ga.length;d++)Ke(ga[d],c);break;case"source":Ke("error",c);break;case"img":case"image":case"link":Ke("error",c),Ke("load",c);break;case"details":Ke("toggle",c);break;case"input":vs(c,g),Ke("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Ke("invalid",c);break;case"textarea":ws(c,g),Ke("invalid",c)}Qo(a,g),d=null;for(var E in g)if(g.hasOwnProperty(E)){var R=g[E];E==="children"?typeof R=="string"?c.textContent!==R&&(g.suppressHydrationWarning!==!0&&Kl(c.textContent,R,n),d=["children",R]):typeof R=="number"&&c.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&Kl(c.textContent,R,n),d=["children",""+R]):o.hasOwnProperty(E)&&R!=null&&E==="onScroll"&&Ke("scroll",c)}switch(a){case"input":ur(c),vl(c,g,!0);break;case"textarea":ur(c),qo(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Gl)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{E=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ht(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=E.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=E.createElement(a,{is:c.is}):(n=E.createElement(a),a==="select"&&(E=n,c.multiple?E.multiple=!0:c.size&&(E.size=c.size))):n=E.createElementNS(n,a),n[Qn]=s,n[va]=c,Jm(n,s,!1,!1),s.stateNode=n;e:{switch(E=Yo(a,c),a){case"dialog":Ke("cancel",n),Ke("close",n),d=c;break;case"iframe":case"object":case"embed":Ke("load",n),d=c;break;case"video":case"audio":for(d=0;d<ga.length;d++)Ke(ga[d],n);d=c;break;case"source":Ke("error",n),d=c;break;case"img":case"image":case"link":Ke("error",n),Ke("load",n),d=c;break;case"details":Ke("toggle",n),d=c;break;case"input":vs(n,c),d=xi(n,c),Ke("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=ae({},c,{value:void 0}),Ke("invalid",n);break;case"textarea":ws(n,c),d=$o(n,c),Ke("invalid",n);break;default:d=c}Qo(a,d),R=d;for(g in R)if(R.hasOwnProperty(g)){var D=R[g];g==="style"?Ko(n,D):g==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Ho(n,D)):g==="children"?typeof D=="string"?(a!=="textarea"||D!=="")&&Ur(n,D):typeof D=="number"&&Ur(n,""+D):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?D!=null&&g==="onScroll"&&Ke("scroll",n):D!=null&&te(n,g,D,E))}switch(a){case"input":ur(n),vl(n,c,!1);break;case"textarea":ur(n),qo(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Fe(c.value));break;case"select":n.multiple=!!c.multiple,g=c.value,g!=null?hr(n,!!c.multiple,g,!1):c.defaultValue!=null&&hr(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Gl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return bt(s),null;case 6:if(n&&s.stateNode!=null)Zm(n,s,n.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=Xi(Sa.current),Xi(Yn.current),tu(s)){if(c=s.stateNode,a=s.memoizedProps,c[Qn]=s,(g=c.nodeValue!==a)&&(n=un,n!==null))switch(n.tag){case 3:Kl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Kl(c.nodeValue,a,(n.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Qn]=s,s.stateNode=c}return bt(s),null;case 13:if(Ge(Ze),c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Je&&cn!==null&&s.mode&1&&!(s.flags&128))nm(),eo(),s.flags|=98560,g=!1;else if(g=tu(s),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Qn]=s}else eo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;bt(s),g=!1}else Ln!==null&&(hd(Ln),Ln=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(s.child.flags|=8192,s.mode&1&&(n===null||Ze.current&1?mt===0&&(mt=3):pd())),s.updateQueue!==null&&(s.flags|=4),bt(s),null);case 4:return io(),ed(n,s),n===null&&ya(s.stateNode.containerInfo),bt(s),null;case 10:return Ph(s.type._context),bt(s),null;case 17:return Qt(s.type)&&Yl(),bt(s),null;case 19:if(Ge(Ze),g=s.memoizedState,g===null)return bt(s),null;if(c=(s.flags&128)!==0,E=g.rendering,E===null)if(c)ka(g,!1);else{if(mt!==0||n!==null&&n.flags&128)for(n=s.child;n!==null;){if(E=au(n),E!==null){for(s.flags|=128,ka(g,!1),c=E.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,n=c,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,n=E.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return We(Ze,Ze.current&1|2),s.child}n=n.sibling}g.tail!==null&&He()>lo&&(s.flags|=128,c=!0,ka(g,!1),s.lanes=4194304)}else{if(!c)if(n=au(E),n!==null){if(s.flags|=128,c=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),ka(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!Je)return bt(s),null}else 2*He()-g.renderingStartTime>lo&&a!==1073741824&&(s.flags|=128,c=!0,ka(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(a=g.last,a!==null?a.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=He(),s.sibling=null,a=Ze.current,We(Ze,c?a&1|2:a&1),s):(bt(s),null);case 22:case 23:return fd(),c=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(s.flags|=8192),c&&s.mode&1?hn&1073741824&&(bt(s),s.subtreeFlags&6&&(s.flags|=8192)):bt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function S0(n,s){switch(Th(s),s.tag){case 1:return Qt(s.type)&&Yl(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return io(),Ge(Gt),Ge(Lt),Vh(),n=s.flags,n&65536&&!(n&128)?(s.flags=n&-65537|128,s):null;case 5:return Oh(s),null;case 13:if(Ge(Ze),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));eo()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Ge(Ze),null;case 4:return io(),null;case 10:return Ph(s.type._context),null;case 22:case 23:return fd(),null;case 24:return null;default:return null}}var gu=!1,Mt=!1,R0=typeof WeakSet=="function"?WeakSet:Set,ue=null;function oo(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){rt(n,s,c)}else a.current=null}function td(n,s,a){try{a()}catch(c){rt(n,s,c)}}var eg=!1;function A0(n,s){if(fh=Gr,n=Dp(),sh(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var E=0,R=-1,D=-1,q=0,Z=0,ee=n,X=null;t:for(;;){for(var oe;ee!==a||d!==0&&ee.nodeType!==3||(R=E+d),ee!==g||c!==0&&ee.nodeType!==3||(D=E+c),ee.nodeType===3&&(E+=ee.nodeValue.length),(oe=ee.firstChild)!==null;)X=ee,ee=oe;for(;;){if(ee===n)break t;if(X===a&&++q===d&&(R=E),X===g&&++Z===c&&(D=E),(oe=ee.nextSibling)!==null)break;ee=X,X=ee.parentNode}ee=oe}a=R===-1||D===-1?null:{start:R,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(ph={focusedElem:n,selectionRange:a},Gr=!1,ue=s;ue!==null;)if(s=ue,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,ue=n;else for(;ue!==null;){s=ue;try{var ce=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var de=ce.memoizedProps,st=ce.memoizedState,z=s.stateNode,L=z.getSnapshotBeforeUpdate(s.elementType===s.type?de:Vn(s.type,de),st);z.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var B=s.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){rt(s,s.return,ne)}if(n=s.sibling,n!==null){n.return=s.return,ue=n;break}ue=s.return}return ce=eg,eg=!1,ce}function Na(n,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var g=d.destroy;d.destroy=void 0,g!==void 0&&td(s,a,g)}d=d.next}while(d!==c)}}function yu(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function nd(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function tg(n){var s=n.alternate;s!==null&&(n.alternate=null,tg(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Qn],delete s[va],delete s[_h],delete s[l0],delete s[u0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function ng(n){return n.tag===5||n.tag===3||n.tag===4}function rg(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ng(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function rd(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Gl));else if(c!==4&&(n=n.child,n!==null))for(rd(n,s,a),n=n.sibling;n!==null;)rd(n,s,a),n=n.sibling}function id(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(id(n,s,a),n=n.sibling;n!==null;)id(n,s,a),n=n.sibling}var Ct=null,bn=!1;function ri(n,s,a){for(a=a.child;a!==null;)ig(n,s,a),a=a.sibling}function ig(n,s,a){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Ui,a)}catch{}switch(a.tag){case 5:Mt||oo(a,s);case 6:var c=Ct,d=bn;Ct=null,ri(n,s,a),Ct=c,bn=d,Ct!==null&&(bn?(n=Ct,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Ct.removeChild(a.stateNode));break;case 18:Ct!==null&&(bn?(n=Ct,a=a.stateNode,n.nodeType===8?yh(n.parentNode,a):n.nodeType===1&&yh(n,a),xn(n)):yh(Ct,a.stateNode));break;case 4:c=Ct,d=bn,Ct=a.stateNode.containerInfo,bn=!0,ri(n,s,a),Ct=c,bn=d;break;case 0:case 11:case 14:case 15:if(!Mt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,E=g.destroy;g=g.tag,E!==void 0&&(g&2||g&4)&&td(a,s,E),d=d.next}while(d!==c)}ri(n,s,a);break;case 1:if(!Mt&&(oo(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(R){rt(a,s,R)}ri(n,s,a);break;case 21:ri(n,s,a);break;case 22:a.mode&1?(Mt=(c=Mt)||a.memoizedState!==null,ri(n,s,a),Mt=c):ri(n,s,a);break;default:ri(n,s,a)}}function sg(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new R0),s.forEach(function(c){var d=V0.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Mn(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var g=n,E=s,R=E;e:for(;R!==null;){switch(R.tag){case 5:Ct=R.stateNode,bn=!1;break e;case 3:Ct=R.stateNode.containerInfo,bn=!0;break e;case 4:Ct=R.stateNode.containerInfo,bn=!0;break e}R=R.return}if(Ct===null)throw Error(t(160));ig(g,E,d),Ct=null,bn=!1;var D=d.alternate;D!==null&&(D.return=null),d.return=null}catch(q){rt(d,s,q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)og(s,n),s=s.sibling}function og(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Mn(s,n),Xn(n),c&4){try{Na(3,n,n.return),yu(3,n)}catch(de){rt(n,n.return,de)}try{Na(5,n,n.return)}catch(de){rt(n,n.return,de)}}break;case 1:Mn(s,n),Xn(n),c&512&&a!==null&&oo(a,a.return);break;case 5:if(Mn(s,n),Xn(n),c&512&&a!==null&&oo(a,a.return),n.flags&32){var d=n.stateNode;try{Ur(d,"")}catch(de){rt(n,n.return,de)}}if(c&4&&(d=n.stateNode,d!=null)){var g=n.memoizedProps,E=a!==null?a.memoizedProps:g,R=n.type,D=n.updateQueue;if(n.updateQueue=null,D!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&zo(d,g),Yo(R,E);var q=Yo(R,g);for(E=0;E<D.length;E+=2){var Z=D[E],ee=D[E+1];Z==="style"?Ko(d,ee):Z==="dangerouslySetInnerHTML"?Ho(d,ee):Z==="children"?Ur(d,ee):te(d,Z,ee,q)}switch(R){case"input":Bo(d,g);break;case"textarea":Ts(d,g);break;case"select":var X=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var oe=g.value;oe!=null?hr(d,!!g.multiple,oe,!1):X!==!!g.multiple&&(g.defaultValue!=null?hr(d,!!g.multiple,g.defaultValue,!0):hr(d,!!g.multiple,g.multiple?[]:"",!1))}d[va]=g}catch(de){rt(n,n.return,de)}}break;case 6:if(Mn(s,n),Xn(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,g=n.memoizedProps;try{d.nodeValue=g}catch(de){rt(n,n.return,de)}}break;case 3:if(Mn(s,n),Xn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{xn(s.containerInfo)}catch(de){rt(n,n.return,de)}break;case 4:Mn(s,n),Xn(n);break;case 13:Mn(s,n),Xn(n),d=n.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(ad=He())),c&4&&sg(n);break;case 22:if(Z=a!==null&&a.memoizedState!==null,n.mode&1?(Mt=(q=Mt)||Z,Mn(s,n),Mt=q):Mn(s,n),Xn(n),c&8192){if(q=n.memoizedState!==null,(n.stateNode.isHidden=q)&&!Z&&n.mode&1)for(ue=n,Z=n.child;Z!==null;){for(ee=ue=Z;ue!==null;){switch(X=ue,oe=X.child,X.tag){case 0:case 11:case 14:case 15:Na(4,X,X.return);break;case 1:oo(X,X.return);var ce=X.stateNode;if(typeof ce.componentWillUnmount=="function"){c=X,a=X.return;try{s=c,ce.props=s.memoizedProps,ce.state=s.memoizedState,ce.componentWillUnmount()}catch(de){rt(c,a,de)}}break;case 5:oo(X,X.return);break;case 22:if(X.memoizedState!==null){ug(ee);continue}}oe!==null?(oe.return=X,ue=oe):ug(ee)}Z=Z.sibling}e:for(Z=null,ee=n;;){if(ee.tag===5){if(Z===null){Z=ee;try{d=ee.stateNode,q?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=ee.stateNode,D=ee.memoizedProps.style,E=D!=null&&D.hasOwnProperty("display")?D.display:null,R.style.display=Wo("display",E))}catch(de){rt(n,n.return,de)}}}else if(ee.tag===6){if(Z===null)try{ee.stateNode.nodeValue=q?"":ee.memoizedProps}catch(de){rt(n,n.return,de)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===n)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===n)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===n)break e;Z===ee&&(Z=null),ee=ee.return}Z===ee&&(Z=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Mn(s,n),Xn(n),c&4&&sg(n);break;case 21:break;default:Mn(s,n),Xn(n)}}function Xn(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(ng(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Ur(d,""),c.flags&=-33);var g=rg(n);id(n,g,d);break;case 3:case 4:var E=c.stateNode.containerInfo,R=rg(n);rd(n,R,E);break;default:throw Error(t(161))}}catch(D){rt(n,n.return,D)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function C0(n,s,a){ue=n,ag(n)}function ag(n,s,a){for(var c=(n.mode&1)!==0;ue!==null;){var d=ue,g=d.child;if(d.tag===22&&c){var E=d.memoizedState!==null||gu;if(!E){var R=d.alternate,D=R!==null&&R.memoizedState!==null||Mt;R=gu;var q=Mt;if(gu=E,(Mt=D)&&!q)for(ue=d;ue!==null;)E=ue,D=E.child,E.tag===22&&E.memoizedState!==null?cg(d):D!==null?(D.return=E,ue=D):cg(d);for(;g!==null;)ue=g,ag(g),g=g.sibling;ue=d,gu=R,Mt=q}lg(n)}else d.subtreeFlags&8772&&g!==null?(g.return=d,ue=g):lg(n)}}function lg(n){for(;ue!==null;){var s=ue;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Mt||yu(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Mt)if(a===null)c.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Vn(s.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&um(s,g,c);break;case 3:var E=s.updateQueue;if(E!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}um(s,E,a)}break;case 5:var R=s.stateNode;if(a===null&&s.flags&4){a=R;var D=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&a.focus();break;case"img":D.src&&(a.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var q=s.alternate;if(q!==null){var Z=q.memoizedState;if(Z!==null){var ee=Z.dehydrated;ee!==null&&xn(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Mt||s.flags&512&&nd(s)}catch(X){rt(s,s.return,X)}}if(s===n){ue=null;break}if(a=s.sibling,a!==null){a.return=s.return,ue=a;break}ue=s.return}}function ug(n){for(;ue!==null;){var s=ue;if(s===n){ue=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ue=a;break}ue=s.return}}function cg(n){for(;ue!==null;){var s=ue;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{yu(4,s)}catch(D){rt(s,a,D)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(D){rt(s,d,D)}}var g=s.return;try{nd(s)}catch(D){rt(s,g,D)}break;case 5:var E=s.return;try{nd(s)}catch(D){rt(s,E,D)}}}catch(D){rt(s,s.return,D)}if(s===n){ue=null;break}var R=s.sibling;if(R!==null){R.return=s.return,ue=R;break}ue=s.return}}var P0=Math.ceil,_u=se.ReactCurrentDispatcher,sd=se.ReactCurrentOwner,wn=se.ReactCurrentBatchConfig,Ve=0,Tt=null,lt=null,Pt=0,hn=0,ao=Xr(0),mt=0,xa=null,es=0,vu=0,od=0,Da=null,Jt=null,ad=0,lo=1/0,Ar=null,Eu=!1,ld=null,ii=null,wu=!1,si=null,Tu=0,Oa=0,ud=null,Iu=-1,Su=0;function Ht(){return Ve&6?He():Iu!==-1?Iu:Iu=He()}function oi(n){return n.mode&1?Ve&2&&Pt!==0?Pt&-Pt:h0.transition!==null?(Su===0&&(Su=Bi()),Su):(n=Ne,n!==0||(n=window.event,n=n===void 0?16:aa(n.type)),n):1}function Fn(n,s,a,c){if(50<Oa)throw Oa=0,ud=null,Error(t(185));qr(n,a,c),(!(Ve&2)||n!==Tt)&&(n===Tt&&(!(Ve&2)&&(vu|=a),mt===4&&ai(n,Pt)),Xt(n,c),a===1&&Ve===0&&!(s.mode&1)&&(lo=He()+500,Xl&&ei()))}function Xt(n,s){var a=n.callbackNode;pr(n,s);var c=zi(n,n===Tt?Pt:0);if(c===0)a!==null&&na(a),n.callbackNode=null,n.callbackPriority=0;else if(s=c&-c,n.callbackPriority!==s){if(a!=null&&na(a),s===1)n.tag===0?c0(dg.bind(null,n)):Jp(dg.bind(null,n)),o0(function(){!(Ve&6)&&ei()}),a=null;else{switch(Wr(c)){case 1:a=ji;break;case 4:a=zr;break;case 16:a=pn;break;case 536870912:a=Sl;break;default:a=pn}a=Eg(a,hg.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function hg(n,s){if(Iu=-1,Su=0,Ve&6)throw Error(t(327));var a=n.callbackNode;if(uo()&&n.callbackNode!==a)return null;var c=zi(n,n===Tt?Pt:0);if(c===0)return null;if(c&30||c&n.expiredLanes||s)s=Ru(n,c);else{s=c;var d=Ve;Ve|=2;var g=pg();(Tt!==n||Pt!==s)&&(Ar=null,lo=He()+500,ns(n,s));do try{x0();break}catch(R){fg(n,R)}while(!0);Ch(),_u.current=g,Ve=d,lt!==null?s=0:(Tt=null,Pt=0,s=mt)}if(s!==0){if(s===2&&(d=on(n),d!==0&&(c=d,s=cd(n,d))),s===1)throw a=xa,ns(n,0),ai(n,c),Xt(n,He()),a;if(s===6)ai(n,c);else{if(d=n.current.alternate,!(c&30)&&!k0(d)&&(s=Ru(n,c),s===2&&(g=on(n),g!==0&&(c=g,s=cd(n,g))),s===1))throw a=xa,ns(n,0),ai(n,c),Xt(n,He()),a;switch(n.finishedWork=d,n.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:rs(n,Jt,Ar);break;case 3:if(ai(n,c),(c&130023424)===c&&(s=ad+500-He(),10<s)){if(zi(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){Ht(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=gh(rs.bind(null,n,Jt,Ar),s);break}rs(n,Jt,Ar);break;case 4:if(ai(n,c),(c&4194240)===c)break;for(s=n.eventTimes,d=-1;0<c;){var E=31-Bt(c);g=1<<E,E=s[E],E>d&&(d=E),c&=~g}if(c=d,c=He()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*P0(c/1960))-c,10<c){n.timeoutHandle=gh(rs.bind(null,n,Jt,Ar),c);break}rs(n,Jt,Ar);break;case 5:rs(n,Jt,Ar);break;default:throw Error(t(329))}}}return Xt(n,He()),n.callbackNode===a?hg.bind(null,n):null}function cd(n,s){var a=Da;return n.current.memoizedState.isDehydrated&&(ns(n,s).flags|=256),n=Ru(n,s),n!==2&&(s=Jt,Jt=a,s!==null&&hd(s)),n}function hd(n){Jt===null?Jt=n:Jt.push.apply(Jt,n)}function k0(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],g=d.getSnapshot;d=d.value;try{if(!On(g(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ai(n,s){for(s&=~od,s&=~vu,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-Bt(s),c=1<<a;n[a]=-1,s&=~c}}function dg(n){if(Ve&6)throw Error(t(327));uo();var s=zi(n,0);if(!(s&1))return Xt(n,He()),null;var a=Ru(n,s);if(n.tag!==0&&a===2){var c=on(n);c!==0&&(s=c,a=cd(n,c))}if(a===1)throw a=xa,ns(n,0),ai(n,s),Xt(n,He()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,rs(n,Jt,Ar),Xt(n,He()),null}function dd(n,s){var a=Ve;Ve|=1;try{return n(s)}finally{Ve=a,Ve===0&&(lo=He()+500,Xl&&ei())}}function ts(n){si!==null&&si.tag===0&&!(Ve&6)&&uo();var s=Ve;Ve|=1;var a=wn.transition,c=Ne;try{if(wn.transition=null,Ne=1,n)return n()}finally{Ne=c,wn.transition=a,Ve=s,!(Ve&6)&&ei()}}function fd(){hn=ao.current,Ge(ao)}function ns(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,s0(a)),lt!==null)for(a=lt.return;a!==null;){var c=a;switch(Th(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Yl();break;case 3:io(),Ge(Gt),Ge(Lt),Vh();break;case 5:Oh(c);break;case 4:io();break;case 13:Ge(Ze);break;case 19:Ge(Ze);break;case 10:Ph(c.type._context);break;case 22:case 23:fd()}a=a.return}if(Tt=n,lt=n=li(n.current,null),Pt=hn=s,mt=0,xa=null,od=vu=es=0,Jt=Da=null,Ji!==null){for(s=0;s<Ji.length;s++)if(a=Ji[s],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,g=a.pending;if(g!==null){var E=g.next;g.next=d,c.next=E}a.pending=c}Ji=null}return n}function fg(n,s){do{var a=lt;try{if(Ch(),lu.current=du,uu){for(var c=et.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}uu=!1}if(Zi=0,wt=pt=et=null,Ra=!1,Aa=0,sd.current=null,a===null||a.return===null){mt=1,xa=s,lt=null;break}e:{var g=n,E=a.return,R=a,D=s;if(s=Pt,R.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var q=D,Z=R,ee=Z.tag;if(!(Z.mode&1)&&(ee===0||ee===11||ee===15)){var X=Z.alternate;X?(Z.updateQueue=X.updateQueue,Z.memoizedState=X.memoizedState,Z.lanes=X.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var oe=Fm(E);if(oe!==null){oe.flags&=-257,jm(oe,E,R,g,s),oe.mode&1&&Mm(g,q,s),s=oe,D=q;var ce=s.updateQueue;if(ce===null){var de=new Set;de.add(D),s.updateQueue=de}else ce.add(D);break e}else{if(!(s&1)){Mm(g,q,s),pd();break e}D=Error(t(426))}}else if(Je&&R.mode&1){var st=Fm(E);if(st!==null){!(st.flags&65536)&&(st.flags|=256),jm(st,E,R,g,s),Rh(so(D,R));break e}}g=D=so(D,R),mt!==4&&(mt=2),Da===null?Da=[g]:Da.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var z=Vm(g,D,s);lm(g,z);break e;case 1:R=D;var L=g.type,B=g.stateNode;if(!(g.flags&128)&&(typeof L.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(ii===null||!ii.has(B)))){g.flags|=65536,s&=-s,g.lanes|=s;var ne=bm(g,R,s);lm(g,ne);break e}}g=g.return}while(g!==null)}gg(a)}catch(pe){s=pe,lt===a&&a!==null&&(lt=a=a.return);continue}break}while(!0)}function pg(){var n=_u.current;return _u.current=du,n===null?du:n}function pd(){(mt===0||mt===3||mt===2)&&(mt=4),Tt===null||!(es&268435455)&&!(vu&268435455)||ai(Tt,Pt)}function Ru(n,s){var a=Ve;Ve|=2;var c=pg();(Tt!==n||Pt!==s)&&(Ar=null,ns(n,s));do try{N0();break}catch(d){fg(n,d)}while(!0);if(Ch(),Ve=a,_u.current=c,lt!==null)throw Error(t(261));return Tt=null,Pt=0,mt}function N0(){for(;lt!==null;)mg(lt)}function x0(){for(;lt!==null&&!Tl();)mg(lt)}function mg(n){var s=vg(n.alternate,n,hn);n.memoizedProps=n.pendingProps,s===null?gg(n):lt=s,sd.current=null}function gg(n){var s=n;do{var a=s.alternate;if(n=s.return,s.flags&32768){if(a=S0(a,s),a!==null){a.flags&=32767,lt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{mt=6,lt=null;return}}else if(a=I0(a,s,hn),a!==null){lt=a;return}if(s=s.sibling,s!==null){lt=s;return}lt=s=n}while(s!==null);mt===0&&(mt=5)}function rs(n,s,a){var c=Ne,d=wn.transition;try{wn.transition=null,Ne=1,D0(n,s,a,c)}finally{wn.transition=d,Ne=c}return null}function D0(n,s,a,c){do uo();while(si!==null);if(Ve&6)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var g=a.lanes|a.childLanes;if($e(n,g),n===Tt&&(lt=Tt=null,Pt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||wu||(wu=!0,Eg(pn,function(){return uo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=wn.transition,wn.transition=null;var E=Ne;Ne=1;var R=Ve;Ve|=4,sd.current=null,A0(n,a),og(a,n),XE(ph),Gr=!!fh,ph=fh=null,n.current=a,C0(a),Jc(),Ve=R,Ne=E,wn.transition=g}else n.current=a;if(wu&&(wu=!1,si=n,Tu=d),g=n.pendingLanes,g===0&&(ii=null),Rl(a.stateNode),Xt(n,He()),s!==null)for(c=n.onRecoverableError,a=0;a<s.length;a++)d=s[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Eu)throw Eu=!1,n=ld,ld=null,n;return Tu&1&&n.tag!==0&&uo(),g=n.pendingLanes,g&1?n===ud?Oa++:(Oa=0,ud=n):Oa=0,ei(),null}function uo(){if(si!==null){var n=Wr(Tu),s=wn.transition,a=Ne;try{if(wn.transition=null,Ne=16>n?16:n,si===null)var c=!1;else{if(n=si,si=null,Tu=0,Ve&6)throw Error(t(331));var d=Ve;for(Ve|=4,ue=n.current;ue!==null;){var g=ue,E=g.child;if(ue.flags&16){var R=g.deletions;if(R!==null){for(var D=0;D<R.length;D++){var q=R[D];for(ue=q;ue!==null;){var Z=ue;switch(Z.tag){case 0:case 11:case 15:Na(8,Z,g)}var ee=Z.child;if(ee!==null)ee.return=Z,ue=ee;else for(;ue!==null;){Z=ue;var X=Z.sibling,oe=Z.return;if(tg(Z),Z===q){ue=null;break}if(X!==null){X.return=oe,ue=X;break}ue=oe}}}var ce=g.alternate;if(ce!==null){var de=ce.child;if(de!==null){ce.child=null;do{var st=de.sibling;de.sibling=null,de=st}while(de!==null)}}ue=g}}if(g.subtreeFlags&2064&&E!==null)E.return=g,ue=E;else e:for(;ue!==null;){if(g=ue,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Na(9,g,g.return)}var z=g.sibling;if(z!==null){z.return=g.return,ue=z;break e}ue=g.return}}var L=n.current;for(ue=L;ue!==null;){E=ue;var B=E.child;if(E.subtreeFlags&2064&&B!==null)B.return=E,ue=B;else e:for(E=L;ue!==null;){if(R=ue,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:yu(9,R)}}catch(pe){rt(R,R.return,pe)}if(R===E){ue=null;break e}var ne=R.sibling;if(ne!==null){ne.return=R.return,ue=ne;break e}ue=R.return}}if(Ve=d,ei(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Ui,n)}catch{}c=!0}return c}finally{Ne=a,wn.transition=s}}return!1}function yg(n,s,a){s=so(a,s),s=Vm(n,s,1),n=ni(n,s,1),s=Ht(),n!==null&&(qr(n,1,s),Xt(n,s))}function rt(n,s,a){if(n.tag===3)yg(n,n,a);else for(;s!==null;){if(s.tag===3){yg(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ii===null||!ii.has(c))){n=so(a,n),n=bm(s,n,1),s=ni(s,n,1),n=Ht(),s!==null&&(qr(s,1,n),Xt(s,n));break}}s=s.return}}function O0(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),s=Ht(),n.pingedLanes|=n.suspendedLanes&a,Tt===n&&(Pt&a)===a&&(mt===4||mt===3&&(Pt&130023424)===Pt&&500>He()-ad?ns(n,0):od|=a),Xt(n,s)}function _g(n,s){s===0&&(n.mode&1?(s=Ds,Ds<<=1,!(Ds&130023424)&&(Ds=4194304)):s=1);var a=Ht();n=Ir(n,s),n!==null&&(qr(n,s,a),Xt(n,a))}function L0(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),_g(n,a)}function V0(n,s){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),_g(n,a)}var vg;vg=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||Gt.current)Yt=!0;else{if(!(n.lanes&a)&&!(s.flags&128))return Yt=!1,T0(n,s,a);Yt=!!(n.flags&131072)}else Yt=!1,Je&&s.flags&1048576&&Xp(s,eu,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;mu(n,s),n=s.pendingProps;var d=Js(s,Lt.current);ro(s,a),d=Fh(null,s,c,n,d,a);var g=jh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Qt(c)?(g=!0,Jl(s)):g=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,xh(s),d.updater=fu,s.stateNode=d,d._reactInternals=s,Hh(s,c,n,a),s=Qh(null,s,c,!0,g,a)):(s.tag=0,Je&&g&&wh(s),qt(null,s,d,a),s=s.child),s;case 16:c=s.elementType;e:{switch(mu(n,s),n=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=M0(c),n=Vn(c,n),d){case 0:s=Gh(null,s,c,n,a);break e;case 1:s=Hm(null,s,c,n,a);break e;case 11:s=Um(null,s,c,n,a);break e;case 14:s=zm(null,s,c,Vn(c.type,n),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Vn(c,d),Gh(n,s,c,d,a);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Vn(c,d),Hm(n,s,c,d,a);case 3:e:{if(Wm(s),n===null)throw Error(t(387));c=s.pendingProps,g=s.memoizedState,d=g.element,am(n,s),ou(s,c,null,a);var E=s.memoizedState;if(c=E.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){d=so(Error(t(423)),s),s=Km(n,s,c,a,d);break e}else if(c!==d){d=so(Error(t(424)),s),s=Km(n,s,c,a,d);break e}else for(cn=Jr(s.stateNode.containerInfo.firstChild),un=s,Je=!0,Ln=null,a=sm(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(eo(),c===d){s=Rr(n,s,a);break e}qt(n,s,c,a)}s=s.child}return s;case 5:return cm(s),n===null&&Sh(s),c=s.type,d=s.pendingProps,g=n!==null?n.memoizedProps:null,E=d.children,mh(c,d)?E=null:g!==null&&mh(c,g)&&(s.flags|=32),qm(n,s),qt(n,s,E,a),s.child;case 6:return n===null&&Sh(s),null;case 13:return Gm(n,s,a);case 4:return Dh(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=to(s,null,c,a):qt(n,s,c,a),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Vn(c,d),Um(n,s,c,d,a);case 7:return qt(n,s,s.pendingProps,a),s.child;case 8:return qt(n,s,s.pendingProps.children,a),s.child;case 12:return qt(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,g=s.memoizedProps,E=d.value,We(ru,c._currentValue),c._currentValue=E,g!==null)if(On(g.value,E)){if(g.children===d.children&&!Gt.current){s=Rr(n,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var R=g.dependencies;if(R!==null){E=g.child;for(var D=R.firstContext;D!==null;){if(D.context===c){if(g.tag===1){D=Sr(-1,a&-a),D.tag=2;var q=g.updateQueue;if(q!==null){q=q.shared;var Z=q.pending;Z===null?D.next=D:(D.next=Z.next,Z.next=D),q.pending=D}}g.lanes|=a,D=g.alternate,D!==null&&(D.lanes|=a),kh(g.return,a,s),R.lanes|=a;break}D=D.next}}else if(g.tag===10)E=g.type===s.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=a,R=E.alternate,R!==null&&(R.lanes|=a),kh(E,a,s),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}qt(n,s,d.children,a),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,ro(s,a),d=vn(d),c=c(d),s.flags|=1,qt(n,s,c,a),s.child;case 14:return c=s.type,d=Vn(c,s.pendingProps),d=Vn(c.type,d),zm(n,s,c,d,a);case 15:return Bm(n,s,s.type,s.pendingProps,a);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Vn(c,d),mu(n,s),s.tag=1,Qt(c)?(n=!0,Jl(s)):n=!1,ro(s,a),Om(s,c,d),Hh(s,c,d,a),Qh(null,s,c,!0,n,a);case 19:return Ym(n,s,a);case 22:return $m(n,s,a)}throw Error(t(156,s.tag))};function Eg(n,s){return Ns(n,s)}function b0(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(n,s,a,c){return new b0(n,s,a,c)}function md(n){return n=n.prototype,!(!n||!n.isReactComponent)}function M0(n){if(typeof n=="function")return md(n)?1:0;if(n!=null){if(n=n.$$typeof,n===j)return 11;if(n===Dt)return 14}return 2}function li(n,s){var a=n.alternate;return a===null?(a=Tn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Au(n,s,a,c,d,g){var E=2;if(c=n,typeof n=="function")md(n)&&(E=1);else if(typeof n=="string")E=5;else e:switch(n){case x:return is(a.children,d,g,s);case S:E=8,d|=8;break;case A:return n=Tn(12,a,s,d|2),n.elementType=A,n.lanes=g,n;case P:return n=Tn(13,a,s,d),n.elementType=P,n.lanes=g,n;case Xe:return n=Tn(19,a,s,d),n.elementType=Xe,n.lanes=g,n;case Be:return Cu(a,d,g,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case N:E=10;break e;case O:E=9;break e;case j:E=11;break e;case Dt:E=14;break e;case Ot:E=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=Tn(E,a,s,d),s.elementType=n,s.type=c,s.lanes=g,s}function is(n,s,a,c){return n=Tn(7,n,c,s),n.lanes=a,n}function Cu(n,s,a,c){return n=Tn(22,n,c,s),n.elementType=Be,n.lanes=a,n.stateNode={isHidden:!1},n}function gd(n,s,a){return n=Tn(6,n,null,s),n.lanes=a,n}function yd(n,s,a){return s=Tn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function F0(n,s,a,c,d){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$r(0),this.expirationTimes=$r(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$r(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function _d(n,s,a,c,d,g,E,R,D){return n=new F0(n,s,a,R,D),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Tn(3,null,null,s),n.current=g,g.stateNode=n,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},xh(g),n}function j0(n,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fe,key:c==null?null:""+c,children:n,containerInfo:s,implementation:a}}function wg(n){if(!n)return Zr;n=n._reactInternals;e:{if(An(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Qt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Qt(a))return Qp(n,a,s)}return s}function Tg(n,s,a,c,d,g,E,R,D){return n=_d(a,c,!0,n,d,g,E,R,D),n.context=wg(null),a=n.current,c=Ht(),d=oi(a),g=Sr(c,d),g.callback=s??null,ni(a,g,d),n.current.lanes=d,qr(n,d,c),Xt(n,c),n}function Pu(n,s,a,c){var d=s.current,g=Ht(),E=oi(d);return a=wg(a),s.context===null?s.context=a:s.pendingContext=a,s=Sr(g,E),s.payload={element:n},c=c===void 0?null:c,c!==null&&(s.callback=c),n=ni(d,s,E),n!==null&&(Fn(n,d,E,g),su(n,d,E)),E}function ku(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Ig(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function vd(n,s){Ig(n,s),(n=n.alternate)&&Ig(n,s)}function U0(){return null}var Sg=typeof reportError=="function"?reportError:function(n){console.error(n)};function Ed(n){this._internalRoot=n}Nu.prototype.render=Ed.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));Pu(n,s,null,null)},Nu.prototype.unmount=Ed.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;ts(function(){Pu(null,n,null,null)}),s[vr]=null}};function Nu(n){this._internalRoot=n}Nu.prototype.unstable_scheduleHydration=function(n){if(n){var s=Nl();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Hn.length&&s!==0&&s<Hn[a].priority;a++);Hn.splice(a,0,n),a===0&&Ol(n)}};function wd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function xu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Rg(){}function z0(n,s,a,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var q=ku(E);g.call(q)}}var E=Tg(s,c,n,0,null,!1,!1,"",Rg);return n._reactRootContainer=E,n[vr]=E.current,ya(n.nodeType===8?n.parentNode:n),ts(),E}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var R=c;c=function(){var q=ku(D);R.call(q)}}var D=_d(n,0,!1,null,null,!1,!1,"",Rg);return n._reactRootContainer=D,n[vr]=D.current,ya(n.nodeType===8?n.parentNode:n),ts(function(){Pu(s,D,a,c)}),D}function Du(n,s,a,c,d){var g=a._reactRootContainer;if(g){var E=g;if(typeof d=="function"){var R=d;d=function(){var D=ku(E);R.call(D)}}Pu(s,E,n,d)}else E=z0(a,s,n,d,c);return ku(E)}Pl=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=Br(s.pendingLanes);a!==0&&(Hr(s,a|1),Xt(s,He()),!(Ve&6)&&(lo=He()+500,ei()))}break;case 13:ts(function(){var c=Ir(n,1);if(c!==null){var d=Ht();Fn(c,n,1,d)}}),vd(n,1)}},Os=function(n){if(n.tag===13){var s=Ir(n,134217728);if(s!==null){var a=Ht();Fn(s,n,134217728,a)}vd(n,134217728)}},kl=function(n){if(n.tag===13){var s=oi(n),a=Ir(n,s);if(a!==null){var c=Ht();Fn(a,n,s,c)}vd(n,s)}},Nl=function(){return Ne},xl=function(n,s){var a=Ne;try{return Ne=n,s()}finally{Ne=a}},Ss=function(n,s,a){switch(s){case"input":if(Bo(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var d=Ql(c);if(!d)throw Error(t(90));_s(c),Bo(c,d)}}}break;case"textarea":Ts(n,a);break;case"select":s=a.value,s!=null&&hr(n,!!a.multiple,s,!1)}},Vi=dd,Xo=ts;var B0={usingClientEntryPoint:!1,Events:[Ea,Qs,Ql,$n,Jo,dd]},La={findFiberByHostInstance:Ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$0={bundleType:La.bundleType,version:La.version,rendererPackageName:La.rendererPackageName,rendererConfig:La.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=ta(n),n===null?null:n.stateNode},findFiberByHostInstance:La.findFiberByHostInstance||U0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{Ui=Ou.inject($0),sn=Ou}catch{}}return Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B0,Zt.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wd(s))throw Error(t(200));return j0(n,s,null,a)},Zt.createRoot=function(n,s){if(!wd(n))throw Error(t(299));var a=!1,c="",d=Sg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=_d(n,1,!1,null,null,a,!1,c,d),n[vr]=s.current,ya(n.nodeType===8?n.parentNode:n),new Ed(s)},Zt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=ta(s),n=n===null?null:n.stateNode,n},Zt.flushSync=function(n){return ts(n)},Zt.hydrate=function(n,s,a){if(!xu(s))throw Error(t(200));return Du(null,n,s,!0,a)},Zt.hydrateRoot=function(n,s,a){if(!wd(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,g="",E=Sg;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),s=Tg(s,null,n,1,a??null,d,!1,g,E),n[vr]=s.current,ya(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new Nu(s)},Zt.render=function(n,s,a){if(!xu(s))throw Error(t(200));return Du(null,n,s,!1,a)},Zt.unmountComponentAtNode=function(n){if(!xu(n))throw Error(t(40));return n._reactRootContainer?(ts(function(){Du(null,null,n,!1,function(){n._reactRootContainer=null,n[vr]=null})}),!0):!1},Zt.unstable_batchedUpdates=dd,Zt.unstable_renderSubtreeIntoContainer=function(n,s,a,c){if(!xu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Du(n,s,a,!1,c)},Zt.version="18.3.1-next-f1338f8080-20240426",Zt}var Og;function X0(){if(Og)return Sd.exports;Og=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Sd.exports=J0(),Sd.exports}var Lg;function Z0(){if(Lg)return Lu;Lg=1;var r=X0();return Lu.createRoot=r.createRoot,Lu.hydrateRoot=r.hydrateRoot,Lu}var ew=Z0(),ba={},Vg;function tw(){if(Vg)return ba;Vg=1,Object.defineProperty(ba,"__esModule",{value:!0}),ba.parse=h,ba.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,C){const k=new l,F=w.length;if(F<2)return k;const V=(C==null?void 0:C.decode)||v;let W=0;do{const K=w.indexOf("=",W);if(K===-1)break;const te=w.indexOf(";",W),se=te===-1?F:te;if(K>se){W=w.lastIndexOf(";",K-1)+1;continue}const Q=f(w,W,K),fe=p(w,K,Q),x=w.slice(Q,fe);if(k[x]===void 0){let S=f(w,K+1,se),A=p(w,se,S);const N=V(w.slice(S,A));k[x]=N}W=se+1}while(W<F);return k}function f(w,C,k){do{const F=w.charCodeAt(C);if(F!==32&&F!==9)return C}while(++C<k);return k}function p(w,C,k){for(;C>k;){const F=w.charCodeAt(--C);if(F!==32&&F!==9)return C+1}return k}function y(w,C,k){const F=(k==null?void 0:k.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const V=F(C);if(!e.test(V))throw new TypeError(`argument val is invalid: ${C}`);let W=w+"="+V;if(!k)return W;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);W+="; Max-Age="+k.maxAge}if(k.domain){if(!t.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);W+="; Domain="+k.domain}if(k.path){if(!i.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);W+="; Path="+k.path}if(k.expires){if(!I(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);W+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(W+="; HttpOnly"),k.secure&&(W+="; Secure"),k.partitioned&&(W+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return W}function v(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function I(w){return o.call(w)==="[object Date]"}return ba}tw();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bg="popstate";function nw(r={}){function e(i,o){let{pathname:l,search:h,hash:f}=i.location;return Hd("",{pathname:l,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Qa(o)}return iw(e,t,null,r)}function tt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ir(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rw(){return Math.random().toString(36).substring(2,10)}function Mg(r,e){return{usr:r.state,key:r.key,idx:e}}function Hd(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?No(e):e,state:t,key:e&&e.key||i||rw()}}function Qa({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function No(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function iw(r,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,h=o.history,f="POP",p=null,y=v();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function v(){return(h.state||{idx:null}).idx}function I(){f="POP";let V=v(),W=V==null?null:V-y;y=V,p&&p({action:f,location:F.location,delta:W})}function w(V,W){f="PUSH";let K=Hd(F.location,V,W);y=v()+1;let te=Mg(K,y),se=F.createHref(K);try{h.pushState(te,"",se)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;o.location.assign(se)}l&&p&&p({action:f,location:F.location,delta:1})}function C(V,W){f="REPLACE";let K=Hd(F.location,V,W);y=v();let te=Mg(K,y),se=F.createHref(K);h.replaceState(te,"",se),l&&p&&p({action:f,location:F.location,delta:0})}function k(V){let W=o.location.origin!=="null"?o.location.origin:o.location.href,K=typeof V=="string"?V:Qa(V);return K=K.replace(/ $/,"%20"),tt(W,`No window.location.(origin|href) available to create URL for href: ${K}`),new URL(K,W)}let F={get action(){return f},get location(){return r(o,h)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(bg,I),p=V,()=>{o.removeEventListener(bg,I),p=null}},createHref(V){return e(o,V)},createURL:k,encodeLocation(V){let W=k(V);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:w,replace:C,go(V){return h.go(V)}};return F}function c_(r,e,t="/"){return sw(r,e,t,!1)}function sw(r,e,t,i){let o=typeof e=="string"?No(e):e,l=wi(o.pathname||"/",t);if(l==null)return null;let h=h_(r);ow(h);let f=null;for(let p=0;f==null&&p<h.length;++p){let y=yw(l);f=mw(h[p],y,i)}return f}function h_(r,e=[],t=[],i=""){let o=(l,h,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(tt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=Nr([i,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&(tt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),h_(l.children,e,v,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:fw(y,l.index),routesMeta:v})};return r.forEach((l,h)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,h);else for(let p of d_(l.path))o(l,h,p)}),e}function d_(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let h=d_(i.join("/")),f=[];return f.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...h),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function ow(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:pw(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var aw=/^:[\w-]+$/,lw=3,uw=2,cw=1,hw=10,dw=-2,Fg=r=>r==="*";function fw(r,e){let t=r.split("/"),i=t.length;return t.some(Fg)&&(i+=dw),e&&(i+=uw),t.filter(o=>!Fg(o)).reduce((o,l)=>o+(aw.test(l)?lw:l===""?cw:hw),i)}function pw(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function mw(r,e,t=!1){let{routesMeta:i}=r,o={},l="/",h=[];for(let f=0;f<i.length;++f){let p=i[f],y=f===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",I=rc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},v),w=p.route;if(!I&&y&&t&&!i[i.length-1].route.index&&(I=rc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!I)return null;Object.assign(o,I.params),h.push({params:o,pathname:Nr([l,I.pathname]),pathnameBase:ww(Nr([l,I.pathnameBase])),route:w}),I.pathnameBase!=="/"&&(l=Nr([l,I.pathnameBase]))}return h}function rc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=gw(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((y,{paramName:v,isOptional:I},w)=>{if(v==="*"){let k=f[w]||"";h=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const C=f[w];return I&&!C?y[v]=void 0:y[v]=(C||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:r}}function gw(r,e=!1,t=!0){ir(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function yw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ir(!1,`The URL path "${r}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function wi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function _w(r,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof r=="string"?No(r):r;return{pathname:t?t.startsWith("/")?t:vw(t,e):e,search:Tw(i),hash:Iw(o)}}function vw(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Cd(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ew(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function f_(r){let e=Ew(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function p_(r,e,t,i=!1){let o;typeof r=="string"?o=No(r):(o={...r},tt(!o.pathname||!o.pathname.includes("?"),Cd("?","pathname","search",o)),tt(!o.pathname||!o.pathname.includes("#"),Cd("#","pathname","hash",o)),tt(!o.search||!o.search.includes("#"),Cd("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,f;if(h==null)f=t;else{let I=e.length-1;if(!i&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),I-=1;o.pathname=w.join("/")}f=I>=0?e[I]:"/"}let p=_w(o,f),y=h&&h!=="/"&&h.endsWith("/"),v=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}var Nr=r=>r.join("/").replace(/\/\/+/g,"/"),ww=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Tw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Iw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Sw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var m_=["POST","PUT","PATCH","DELETE"];new Set(m_);var Rw=["GET",...m_];new Set(Rw);var xo=$.createContext(null);xo.displayName="DataRouter";var Ic=$.createContext(null);Ic.displayName="DataRouterState";var g_=$.createContext({isTransitioning:!1});g_.displayName="ViewTransition";var Aw=$.createContext(new Map);Aw.displayName="Fetchers";var Cw=$.createContext(null);Cw.displayName="Await";var or=$.createContext(null);or.displayName="Navigation";var il=$.createContext(null);il.displayName="Location";var ar=$.createContext({outlet:null,matches:[],isDataRoute:!1});ar.displayName="Route";var Rf=$.createContext(null);Rf.displayName="RouteError";function Pw(r,{relative:e}={}){tt(sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=$.useContext(or),{hash:o,pathname:l,search:h}=ol(r,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Nr([t,l])),i.createHref({pathname:f,search:h,hash:o})}function sl(){return $.useContext(il)!=null}function ps(){return tt(sl(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(il).location}var y_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function __(r){$.useContext(or).static||$.useLayoutEffect(r)}function ms(){let{isDataRoute:r}=$.useContext(ar);return r?Bw():kw()}function kw(){tt(sl(),"useNavigate() may be used only in the context of a <Router> component.");let r=$.useContext(xo),{basename:e,navigator:t}=$.useContext(or),{matches:i}=$.useContext(ar),{pathname:o}=ps(),l=JSON.stringify(f_(i)),h=$.useRef(!1);return __(()=>{h.current=!0}),$.useCallback((p,y={})=>{if(ir(h.current,y_),!h.current)return;if(typeof p=="number"){t.go(p);return}let v=p_(p,JSON.parse(l),o,y.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Nr([e,v.pathname])),(y.replace?t.replace:t.push)(v,y.state,y)},[e,t,l,o,r])}$.createContext(null);function Nw(){let{matches:r}=$.useContext(ar),e=r[r.length-1];return e?e.params:{}}function ol(r,{relative:e}={}){let{matches:t}=$.useContext(ar),{pathname:i}=ps(),o=JSON.stringify(f_(t));return $.useMemo(()=>p_(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function xw(r,e){return v_(r,e)}function v_(r,e,t,i){var W;tt(sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=$.useContext(or),{matches:l}=$.useContext(ar),h=l[l.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let K=v&&v.path||"";E_(p,!v||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let I=ps(),w;if(e){let K=typeof e=="string"?No(e):e;tt(y==="/"||((W=K.pathname)==null?void 0:W.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${K.pathname}" was given in the \`location\` prop.`),w=K}else w=I;let C=w.pathname||"/",k=C;if(y!=="/"){let K=y.replace(/^\//,"").split("/");k="/"+C.replace(/^\//,"").split("/").slice(K.length).join("/")}let F=c_(r,{pathname:k});ir(v||F!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ir(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=bw(F&&F.map(K=>Object.assign({},K,{params:Object.assign({},f,K.params),pathname:Nr([y,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?y:Nr([y,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),l,t,i);return e&&V?$.createElement(il.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},V):V}function Dw(){let r=zw(),e=Sw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:l},"ErrorBoundary")," or"," ",$.createElement("code",{style:l},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:o},t):null,h)}var Ow=$.createElement(Dw,null),Lw=class extends $.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?$.createElement(ar.Provider,{value:this.props.routeContext},$.createElement(Rf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Vw({routeContext:r,match:e,children:t}){let i=$.useContext(xo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(ar.Provider,{value:r},t)}function bw(r,e=[],t=null,i=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);tt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,f=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:v,errors:I}=t,w=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!I||I[y.route.id]===void 0);if(y.route.lazy||w){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,y,v)=>{let I,w=!1,C=null,k=null;t&&(I=l&&y.route.id?l[y.route.id]:void 0,C=y.route.errorElement||Ow,h&&(f<0&&v===0?(E_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,k=null):f===v&&(w=!0,k=y.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,v+1)),V=()=>{let W;return I?W=C:w?W=k:y.route.Component?W=$.createElement(y.route.Component,null):y.route.element?W=y.route.element:W=p,$.createElement(Vw,{match:y,routeContext:{outlet:p,matches:F,isDataRoute:t!=null},children:W})};return t&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?$.createElement(Lw,{location:t.location,revalidation:t.revalidation,component:C,error:I,children:V(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):V()},null)}function Af(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mw(r){let e=$.useContext(xo);return tt(e,Af(r)),e}function Fw(r){let e=$.useContext(Ic);return tt(e,Af(r)),e}function jw(r){let e=$.useContext(ar);return tt(e,Af(r)),e}function Cf(r){let e=jw(r),t=e.matches[e.matches.length-1];return tt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function Uw(){return Cf("useRouteId")}function zw(){var i;let r=$.useContext(Rf),e=Fw("useRouteError"),t=Cf("useRouteError");return r!==void 0?r:(i=e.errors)==null?void 0:i[t]}function Bw(){let{router:r}=Mw("useNavigate"),e=Cf("useNavigate"),t=$.useRef(!1);return __(()=>{t.current=!0}),$.useCallback(async(o,l={})=>{ir(t.current,y_),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var jg={};function E_(r,e,t){!e&&!jg[r]&&(jg[r]=!0,ir(!1,t))}$.memo($w);function $w({routes:r,future:e,state:t}){return v_(r,void 0,t,e)}function ss(r){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qw({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){tt(!sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),f=$.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=No(t));let{pathname:p="/",search:y="",hash:v="",state:I=null,key:w="default"}=t,C=$.useMemo(()=>{let k=wi(p,h);return k==null?null:{location:{pathname:k,search:y,hash:v,state:I,key:w},navigationType:i}},[h,p,y,v,I,w,i]);return ir(C!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:$.createElement(or.Provider,{value:f},$.createElement(il.Provider,{children:e,value:C}))}function Hw({children:r,location:e}){return xw(Wd(r),e)}function Wd(r,e=[]){let t=[];return $.Children.forEach(r,(i,o)=>{if(!$.isValidElement(i))return;let l=[...e,o];if(i.type===$.Fragment){t.push.apply(t,Wd(i.props.children,l));return}tt(i.type===ss,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Wd(i.props.children,l)),t.push(h)}),t}var Hu="get",Wu="application/x-www-form-urlencoded";function Sc(r){return r!=null&&typeof r.tagName=="string"}function Ww(r){return Sc(r)&&r.tagName.toLowerCase()==="button"}function Kw(r){return Sc(r)&&r.tagName.toLowerCase()==="form"}function Gw(r){return Sc(r)&&r.tagName.toLowerCase()==="input"}function Qw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Yw(r,e){return r.button===0&&(!e||e==="_self")&&!Qw(r)}var Vu=null;function Jw(){if(Vu===null)try{new FormData(document.createElement("form"),0),Vu=!1}catch{Vu=!0}return Vu}var Xw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pd(r){return r!=null&&!Xw.has(r)?(ir(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wu}"`),null):r}function Zw(r,e){let t,i,o,l,h;if(Kw(r)){let f=r.getAttribute("action");i=f?wi(f,e):null,t=r.getAttribute("method")||Hu,o=Pd(r.getAttribute("enctype"))||Wu,l=new FormData(r)}else if(Ww(r)||Gw(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||f.getAttribute("action");if(i=p?wi(p,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||Hu,o=Pd(r.getAttribute("formenctype"))||Pd(f.getAttribute("enctype"))||Wu,l=new FormData(f,r),!Jw()){let{name:y,type:v,value:I}=r;if(v==="image"){let w=y?`${y}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else y&&l.append(y,I)}}else{if(Sc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Hu,i=null,o=Wu,h=r}return l&&o==="text/plain"&&(h=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:h}}function Pf(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function eT(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tT(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function nT(r,e,t){let i=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await eT(l,t);return h.links?h.links():[]}return[]}));return oT(i.flat(1).filter(tT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ug(r,e,t,i,o,l){let h=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,f=(p,y)=>{var v;return t[y].pathname!==p.pathname||((v=t[y].route.path)==null?void 0:v.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>h(p,y)||f(p,y)):l==="data"?e.filter((p,y)=>{var I;let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,y)||f(p,y))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((I=t[0])==null?void 0:I.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function rT(r,e){return iT(r.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function iT(r){return[...new Set(r)]}function sT(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function oT(r,e){let t=new Set;return new Set(e),r.reduce((i,o)=>{let l=JSON.stringify(sT(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function aT(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function lT(){let r=$.useContext(xo);return Pf(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function uT(){let r=$.useContext(Ic);return Pf(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var kf=$.createContext(void 0);kf.displayName="FrameworkContext";function w_(){let r=$.useContext(kf);return Pf(r,"You must render this element inside a <HydratedRouter> element"),r}function cT(r,e){let t=$.useContext(kf),[i,o]=$.useState(!1),[l,h]=$.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:y,onMouseLeave:v,onTouchStart:I}=e,w=$.useRef(null);$.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let F=W=>{W.forEach(K=>{h(K.isIntersecting)})},V=new IntersectionObserver(F,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[r]),$.useEffect(()=>{if(i){let F=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(F)}}},[i]);let C=()=>{o(!0)},k=()=>{o(!1),h(!1)};return t?r!=="intent"?[l,w,{}]:[l,w,{onFocus:Ma(f,C),onBlur:Ma(p,k),onMouseEnter:Ma(y,C),onMouseLeave:Ma(v,k),onTouchStart:Ma(I,C)}]:[!1,w,{}]}function Ma(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function hT({page:r,...e}){let{router:t}=lT(),i=$.useMemo(()=>c_(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?$.createElement(fT,{page:r,matches:i,...e}):(console.warn(`Tried to prefetch ${r} but no routes matched.`),null)}function dT(r){let{manifest:e,routeModules:t}=w_(),[i,o]=$.useState([]);return $.useEffect(()=>{let l=!1;return nT(r,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[r,e,t]),i}function fT({page:r,matches:e,...t}){let i=ps(),{manifest:o,routeModules:l}=w_(),{loaderData:h,matches:f}=uT(),p=$.useMemo(()=>Ug(r,e,f,o,i,"data"),[r,e,f,o,i]),y=$.useMemo(()=>Ug(r,e,f,o,i,"assets"),[r,e,f,o,i]),v=$.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let C=new Set,k=!1;if(e.forEach(V=>{var K;let W=o.routes[V.route.id];!W||!W.hasLoader||(!p.some(te=>te.route.id===V.route.id)&&V.route.id in h&&((K=l[V.route.id])!=null&&K.shouldRevalidate)||W.hasClientLoader?k=!0:C.add(V.route.id))}),C.size===0)return[];let F=aT(r);return k&&C.size>0&&F.searchParams.set("_routes",e.filter(V=>C.has(V.route.id)).map(V=>V.route.id).join(",")),[F.pathname+F.search]},[h,i,o,p,e,r,l]),I=$.useMemo(()=>rT(y,o),[y,o]),w=dT(y);return $.createElement($.Fragment,null,v.map(C=>$.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),I.map(C=>$.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),w.map(({key:C,link:k})=>$.createElement("link",{key:C,...k})))}function pT(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var T_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{T_&&(window.__reactRouterVersion="7.0.2")}catch{}function mT({basename:r,children:e,window:t}){let i=$.useRef();i.current==null&&(i.current=nw({window:t,v5Compat:!0}));let o=i.current,[l,h]=$.useState({action:o.action,location:o.location}),f=$.useCallback(p=>{$.startTransition(()=>h(p))},[h]);return $.useLayoutEffect(()=>o.listen(f),[o,f]),$.createElement(qw,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:o})}var I_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,us=$.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:h,state:f,target:p,to:y,preventScrollReset:v,viewTransition:I,...w},C){let{basename:k}=$.useContext(or),F=typeof y=="string"&&I_.test(y),V,W=!1;if(typeof y=="string"&&F&&(V=y,T_))try{let A=new URL(window.location.href),N=y.startsWith("//")?new URL(A.protocol+y):new URL(y),O=wi(N.pathname,k);N.origin===A.origin&&O!=null?y=O+N.search+N.hash:W=!0}catch{ir(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=Pw(y,{relative:o}),[te,se,Q]=cT(i,w),fe=vT(y,{replace:h,state:f,target:p,preventScrollReset:v,relative:o,viewTransition:I});function x(A){e&&e(A),A.defaultPrevented||fe(A)}let S=$.createElement("a",{...w,...Q,href:V||K,onClick:W||l?e:x,ref:pT(C,se),target:p,"data-discover":!F&&t==="render"?"true":void 0});return te&&!F?$.createElement($.Fragment,null,S,$.createElement(hT,{page:K})):S});us.displayName="Link";var gT=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:h,viewTransition:f,children:p,...y},v){let I=ol(h,{relative:y.relative}),w=ps(),C=$.useContext(Ic),{navigator:k,basename:F}=$.useContext(or),V=C!=null&&ST(I)&&f===!0,W=k.encodeLocation?k.encodeLocation(I).pathname:I.pathname,K=w.pathname,te=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(K=K.toLowerCase(),te=te?te.toLowerCase():null,W=W.toLowerCase()),te&&F&&(te=wi(te,F)||te);const se=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let Q=K===W||!o&&K.startsWith(W)&&K.charAt(se)==="/",fe=te!=null&&(te===W||!o&&te.startsWith(W)&&te.charAt(W.length)==="/"),x={isActive:Q,isPending:fe,isTransitioning:V},S=Q?e:void 0,A;typeof i=="function"?A=i(x):A=[i,Q?"active":null,fe?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(x):l;return $.createElement(us,{...y,"aria-current":S,className:A,ref:v,style:N,to:h,viewTransition:f},typeof p=="function"?p(x):p)});gT.displayName="NavLink";var yT=$.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:h=Hu,action:f,onSubmit:p,relative:y,preventScrollReset:v,viewTransition:I,...w},C)=>{let k=TT(),F=IT(f,{relative:y}),V=h.toLowerCase()==="get"?"get":"post",W=typeof f=="string"&&I_.test(f),K=te=>{if(p&&p(te),te.defaultPrevented)return;te.preventDefault();let se=te.nativeEvent.submitter,Q=(se==null?void 0:se.getAttribute("formmethod"))||h;k(se||te.currentTarget,{fetcherKey:e,method:Q,navigate:t,replace:o,state:l,relative:y,preventScrollReset:v,viewTransition:I})};return $.createElement("form",{ref:C,method:V,action:F,onSubmit:i?p:K,...w,"data-discover":!W&&r==="render"?"true":void 0})});yT.displayName="Form";function _T(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S_(r){let e=$.useContext(xo);return tt(e,_T(r)),e}function vT(r,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:h}={}){let f=ms(),p=ps(),y=ol(r,{relative:l});return $.useCallback(v=>{if(Yw(v,e)){v.preventDefault();let I=t!==void 0?t:Qa(p)===Qa(y);f(r,{replace:I,state:i,preventScrollReset:o,relative:l,viewTransition:h})}},[p,f,y,t,i,e,r,o,l,h])}var ET=0,wT=()=>`__${String(++ET)}__`;function TT(){let{router:r}=S_("useSubmit"),{basename:e}=$.useContext(or),t=Uw();return $.useCallback(async(i,o={})=>{let{action:l,method:h,encType:f,formData:p,body:y}=Zw(i,e);if(o.navigate===!1){let v=o.fetcherKey||wT();await r.fetch(v,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function IT(r,{relative:e}={}){let{basename:t}=$.useContext(or),i=$.useContext(ar);tt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...ol(r||".",{relative:e})},h=ps();if(r==null){l.search=h.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(I=>I).forEach(I=>f.append("index",I));let v=f.toString();l.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Nr([t,l.pathname])),Qa(l)}function ST(r,e={}){let t=$.useContext(g_);tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=S_("useViewTransitionState"),o=ol(r,{relative:e.relative});if(!t.isTransitioning)return!1;let l=wi(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=wi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return rc(o.pathname,h)!=null||rc(o.pathname,l)!=null}new TextEncoder;var zg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},RT=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const o=r[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],f=r[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],h=r[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},A_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,f=h?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,v=l>>2,I=(l&3)<<4|f>>4;let w=(f&15)<<2|y>>6,C=y&63;p||(C=64,h||(w=64)),i.push(t[v],t[I],t[w],t[C])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(R_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):RT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const I=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||y==null||I==null)throw new AT;const w=l<<2|f>>4;if(i.push(w),y!==64){const C=f<<4&240|y>>2;if(i.push(C),I!==64){const k=y<<6&192|I;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class AT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CT=function(r){const e=R_(r);return A_.encodeByteArray(e,!0)},ic=function(r){return CT(r).replace(/\./g,"")},C_=function(r){try{return A_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=()=>PT().__FIREBASE_DEFAULTS__,NT=()=>{if(typeof process>"u"||typeof zg>"u")return;const r=zg.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},xT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&C_(r[1]);return e&&JSON.parse(e)},Rc=()=>{try{return kT()||NT()||xT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},P_=r=>{var e,t;return(t=(e=Rc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},DT=r=>{const e=P_(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},k_=()=>{var r;return(r=Rc())===null||r===void 0?void 0:r.config},N_=r=>{var e;return(e=Rc())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ic(JSON.stringify(t)),ic(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function bT(){var r;const e=(r=Rc())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function jT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UT(){const r=zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function zT(){return!bT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BT(){try{return typeof indexedDB=="object"}catch{return!1}}function $T(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="FirebaseError";class Mr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=qT,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,al.prototype.create)}}class al{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?HT(l,i):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new Mr(o,f,i)}}function HT(r,e){return r.replace(WT,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const WT=/\{\$([^}]+)}/g;function KT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function sc(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=r[o],h=e[o];if(Bg(l)&&Bg(h)){if(!sc(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Bg(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ja(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Ua(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function GT(r,e){const t=new QT(r,e);return t.subscribe.bind(t)}class QT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");YT(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=kd),o.error===void 0&&(o.error=kd),o.complete===void 0&&(o.complete=kd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YT(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function kd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r){return r&&r._delegate?r._delegate:r}class cs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new OT;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZT(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&h.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:XT(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XT(r){return r===os?void 0:r}function ZT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new JT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const tI={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},nI=Pe.INFO,rI={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},iI=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=rI[e];if(o)console[o](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nf{constructor(e){this.name=e,this._logLevel=nI,this._logHandler=iI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const sI=(r,e)=>e.some(t=>r instanceof t);let $g,qg;function oI(){return $g||($g=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aI(){return qg||(qg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x_=new WeakMap,Kd=new WeakMap,D_=new WeakMap,Nd=new WeakMap,xf=new WeakMap;function lI(r){const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(gi(r.result)),o()},h=()=>{i(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&x_.set(t,r)}).catch(()=>{}),xf.set(e,r),e}function uI(r){if(Kd.has(r))return;const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});Kd.set(r,e)}let Gd={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Kd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||D_.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return gi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function cI(r){Gd=r(Gd)}function hI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(xd(this),e,...t);return D_.set(i,e.sort?e.sort():[e]),gi(i)}:aI().includes(r)?function(...e){return r.apply(xd(this),e),gi(x_.get(this))}:function(...e){return gi(r.apply(xd(this),e))}}function dI(r){return typeof r=="function"?hI(r):(r instanceof IDBTransaction&&uI(r),sI(r,oI())?new Proxy(r,Gd):r)}function gi(r){if(r instanceof IDBRequest)return lI(r);if(Nd.has(r))return Nd.get(r);const e=dI(r);return e!==r&&(Nd.set(r,e),xf.set(e,r)),e}const xd=r=>xf.get(r);function fI(r,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),f=gi(h);return i&&h.addEventListener("upgradeneeded",p=>{i(gi(h.result),p.oldVersion,p.newVersion,gi(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const pI=["get","getKey","getAll","getAllKeys","count"],mI=["put","add","delete","clear"],Dd=new Map;function Hg(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Dd.get(e))return Dd.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=mI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||pI.includes(t)))return;const l=async function(h,...f){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&p.done]))[0]};return Dd.set(e,l),l}cI(r=>({...r,get:(e,t,i)=>Hg(e,t)||r.get(e,t,i),has:(e,t)=>!!Hg(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(yI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function yI(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qd="@firebase/app",Wg="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new Nf("@firebase/app"),_I="@firebase/app-compat",vI="@firebase/analytics-compat",EI="@firebase/analytics",wI="@firebase/app-check-compat",TI="@firebase/app-check",II="@firebase/auth",SI="@firebase/auth-compat",RI="@firebase/database",AI="@firebase/data-connect",CI="@firebase/database-compat",PI="@firebase/functions",kI="@firebase/functions-compat",NI="@firebase/installations",xI="@firebase/installations-compat",DI="@firebase/messaging",OI="@firebase/messaging-compat",LI="@firebase/performance",VI="@firebase/performance-compat",bI="@firebase/remote-config",MI="@firebase/remote-config-compat",FI="@firebase/storage",jI="@firebase/storage-compat",UI="@firebase/firestore",zI="@firebase/vertexai",BI="@firebase/firestore-compat",$I="firebase",qI="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="[DEFAULT]",HI={[Qd]:"fire-core",[_I]:"fire-core-compat",[EI]:"fire-analytics",[vI]:"fire-analytics-compat",[TI]:"fire-app-check",[wI]:"fire-app-check-compat",[II]:"fire-auth",[SI]:"fire-auth-compat",[RI]:"fire-rtdb",[AI]:"fire-data-connect",[CI]:"fire-rtdb-compat",[PI]:"fire-fn",[kI]:"fire-fn-compat",[NI]:"fire-iid",[xI]:"fire-iid-compat",[DI]:"fire-fcm",[OI]:"fire-fcm-compat",[LI]:"fire-perf",[VI]:"fire-perf-compat",[bI]:"fire-rc",[MI]:"fire-rc-compat",[FI]:"fire-gcs",[jI]:"fire-gcs-compat",[UI]:"fire-fst",[BI]:"fire-fst-compat",[zI]:"fire-vertex","fire-js":"fire-js",[$I]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Map,WI=new Map,Jd=new Map;function Kg(r,e){try{r.container.addComponent(e)}catch(t){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function wo(r){const e=r.name;if(Jd.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;Jd.set(e,r);for(const t of oc.values())Kg(t,r);for(const t of WI.values())Kg(t,r);return!0}function Df(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Zn(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yi=new al("app","Firebase",KI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=qI;function O_(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Yd,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw yi.create("bad-app-name",{appName:String(o)});if(t||(t=k_()),!t)throw yi.create("no-options");const l=oc.get(o);if(l){if(sc(t,l.options)&&sc(i,l.config))return l;throw yi.create("duplicate-app",{appName:o})}const h=new eI(o);for(const p of Jd.values())h.addComponent(p);const f=new GI(t,i,h);return oc.set(o,f),f}function L_(r=Yd){const e=oc.get(r);if(!e&&r===Yd&&k_())return O_();if(!e)throw yi.create("no-app",{appName:r});return e}function _i(r,e,t){var i;let o=(i=HI[r])!==null&&i!==void 0?i:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(f.join(" "));return}wo(new cs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="firebase-heartbeat-database",YI=1,Ya="firebase-heartbeat-store";let Od=null;function V_(){return Od||(Od=fI(QI,YI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ya)}catch(t){console.warn(t)}}}}).catch(r=>{throw yi.create("idb-open",{originalErrorMessage:r.message})})),Od}async function JI(r){try{const t=(await V_()).transaction(Ya),i=await t.objectStore(Ya).get(b_(r));return await t.done,i}catch(e){if(e instanceof Mr)Dr.warn(e.message);else{const t=yi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dr.warn(t.message)}}}async function Gg(r,e){try{const i=(await V_()).transaction(Ya,"readwrite");await i.objectStore(Ya).put(e,b_(r)),await i.done}catch(t){if(t instanceof Mr)Dr.warn(t.message);else{const i=yi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Dr.warn(i.message)}}}function b_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=1024,ZI=30*24*60*60*1e3;class eS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new nS(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Qg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const f=new Date(h.date).valueOf();return Date.now()-f<=ZI}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Dr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Qg(),{heartbeatsToSend:i,unsentEntries:o}=tS(this._heartbeatsCache.heartbeats),l=ic(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Dr.warn(t),""}}}function Qg(){return new Date().toISOString().substring(0,10)}function tS(r,e=XI){const t=[];let i=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),Yg(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Yg(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class nS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BT()?$T().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await JI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Gg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Gg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Yg(r){return ic(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(r){wo(new cs("platform-logger",e=>new gI(e),"PRIVATE")),wo(new cs("heartbeat",e=>new eS(e),"PRIVATE")),_i(Qd,Wg,r),_i(Qd,Wg,"esm2017"),_i("fire-js","")}rS("");function Of(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(t[i[o]]=r[i[o]]);return t}function M_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iS=M_,F_=new al("auth","Firebase",M_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new Nf("@firebase/auth");function sS(r,...e){ac.logLevel<=Pe.WARN&&ac.warn(`Auth (${Do}): ${r}`,...e)}function Ku(r,...e){ac.logLevel<=Pe.ERROR&&ac.error(`Auth (${Do}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(r,...e){throw Lf(r,...e)}function er(r,...e){return Lf(r,...e)}function j_(r,e,t){const i=Object.assign(Object.assign({},iS()),{[e]:t});return new al("auth","Firebase",i).create(e,{appName:r.name})}function xr(r){return j_(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lf(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return F_.create(r,...e)}function Ee(r,e,...t){if(!r)throw Lf(e,...t)}function Cr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ku(e),new Error(e)}function Or(r,e){r||Cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function oS(){return Jg()==="http:"||Jg()==="https:"}function Jg(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oS()||FT()||"connection"in navigator)?navigator.onLine:!0}function lS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,t){this.shortDelay=e,this.longDelay=t,Or(t>e,"Short delay should be less than long delay!"),this.isMobile=VT()||jT()}get(){return aS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(r,e){Or(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=new ul(3e4,6e4);function Fr(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function lr(r,e,t,i,o={}){return z_(r,o,async()=>{let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});const f=ll(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},l);return MT()||(y.referrerPolicy="no-referrer"),U_.fetch()(B_(r,r.config.apiHost,t,f),y)})}async function z_(r,e,t){r._canInitEmulator=!1;const i=Object.assign(Object.assign({},uS),e);try{const o=new dS(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw bu(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[p,y]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw bu(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw bu(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw bu(r,"user-disabled",h);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw j_(r,v,y);Un(r,v)}}catch(o){if(o instanceof Mr)throw o;Un(r,"network-request-failed",{message:String(o)})}}async function cl(r,e,t,i,o={}){const l=await lr(r,e,t,i,o);return"mfaPendingCredential"in l&&Un(r,"multi-factor-auth-required",{_serverResponse:l}),l}function B_(r,e,t,i){const o=`${e}${t}?${i}`;return r.config.emulator?Vf(r.config,o):`${r.config.apiScheme}://${o}`}function hS(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(er(this.auth,"network-request-failed")),cS.get())})}}function bu(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=er(r,e,i);return o.customData._tokenResponse=t,o}function Xg(r){return r!==void 0&&r.enterprise!==void 0}class fS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return hS(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pS(r,e){return lr(r,"GET","/v2/recaptchaConfig",Fr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mS(r,e){return lr(r,"POST","/v1/accounts:delete",e)}async function $_(r,e){return lr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gS(r,e=!1){const t=_t(r),i=await t.getIdToken(e),o=bf(i);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:qa(Ld(o.auth_time)),issuedAtTime:qa(Ld(o.iat)),expirationTime:qa(Ld(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Ld(r){return Number(r)*1e3}function bf(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return Ku("JWT malformed, contained fewer than 3 sections"),null;try{const o=C_(t);return o?JSON.parse(o):(Ku("Failed to decode base64 JWT payload"),null)}catch(o){return Ku("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Zg(r){const e=bf(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Mr&&yS(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function yS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qa(this.lastLoginAt),this.creationTime=qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(r){var e;const t=r.auth,i=await r.getIdToken(),o=await To(r,$_(t,{idToken:i}));Ee(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?q_(l.providerUserInfo):[],f=ES(r.providerData,h),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!(f!=null&&f.length),v=p?y:!1,I={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Zd(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(r,I)}async function vS(r){const e=_t(r);await lc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ES(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function q_(r){return r.map(e=>{var{providerId:t}=e,i=Of(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wS(r,e){const t=await z_(r,{},async()=>{const i=ll({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=B_(r,o,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",U_.fetch()(h,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function TS(r,e){return lr(r,"POST","/v2/accounts:revokeToken",Fr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=Zg(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await wS(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,h=new yo;return i&&(Ee(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Ee(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return Cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Pr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=Of(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _S(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Zd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await To(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return gS(this,e)}reload(){return vS(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Pr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await lc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(xr(this.auth));const e=await this.getIdToken();return await To(this,mS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,h,f,p,y,v;const I=(i=t.displayName)!==null&&i!==void 0?i:void 0,w=(o=t.email)!==null&&o!==void 0?o:void 0,C=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,k=(h=t.photoURL)!==null&&h!==void 0?h:void 0,F=(f=t.tenantId)!==null&&f!==void 0?f:void 0,V=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,W=(y=t.createdAt)!==null&&y!==void 0?y:void 0,K=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:te,emailVerified:se,isAnonymous:Q,providerData:fe,stsTokenManager:x}=t;Ee(te&&x,e,"internal-error");const S=yo.fromJSON(this.name,x);Ee(typeof te=="string",e,"internal-error"),ci(I,e.name),ci(w,e.name),Ee(typeof se=="boolean",e,"internal-error"),Ee(typeof Q=="boolean",e,"internal-error"),ci(C,e.name),ci(k,e.name),ci(F,e.name),ci(V,e.name),ci(W,e.name),ci(K,e.name);const A=new Pr({uid:te,auth:e,email:w,emailVerified:se,displayName:I,isAnonymous:Q,photoURL:k,phoneNumber:C,tenantId:F,stsTokenManager:S,createdAt:W,lastLoginAt:K});return fe&&Array.isArray(fe)&&(A.providerData=fe.map(N=>Object.assign({},N))),V&&(A._redirectEventId=V),A}static async _fromIdTokenResponse(e,t,i=!1){const o=new yo;o.updateFromServerResponse(t);const l=new Pr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await lc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?q_(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new yo;f.updateFromIdToken(i);const p=new Pr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Zd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey=new Map;function kr(r){Or(r instanceof Function,"Expected a class definition");let e=ey.get(r);return e?(Or(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,ey.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}H_.type="NONE";const ty=H_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(r,e,t){return`firebase:${r}:${e}:${t}`}class _o{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=Gu(this.userKey,o.apiKey,l),this.fullPersistenceKey=Gu("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Pr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new _o(kr(ty),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||kr(ty);const h=Gu(i,e.config.apiKey,e.name);let f=null;for(const y of t)try{const v=await y._get(h);if(v){const I=Pr._fromJSON(e,v);y!==l&&(f=I),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new _o(l,e,i):(l=p[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(h)}catch{}})),new _o(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Q_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(W_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(J_(e))return"Blackberry";if(X_(e))return"Webos";if(K_(e))return"Safari";if((e.includes("chrome/")||G_(e))&&!e.includes("edge/"))return"Chrome";if(Y_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function W_(r=zt()){return/firefox\//i.test(r)}function K_(r=zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function G_(r=zt()){return/crios\//i.test(r)}function Q_(r=zt()){return/iemobile/i.test(r)}function Y_(r=zt()){return/android/i.test(r)}function J_(r=zt()){return/blackberry/i.test(r)}function X_(r=zt()){return/webos/i.test(r)}function Mf(r=zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function IS(r=zt()){var e;return Mf(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SS(){return UT()&&document.documentMode===10}function Z_(r=zt()){return Mf(r)||Y_(r)||X_(r)||J_(r)||/windows phone/i.test(r)||Q_(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(r,e=[]){let t;switch(r){case"Browser":t=ny(zt());break;case"Worker":t=`${ny(zt())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Do}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,f)=>{try{const p=e(l);h(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AS(r,e={}){return lr(r,"GET","/v2/passwordPolicy",Fr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=6;class PS{constructor(e){var t,i,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:CS,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,h,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ry(this),this.idTokenSubscription=new ry(this),this.beforeStateQueue=new RS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=kr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await _o.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await $_(this,{idToken:e}),i=await Pr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Zn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===f)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await lc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(xr(this));const t=e?_t(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AS(this),t=new PS(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new al("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await TS(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&kr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[kr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ev(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&sS(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ci(r){return _t(r)}class ry{constructor(e){this.auth=e,this.observer=null,this.addObserver=GT(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NS(r){Ac=r}function tv(r){return Ac.loadJS(r)}function xS(){return Ac.recaptchaEnterpriseScript}function DS(){return Ac.gapiScript}function OS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class LS{constructor(){this.enterprise=new VS}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class VS{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const bS="recaptcha-enterprise",nv="NO_RECAPTCHA";class MS{constructor(e){this.type=bS,this.auth=Ci(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,f)=>{pS(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const y=new fS(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,h(y.siteKey)}}).catch(p=>{f(p)})})}function o(l,h,f){const p=window.grecaptcha;Xg(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{h(y)}).catch(()=>{h(nv)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LS().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{i(this.auth).then(f=>{if(!t&&Xg(window.grecaptcha))o(f,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=xS();p.length!==0&&(p+=f),tv(p).then(()=>{o(f,l,h)}).catch(y=>{h(y)})}}).catch(f=>{h(f)})})}}async function iy(r,e,t,i=!1,o=!1){const l=new MS(r);let h;if(o)h=nv;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,y=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:h}):Object.assign(f,{captchaResponse:h}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function uc(r,e,t,i,o){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await iy(r,e,t,t==="getOobCode");return i(r,h)}else return i(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await iy(r,e,t,t==="getOobCode");return i(r,f)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(r,e){const t=Df(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(sc(l,e??{}))return o;Un(o,"already-initialized")}return t.initialize({options:e})}function jS(r,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(kr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function US(r,e,t){const i=Ci(r);Ee(i._canInitEmulator,i,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=rv(e),{host:h,port:f}=zS(e),p=f===null?"":`:${f}`;i.config.emulator={url:`${l}//${h}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),BS()}function rv(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function zS(r){const e=rv(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:sy(i.substr(l.length+1))}}else{const[l,h]=i.split(":");return{host:l,port:sy(h)}}}function sy(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function BS(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,t){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}async function $S(r,e){return lr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qS(r,e){return cl(r,"POST","/v1/accounts:signInWithPassword",Fr(r,e))}async function HS(r,e){return lr(r,"POST","/v1/accounts:sendOobCode",Fr(r,e))}async function WS(r,e){return HS(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KS(r,e){return cl(r,"POST","/v1/accounts:signInWithEmailLink",Fr(r,e))}async function GS(r,e){return cl(r,"POST","/v1/accounts:signInWithEmailLink",Fr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends Ff{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Ja(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Ja(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uc(e,t,"signInWithPassword",qS);case"emailLink":return KS(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uc(e,i,"signUpPassword",$S);case"emailLink":return GS(e,{idToken:t,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(r,e){return cl(r,"POST","/v1/accounts:signInWithIdp",Fr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="http://localhost";class hs extends Ff{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Un("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=Of(t,["providerId","signInMethod"]);if(!i||!o)return null;const h=new hs(i,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return vo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,vo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,vo(e,t)}buildRequest(){const e={requestUri:QS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ll(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JS(r){const e=ja(Ua(r)).link,t=e?ja(Ua(e)).deep_link_id:null,i=ja(Ua(r)).deep_link_id;return(i?ja(Ua(i)).link:null)||i||t||e||r}class jf{constructor(e){var t,i,o,l,h,f;const p=ja(Ua(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(i=p.oobCode)!==null&&i!==void 0?i:null,I=YS((o=p.mode)!==null&&o!==void 0?o:null);Ee(y&&v&&I,"argument-error"),this.apiKey=y,this.operation=I,this.code=v,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=JS(e);try{return new jf(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.providerId=Oo.PROVIDER_ID}static credential(e,t){return Ja._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=jf.parseLink(t);return Ee(i,"argument-error"),Ja._fromEmailAndCode(e,i.code,i.tenantId)}}Oo.PROVIDER_ID="password";Oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends iv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends hl{constructor(){super("facebook.com")}static credential(e){return hs._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends hl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return hs._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return di.credential(t,i)}catch{return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com";di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends hl{constructor(){super("github.com")}static credential(e){return hs._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.GITHUB_SIGN_IN_METHOD="github.com";fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends hl{constructor(){super("twitter.com")}static credential(e,t){return hs._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return pi.credential(t,i)}catch{return null}}}pi.TWITTER_SIGN_IN_METHOD="twitter.com";pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XS(r,e){return cl(r,"POST","/v1/accounts:signUp",Fr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Pr._fromIdTokenResponse(e,i,o),h=oy(i);return new ds({user:l,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=oy(i);return new ds({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function oy(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends Mr{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,cc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new cc(e,t,i,o)}}function sv(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?cc._fromErrorAndOperation(r,l,e,i):l})}async function ZS(r,e,t=!1){const i=await To(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return ds._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e1(r,e,t=!1){const{auth:i}=r;if(Zn(i.app))return Promise.reject(xr(i));const o="reauthenticate";try{const l=await To(r,sv(i,o,e,r),t);Ee(l.idToken,i,"internal-error");const h=bf(l.idToken);Ee(h,i,"internal-error");const{sub:f}=h;return Ee(r.uid===f,i,"user-mismatch"),ds._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Un(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ov(r,e,t=!1){if(Zn(r.app))return Promise.reject(xr(r));const i="signIn",o=await sv(r,i,e),l=await ds._fromIdTokenResponse(r,i,o);return t||await r._updateCurrentUser(l.user),l}async function t1(r,e){return ov(Ci(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function av(r){const e=Ci(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function n1(r,e,t){const i=Ci(r);await uc(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",WS)}async function r1(r,e,t){if(Zn(r.app))return Promise.reject(xr(r));const i=Ci(r),h=await uc(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XS).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&av(r),p}),f=await ds._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(f.user),f}function i1(r,e,t){return Zn(r.app)?Promise.reject(xr(r)):t1(_t(r),Oo.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&av(r),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(r,e){return lr(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o1(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=_t(r),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await To(i,s1(i.auth,l));i.displayName=h.displayName||null,i.photoURL=h.photoUrl||null;const f=i.providerData.find(({providerId:p})=>p==="password");f&&(f.displayName=i.displayName,f.photoURL=i.photoURL),await i._updateTokensIfNecessary(h)}function a1(r,e,t,i){return _t(r).onIdTokenChanged(e,t,i)}function l1(r,e,t){return _t(r).beforeAuthStateChanged(e,t)}function u1(r,e,t,i){return _t(r).onAuthStateChanged(e,t,i)}function c1(r){return _t(r).signOut()}const hc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hc,"1"),this.storage.removeItem(hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=1e3,d1=10;class uv extends lv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Z_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,p)=>{this.notifyListeners(h,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);SS()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,d1):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},h1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}uv.type="LOCAL";const f1=uv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv extends lv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}cv.type="SESSION";const hv=cv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Cc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(h).map(async y=>y(t.origin,l)),p=await p1(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,p)=>{const y=Uf("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(I){const w=I;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(w.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(){return window}function g1(r){tr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(){return typeof tr().WorkerGlobalScope<"u"&&typeof tr().importScripts=="function"}async function y1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _1(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function v1(){return dv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="firebaseLocalStorageDb",E1=1,dc="firebaseLocalStorage",pv="fbase_key";class dl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Pc(r,e){return r.transaction([dc],e?"readwrite":"readonly").objectStore(dc)}function w1(){const r=indexedDB.deleteDatabase(fv);return new dl(r).toPromise()}function ef(){const r=indexedDB.open(fv,E1);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(dc,{keyPath:pv})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(dc)?e(i):(i.close(),await w1(),e(await ef()))})})}async function ay(r,e,t){const i=Pc(r,!0).put({[pv]:e,value:t});return new dl(i).toPromise()}async function T1(r,e){const t=Pc(r,!1).get(e),i=await new dl(t).toPromise();return i===void 0?null:i.value}function ly(r,e){const t=Pc(r,!0).delete(e);return new dl(t).toPromise()}const I1=800,S1=3;class mv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ef(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>S1)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cc._getInstance(v1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await y1(),!this.activeServiceWorker)return;this.sender=new m1(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ef();return await ay(e,hc,"1"),await ly(e,hc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ay(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>T1(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ly(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Pc(o,!1).getAll();return new dl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),I1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mv.type="LOCAL";const R1=mv;new ul(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(r,e){return e?kr(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf extends Ff{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return vo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function C1(r){return ov(r.auth,new zf(r),r.bypassAuthState)}function P1(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),e1(t,new zf(r),r.bypassAuthState)}async function k1(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),ZS(t,new zf(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return C1;case"linkViaPopup":case"linkViaRedirect":return k1;case"reauthViaPopup":case"reauthViaRedirect":return P1;default:Un(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=new ul(2e3,1e4);class mo extends gv{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,mo.currentPopupAction&&mo.currentPopupAction.cancel(),mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const e=Uf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,N1.get())};e()}}mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="pendingRedirect",Qu=new Map;class D1 extends gv{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Qu.get(this.auth._key());if(!e){try{const i=await O1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Qu.set(this.auth._key(),e)}return this.bypassAuthState||Qu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function O1(r,e){const t=b1(e),i=V1(r);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function L1(r,e){Qu.set(r._key(),e)}function V1(r){return kr(r._redirectPersistence)}function b1(r){return Gu(x1,r.config.apiKey,r.name)}async function M1(r,e,t=!1){if(Zn(r.app))return Promise.reject(xr(r));const i=Ci(r),o=A1(i,e),h=await new D1(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=10*60*1e3;class j1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!U1(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!yv(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(er(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=F1&&this.cachedEventUids.clear(),this.cachedEventUids.has(uy(e))}saveEventToCache(e){this.cachedEventUids.add(uy(e)),this.lastProcessedEventTime=Date.now()}}function uy(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function yv({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function U1(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yv(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z1(r,e={}){return lr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$1=/^https?/;async function q1(r){if(r.config.emulator)return;const{authorizedDomains:e}=await z1(r);for(const t of e)try{if(H1(t))return}catch{}Un(r,"unauthorized-domain")}function H1(r){const e=Xd(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!$1.test(t))return!1;if(B1.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=new ul(3e4,6e4);function cy(){const r=tr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function K1(r){return new Promise((e,t)=>{var i,o,l;function h(){cy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cy(),t(er(r,"network-request-failed"))},timeout:W1.get()})}if(!((o=(i=tr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=tr().gapi)===null||l===void 0)&&l.load)h();else{const f=OS("iframefcb");return tr()[f]=()=>{gapi.load?h():t(er(r,"network-request-failed"))},tv(`${DS()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Yu=null,e})}let Yu=null;function G1(r){return Yu=Yu||K1(r),Yu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=new ul(5e3,15e3),Y1="__/auth/iframe",J1="emulator/auth/iframe",X1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eR(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Vf(e,J1):`https://${r.config.authDomain}/${Y1}`,i={apiKey:e.apiKey,appName:r.name,v:Do},o=Z1.get(r.config.apiHost);o&&(i.eid=o);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${ll(i).slice(1)}`}async function tR(r){const e=await G1(r),t=tr().gapi;return Ee(t,r,"internal-error"),e.open({where:document.body,url:eR(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X1,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const h=er(r,"network-request-failed"),f=tr().setTimeout(()=>{l(h)},Q1.get());function p(){tr().clearTimeout(f),o(i)}i.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rR=500,iR=600,sR="_blank",oR="http://localhost";class hy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aR(r,e,t,i=rR,o=iR){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},nR),{width:i.toString(),height:o.toString(),top:l,left:h}),y=zt().toLowerCase();t&&(f=G_(y)?sR:t),W_(y)&&(e=e||oR,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[C,k])=>`${w}${C}=${k},`,"");if(IS(y)&&f!=="_self")return lR(e||"",f),new hy(null);const I=window.open(e||"",f,v);Ee(I,r,"popup-blocked");try{I.focus()}catch{}return new hy(I)}function lR(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="__/auth/handler",cR="emulator/auth/handler",hR=encodeURIComponent("fac");async function dy(r,e,t,i,o,l){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:Do,eventId:o};if(e instanceof iv){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",KT(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,I]of Object.entries({}))h[v]=I}if(e instanceof hl){const v=e.getScopes().filter(I=>I!=="");v.length>0&&(h.scopes=v.join(","))}r.tenantId&&(h.tid=r.tenantId);const f=h;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const p=await r._getAppCheckToken(),y=p?`#${hR}=${encodeURIComponent(p)}`:"";return`${dR(r)}?${ll(f).slice(1)}${y}`}function dR({config:r}){return r.emulator?Vf(r,cR):`https://${r.authDomain}/${uR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="webStorageSupport";class fR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hv,this._completeRedirectFn=M1,this._overrideRedirectResult=L1}async _openPopup(e,t,i,o){var l;Or((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await dy(e,t,i,Xd(),o);return aR(e,h,Uf())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await dy(e,t,i,Xd(),o);return g1(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Or(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await tR(e),i=new j1(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Vd,{type:Vd},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Vd];h!==void 0&&t(!!h),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=q1(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Z_()||K_()||Mf()}}const pR=fR;var fy="@firebase/auth",py="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yR(r){wo(new cs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=i.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:h,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ev(r)},y=new kS(i,o,l,p);return jS(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),wo(new cs("auth-internal",e=>{const t=Ci(e.getProvider("auth").getImmediate());return(i=>new mR(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(fy,py,gR(r)),_i(fy,py,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=5*60,vR=N_("authIdTokenMaxAge")||_R;let my=null;const ER=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>vR)return;const o=t==null?void 0:t.token;my!==o&&(my=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wR(r=L_()){const e=Df(r,"auth");if(e.isInitialized())return e.getImmediate();const t=FS(r,{popupRedirectResolver:pR,persistence:[R1,f1,hv]}),i=N_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const h=ER(l.toString());l1(t,h,()=>h(t.currentUser)),a1(t,f=>h(f))}}const o=P_("auth");return o&&US(t,`http://${o}`),t}function TR(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}NS({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const l=er("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",TR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yR("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function IR(r,e,t,i){function o(l){return l instanceof t?l:new t(function(h){h(l)})}return new(t||(t=Promise))(function(l,h){function f(v){try{y(i.next(v))}catch(I){h(I)}}function p(v){try{y(i.throw(v))}catch(I){h(I)}}function y(v){v.done?l(v.value):o(v.value).then(f,p)}y((i=i.apply(r,[])).next())})}function SR(r,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,o,l,h;return h={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function f(y){return function(v){return p([y,v])}}function p(y){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,o&&(l=y[0]&2?o.return:y[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,y[1])).done)return l;switch(o=0,l&&(y=[y[0]&2,l.value]),y[0]){case 0:case 1:l=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,o=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!l||y[1]>l[0]&&y[1]<l[3])){t.label=y[1];break}if(y[0]===6&&t.label<l[1]){t.label=l[1],l=y;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(y);break}l[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(r,t)}catch(v){y=[6,v],o=0}finally{i=l=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var go=function(){return go=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},go.apply(this,arguments)},_v=function(r){return{loading:r==null,value:r}},RR=function(){return function(r,e){switch(e.type){case"error":return go(go({},r),{error:e.error,loading:!1,value:void 0});case"reset":return _v(e.defaultValue);case"value":return go(go({},r),{error:void 0,loading:!1,value:e.value});default:return r}}},AR=function(r){var e=r?r():void 0,t=$.useReducer(RR(),_v(e)),i=t[0],o=t[1],l=$.useCallback(function(){var p=r?r():void 0;o({type:"reset",defaultValue:p})},[r]),h=$.useCallback(function(p){o({type:"error",error:p})},[]),f=$.useCallback(function(p){o({type:"value",value:p})},[]);return $.useMemo(function(){return{error:i.error,loading:i.loading,reset:l,setError:h,setValue:f,value:i.value}},[i.error,i.loading,l,h,f,i.value])},kc=function(r,e){var t=AR(function(){return r.currentUser}),i=t.error,o=t.loading,l=t.setError,h=t.setValue,f=t.value;return $.useEffect(function(){var p=u1(r,function(y){return IR(void 0,void 0,void 0,function(){var v;return SR(this,function(I){switch(I.label){case 0:return[3,4];case 1:return I.trys.push([1,3,,4]),[4,e.onUserChanged(y)];case 2:return I.sent(),[3,4];case 3:return v=I.sent(),l(v),[3,4];case 4:return h(y),[2]}})})},l);return function(){p()}},[r]),[f,o,i]};const CR=(r,e)=>{switch(e.type){case"SET_LOADING":return{...r,loading:e.payload};case"SET_ERROR":return{...r,error:e.payload};case"SET_PROJECTS":return{...r,projects:e.payload};case"CREATE_PROJECT":return{...r,projects:[...r.projects,e.payload.project]};case"UPDATE_PROJECT":return{...r,projects:r.projects.map(t=>t.id===e.payload.projectId?{...t,...e.payload.updatedProjectData}:t)};case"UPDATE_STATUS":return{...r,projects:r.projects.map(t=>t.id===e.payload.projectId?{...t,status:e.payload.status}:t)};default:return r}},PR="CREATE_PROJECT",kR="DELETE_PROJECT",Fa="SET_LOADING",Mu="SET_ERROR",NR="SET_PROJECTS",xR="UPDATE_STATUS";var DR="firebase",OR="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(DR,OR,"app");var gy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,vv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function A(){}A.prototype=S.prototype,x.D=S.prototype,x.prototype=new A,x.prototype.constructor=x,x.C=function(N,O,j){for(var P=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)P[Xe-2]=arguments[Xe];return S.prototype[O].apply(N,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,A){A||(A=0);var N=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)N[O]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(O=0;16>O;++O)N[O]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=x.g[0],A=x.g[1],O=x.g[2];var j=x.g[3],P=S+(j^A&(O^j))+N[0]+3614090360&4294967295;S=A+(P<<7&4294967295|P>>>25),P=j+(O^S&(A^O))+N[1]+3905402710&4294967295,j=S+(P<<12&4294967295|P>>>20),P=O+(A^j&(S^A))+N[2]+606105819&4294967295,O=j+(P<<17&4294967295|P>>>15),P=A+(S^O&(j^S))+N[3]+3250441966&4294967295,A=O+(P<<22&4294967295|P>>>10),P=S+(j^A&(O^j))+N[4]+4118548399&4294967295,S=A+(P<<7&4294967295|P>>>25),P=j+(O^S&(A^O))+N[5]+1200080426&4294967295,j=S+(P<<12&4294967295|P>>>20),P=O+(A^j&(S^A))+N[6]+2821735955&4294967295,O=j+(P<<17&4294967295|P>>>15),P=A+(S^O&(j^S))+N[7]+4249261313&4294967295,A=O+(P<<22&4294967295|P>>>10),P=S+(j^A&(O^j))+N[8]+1770035416&4294967295,S=A+(P<<7&4294967295|P>>>25),P=j+(O^S&(A^O))+N[9]+2336552879&4294967295,j=S+(P<<12&4294967295|P>>>20),P=O+(A^j&(S^A))+N[10]+4294925233&4294967295,O=j+(P<<17&4294967295|P>>>15),P=A+(S^O&(j^S))+N[11]+2304563134&4294967295,A=O+(P<<22&4294967295|P>>>10),P=S+(j^A&(O^j))+N[12]+1804603682&4294967295,S=A+(P<<7&4294967295|P>>>25),P=j+(O^S&(A^O))+N[13]+4254626195&4294967295,j=S+(P<<12&4294967295|P>>>20),P=O+(A^j&(S^A))+N[14]+2792965006&4294967295,O=j+(P<<17&4294967295|P>>>15),P=A+(S^O&(j^S))+N[15]+1236535329&4294967295,A=O+(P<<22&4294967295|P>>>10),P=S+(O^j&(A^O))+N[1]+4129170786&4294967295,S=A+(P<<5&4294967295|P>>>27),P=j+(A^O&(S^A))+N[6]+3225465664&4294967295,j=S+(P<<9&4294967295|P>>>23),P=O+(S^A&(j^S))+N[11]+643717713&4294967295,O=j+(P<<14&4294967295|P>>>18),P=A+(j^S&(O^j))+N[0]+3921069994&4294967295,A=O+(P<<20&4294967295|P>>>12),P=S+(O^j&(A^O))+N[5]+3593408605&4294967295,S=A+(P<<5&4294967295|P>>>27),P=j+(A^O&(S^A))+N[10]+38016083&4294967295,j=S+(P<<9&4294967295|P>>>23),P=O+(S^A&(j^S))+N[15]+3634488961&4294967295,O=j+(P<<14&4294967295|P>>>18),P=A+(j^S&(O^j))+N[4]+3889429448&4294967295,A=O+(P<<20&4294967295|P>>>12),P=S+(O^j&(A^O))+N[9]+568446438&4294967295,S=A+(P<<5&4294967295|P>>>27),P=j+(A^O&(S^A))+N[14]+3275163606&4294967295,j=S+(P<<9&4294967295|P>>>23),P=O+(S^A&(j^S))+N[3]+4107603335&4294967295,O=j+(P<<14&4294967295|P>>>18),P=A+(j^S&(O^j))+N[8]+1163531501&4294967295,A=O+(P<<20&4294967295|P>>>12),P=S+(O^j&(A^O))+N[13]+2850285829&4294967295,S=A+(P<<5&4294967295|P>>>27),P=j+(A^O&(S^A))+N[2]+4243563512&4294967295,j=S+(P<<9&4294967295|P>>>23),P=O+(S^A&(j^S))+N[7]+1735328473&4294967295,O=j+(P<<14&4294967295|P>>>18),P=A+(j^S&(O^j))+N[12]+2368359562&4294967295,A=O+(P<<20&4294967295|P>>>12),P=S+(A^O^j)+N[5]+4294588738&4294967295,S=A+(P<<4&4294967295|P>>>28),P=j+(S^A^O)+N[8]+2272392833&4294967295,j=S+(P<<11&4294967295|P>>>21),P=O+(j^S^A)+N[11]+1839030562&4294967295,O=j+(P<<16&4294967295|P>>>16),P=A+(O^j^S)+N[14]+4259657740&4294967295,A=O+(P<<23&4294967295|P>>>9),P=S+(A^O^j)+N[1]+2763975236&4294967295,S=A+(P<<4&4294967295|P>>>28),P=j+(S^A^O)+N[4]+1272893353&4294967295,j=S+(P<<11&4294967295|P>>>21),P=O+(j^S^A)+N[7]+4139469664&4294967295,O=j+(P<<16&4294967295|P>>>16),P=A+(O^j^S)+N[10]+3200236656&4294967295,A=O+(P<<23&4294967295|P>>>9),P=S+(A^O^j)+N[13]+681279174&4294967295,S=A+(P<<4&4294967295|P>>>28),P=j+(S^A^O)+N[0]+3936430074&4294967295,j=S+(P<<11&4294967295|P>>>21),P=O+(j^S^A)+N[3]+3572445317&4294967295,O=j+(P<<16&4294967295|P>>>16),P=A+(O^j^S)+N[6]+76029189&4294967295,A=O+(P<<23&4294967295|P>>>9),P=S+(A^O^j)+N[9]+3654602809&4294967295,S=A+(P<<4&4294967295|P>>>28),P=j+(S^A^O)+N[12]+3873151461&4294967295,j=S+(P<<11&4294967295|P>>>21),P=O+(j^S^A)+N[15]+530742520&4294967295,O=j+(P<<16&4294967295|P>>>16),P=A+(O^j^S)+N[2]+3299628645&4294967295,A=O+(P<<23&4294967295|P>>>9),P=S+(O^(A|~j))+N[0]+4096336452&4294967295,S=A+(P<<6&4294967295|P>>>26),P=j+(A^(S|~O))+N[7]+1126891415&4294967295,j=S+(P<<10&4294967295|P>>>22),P=O+(S^(j|~A))+N[14]+2878612391&4294967295,O=j+(P<<15&4294967295|P>>>17),P=A+(j^(O|~S))+N[5]+4237533241&4294967295,A=O+(P<<21&4294967295|P>>>11),P=S+(O^(A|~j))+N[12]+1700485571&4294967295,S=A+(P<<6&4294967295|P>>>26),P=j+(A^(S|~O))+N[3]+2399980690&4294967295,j=S+(P<<10&4294967295|P>>>22),P=O+(S^(j|~A))+N[10]+4293915773&4294967295,O=j+(P<<15&4294967295|P>>>17),P=A+(j^(O|~S))+N[1]+2240044497&4294967295,A=O+(P<<21&4294967295|P>>>11),P=S+(O^(A|~j))+N[8]+1873313359&4294967295,S=A+(P<<6&4294967295|P>>>26),P=j+(A^(S|~O))+N[15]+4264355552&4294967295,j=S+(P<<10&4294967295|P>>>22),P=O+(S^(j|~A))+N[6]+2734768916&4294967295,O=j+(P<<15&4294967295|P>>>17),P=A+(j^(O|~S))+N[13]+1309151649&4294967295,A=O+(P<<21&4294967295|P>>>11),P=S+(O^(A|~j))+N[4]+4149444226&4294967295,S=A+(P<<6&4294967295|P>>>26),P=j+(A^(S|~O))+N[11]+3174756917&4294967295,j=S+(P<<10&4294967295|P>>>22),P=O+(S^(j|~A))+N[2]+718787259&4294967295,O=j+(P<<15&4294967295|P>>>17),P=A+(j^(O|~S))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(O+(P<<21&4294967295|P>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+j&4294967295}i.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var A=S-this.blockSize,N=this.B,O=this.h,j=0;j<S;){if(O==0)for(;j<=A;)o(this,x,j),j+=this.blockSize;if(typeof x=="string"){for(;j<S;)if(N[O++]=x.charCodeAt(j++),O==this.blockSize){o(this,N),O=0;break}}else for(;j<S;)if(N[O++]=x[j++],O==this.blockSize){o(this,N),O=0;break}}this.h=O,this.o+=S},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var A=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=A&255,A/=256;for(this.u(x),x=Array(16),S=A=0;4>S;++S)for(var N=0;32>N;N+=8)x[A++]=this.g[S]>>>N&255;return x};function l(x,S){var A=f;return Object.prototype.hasOwnProperty.call(A,x)?A[x]:A[x]=S(x)}function h(x,S){this.h=S;for(var A=[],N=!0,O=x.length-1;0<=O;O--){var j=x[O]|0;N&&j==S||(A[O]=j,N=!1)}this.g=A}var f={};function p(x){return-128<=x&&128>x?l(x,function(S){return new h([S|0],0>S?-1:0)}):new h([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return I;if(0>x)return V(y(-x));for(var S=[],A=1,N=0;x>=A;N++)S[N]=x/A|0,A*=4294967296;return new h(S,0)}function v(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return V(v(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(S,8)),N=I,O=0;O<x.length;O+=8){var j=Math.min(8,x.length-O),P=parseInt(x.substring(O,O+j),S);8>j?(j=y(Math.pow(S,j)),N=N.j(j).add(y(P))):(N=N.j(A),N=N.add(y(P)))}return N}var I=p(0),w=p(1),C=p(16777216);r=h.prototype,r.m=function(){if(F(this))return-V(this).m();for(var x=0,S=1,A=0;A<this.g.length;A++){var N=this.i(A);x+=(0<=N?N:4294967296+N)*S,S*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(k(this))return"0";if(F(this))return"-"+V(this).toString(x);for(var S=y(Math.pow(x,6)),A=this,N="";;){var O=se(A,S).g;A=W(A,O.j(S));var j=((0<A.g.length?A.g[0]:A.h)>>>0).toString(x);if(A=O,k(A))return j+N;for(;6>j.length;)j="0"+j;N=j+N}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function k(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function F(x){return x.h==-1}r.l=function(x){return x=W(this,x),F(x)?-1:k(x)?0:1};function V(x){for(var S=x.g.length,A=[],N=0;N<S;N++)A[N]=~x.g[N];return new h(A,~x.h).add(w)}r.abs=function(){return F(this)?V(this):this},r.add=function(x){for(var S=Math.max(this.g.length,x.g.length),A=[],N=0,O=0;O<=S;O++){var j=N+(this.i(O)&65535)+(x.i(O)&65535),P=(j>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);N=P>>>16,j&=65535,P&=65535,A[O]=P<<16|j}return new h(A,A[A.length-1]&-2147483648?-1:0)};function W(x,S){return x.add(V(S))}r.j=function(x){if(k(this)||k(x))return I;if(F(this))return F(x)?V(this).j(V(x)):V(V(this).j(x));if(F(x))return V(this.j(V(x)));if(0>this.l(C)&&0>x.l(C))return y(this.m()*x.m());for(var S=this.g.length+x.g.length,A=[],N=0;N<2*S;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(var O=0;O<x.g.length;O++){var j=this.i(N)>>>16,P=this.i(N)&65535,Xe=x.i(O)>>>16,Dt=x.i(O)&65535;A[2*N+2*O]+=P*Dt,K(A,2*N+2*O),A[2*N+2*O+1]+=j*Dt,K(A,2*N+2*O+1),A[2*N+2*O+1]+=P*Xe,K(A,2*N+2*O+1),A[2*N+2*O+2]+=j*Xe,K(A,2*N+2*O+2)}for(N=0;N<S;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=S;N<2*S;N++)A[N]=0;return new h(A,0)};function K(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function te(x,S){this.g=x,this.h=S}function se(x,S){if(k(S))throw Error("division by zero");if(k(x))return new te(I,I);if(F(x))return S=se(V(x),S),new te(V(S.g),V(S.h));if(F(S))return S=se(x,V(S)),new te(V(S.g),S.h);if(30<x.g.length){if(F(x)||F(S))throw Error("slowDivide_ only works with positive integers.");for(var A=w,N=S;0>=N.l(x);)A=Q(A),N=Q(N);var O=fe(A,1),j=fe(N,1);for(N=fe(N,2),A=fe(A,2);!k(N);){var P=j.add(N);0>=P.l(x)&&(O=O.add(A),j=P),N=fe(N,1),A=fe(A,1)}return S=W(x,O.j(S)),new te(O,S)}for(O=I;0<=x.l(S);){for(A=Math.max(1,Math.floor(x.m()/S.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),j=y(A),P=j.j(S);F(P)||0<P.l(x);)A-=N,j=y(A),P=j.j(S);k(j)&&(j=w),O=O.add(j),x=W(x,P)}return new te(O,x)}r.A=function(x){return se(this,x).h},r.and=function(x){for(var S=Math.max(this.g.length,x.g.length),A=[],N=0;N<S;N++)A[N]=this.i(N)&x.i(N);return new h(A,this.h&x.h)},r.or=function(x){for(var S=Math.max(this.g.length,x.g.length),A=[],N=0;N<S;N++)A[N]=this.i(N)|x.i(N);return new h(A,this.h|x.h)},r.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),A=[],N=0;N<S;N++)A[N]=this.i(N)^x.i(N);return new h(A,this.h^x.h)};function Q(x){for(var S=x.g.length+1,A=[],N=0;N<S;N++)A[N]=x.i(N)<<1|x.i(N-1)>>>31;return new h(A,x.h)}function fe(x,S){var A=S>>5;S%=32;for(var N=x.g.length-A,O=[],j=0;j<N;j++)O[j]=0<S?x.i(j+A)>>>S|x.i(j+A+1)<<32-S:x.i(j+A);return new h(O,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,vv=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=v,ls=h}).apply(typeof gy<"u"?gy:typeof self<"u"?self:typeof window<"u"?window:{});var Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ev,za,wv,Ju,tf,Tv,Iv,Sv;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fu=="object"&&Fu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var _=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in _))break e;_=_[U]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var _=0,T=!1,U={next:function(){if(!T&&_<u.length){var H=_++;return{value:m(H,u[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function I(u,m,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function w(u,m,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:I,w.apply(null,arguments)}function C(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function k(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,U,H){for(var re=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)re[ze-2]=arguments[ze];return m.prototype[U].apply(T,re)}}function F(u){const m=u.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function V(u,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(p(T)){const U=u.length||0,H=T.length||0;u.length=U+H;for(let re=0;re<H;re++)u[U+re]=T[re]}else u.push(T)}}class W{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(u){return/^[\s\xa0]*$/.test(u)}function te(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function se(u){return se[" "](u),u}se[" "]=function(){};var Q=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function fe(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function x(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function S(u){const m={};for(const _ in u)m[_]=u[_];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let _,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(_ in T)u[_]=T[_];for(let H=0;H<A.length;H++)_=A[H],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function O(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function j(u){f.setTimeout(()=>{throw u},0)}function P(){var u=ye;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Xe{constructor(){this.h=this.g=null}add(m,_){const T=Dt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var Dt=new W(()=>new Ot,u=>u.reset());class Ot{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,ie=!1,ye=new Xe,ae=()=>{const u=f.Promise.resolve(void 0);Be=()=>{u.then(M)}};var M=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(_){j(_)}var m=Dt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ie=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};f.addEventListener("test",_,m),f.removeEventListener("test",_,m)}catch{}return u}();function Ae(u,m){if(me.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Q){e:{try{se(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ae.aa.h.call(this)}}k(Ae,me);var De={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function qe(u,m,_,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=U,this.key=++Fe,this.da=this.fa=!1}function vt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ur(u){this.src=u,this.g={},this.h=0}ur.prototype.add=function(u,m,_,T,U){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var re=jr(u,m,T,U);return-1<re?(m=u[re],_||(m.fa=!1)):(m=new qe(m,this.src,H,!!T,U),m.fa=_,u.push(m)),m};function _s(u,m){var _=m.type;if(_ in u.g){var T=u.g[_],U=Array.prototype.indexOf.call(T,m,void 0),H;(H=0<=U)&&Array.prototype.splice.call(T,U,1),H&&(vt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function jr(u,m,_,T){for(var U=0;U<u.length;++U){var H=u[U];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==T)return U}return-1}var xi="closure_lm_"+(1e6*Math.random()|0),vs={};function zo(u,m,_,T,U){if(Array.isArray(m)){for(var H=0;H<m.length;H++)zo(u,m[H],_,T,U);return null}return _=qo(_),u&&u[Me]?u.K(m,_,y(T)?!!T.capture:!!T,U):Bo(u,m,_,!1,T,U)}function Bo(u,m,_,T,U,H){if(!m)throw Error("Invalid event type");var re=y(U)?!!U.capture:!!U,ze=ws(u);if(ze||(u[xi]=ze=new ur(u)),_=ze.add(m,_,T,re,H),_.proxy)return _;if(T=vl(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)Re||(U=re),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(hr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function vl(){function u(_){return m.call(u.src,u.listener,_)}const m=$o;return u}function Es(u,m,_,T,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)Es(u,m[H],_,T,U);else T=y(T)?!!T.capture:!!T,_=qo(_),u&&u[Me]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],_=jr(H,_,T,U),-1<_&&(vt(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=ws(u))&&(m=u.g[m.toString()],u=-1,m&&(u=jr(m,_,T,U)),(_=-1<u?m[u]:null)&&cr(_))}function cr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Me])_s(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(hr(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=ws(m))?(_s(_,u),_.h==0&&(_.src=null,m[xi]=null)):vt(u)}}}function hr(u){return u in vs?vs[u]:vs[u]="on"+u}function $o(u,m){if(u.da)u=!0;else{m=new Ae(m,this);var _=u.listener,T=u.ha||u.src;u.fa&&cr(u),u=_.call(T,m)}return u}function ws(u){return u=u[xi],u instanceof ur?u:null}var Ts="__closure_events_fn_"+(1e9*Math.random()>>>0);function qo(u){return typeof u=="function"?u:(u[Ts]||(u[Ts]=function(m){return u.handleEvent(m)}),u[Ts])}function ht(){Y.call(this),this.i=new ur(this),this.M=this,this.F=null}k(ht,Y),ht.prototype[Me]=!0,ht.prototype.removeEventListener=function(u,m,_,T){Es(this,u,m,_,T)};function dt(u,m){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new me(m,u);else if(m instanceof me)m.target=m.target||u;else{var U=m;m=new me(T,u),N(m,U)}if(U=!0,_)for(var H=_.length-1;0<=H;H--){var re=m.g=_[H];U=dr(re,T,!0,m)&&U}if(re=m.g=u,U=dr(re,T,!0,m)&&U,U=dr(re,T,!1,m)&&U,_)for(H=0;H<_.length;H++)re=m.g=_[H],U=dr(re,T,!1,m)&&U}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],T=0;T<_.length;T++)vt(_[T]);delete u.g[m],u.h--}}this.F=null},ht.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},ht.prototype.L=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function dr(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,H=0;H<m.length;++H){var re=m[H];if(re&&!re.da&&re.capture==_){var ze=re.listener,ft=re.ha||re.src;re.fa&&_s(u.i,re),U=ze.call(ft,T)!==!1&&U}}return U&&!T.defaultPrevented}function Ho(u,m,_){if(typeof u=="function")_&&(u=w(u,_));else if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function Ur(u){u.g=Ho(()=>{u.g=null,u.i&&(u.i=!1,Ur(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Di extends Y{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ur(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oi(u){Y.call(this),this.h=u,this.g={}}k(Oi,Y);var Wo=[];function Ko(u){fe(u.g,function(m,_){this.g.hasOwnProperty(_)&&cr(m)},u),u.g={}}Oi.prototype.N=function(){Oi.aa.N.call(this),Ko(this)},Oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Go=f.JSON.stringify,Qo=f.JSON.parse,Yo=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Li(){}Li.prototype.h=null;function Is(u){return u.h||(u.h=u.i())}function Ss(){}var fn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bn(){me.call(this,"d")}k(Bn,me);function Rs(){me.call(this,"c")}k(Rs,me);var $n={},Jo=null;function Vi(){return Jo=Jo||new ht}$n.La="serverreachability";function Xo(u){me.call(this,$n.La,u)}k(Xo,me);function fr(u){const m=Vi();dt(m,new Xo(m))}$n.STAT_EVENT="statevent";function Zo(u,m){me.call(this,$n.STAT_EVENT,u),this.stat=m}k(Zo,me);function it(u){const m=Vi();dt(m,new Zo(m,u))}$n.Ma="timingevent";function As(u,m){me.call(this,$n.Ma,u),this.size=m}k(As,me);function Sn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function bi(){this.g=!0}bi.prototype.xa=function(){this.g=!1};function Mi(u,m,_,T,U,H){u.info(function(){if(u.g)if(H)for(var re="",ze=H.split("&"),ft=0;ft<ze.length;ft++){var Oe=ze[ft].split("=");if(1<Oe.length){var Et=Oe[0];Oe=Oe[1];var at=Et.split("_");re=2<=at.length&&at[1]=="type"?re+(Et+"="+Oe+"&"):re+(Et+"=redacted&")}}else re=null;else re=H;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+_+`
`+re})}function Cs(u,m,_,T,U,H,re){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+_+`
`+H+" "+re})}function Rn(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Yc(u,_)+(T?" "+T:"")})}function ea(u,m){u.info(function(){return"TIMEOUT: "+m})}bi.prototype.info=function(){};function Yc(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var re=1;re<U.length;re++)U[re]=""}}}}return Go(_)}catch{return m}}var Ps={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},El={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},An;function Fi(){}k(Fi,Li),Fi.prototype.g=function(){return new XMLHttpRequest},Fi.prototype.i=function(){return{}},An=new Fi;function Cn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.R=T||1,this.U=new Oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wl}function wl(){this.i=null,this.g="",this.h=!1}var ta={},ks={};function Ns(u,m,_){u.L=1,u.v=Hr(on(m)),u.m=_,u.P=!0,na(u,null)}function na(u,m){u.F=Date.now(),He(u),u.A=on(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Kr(_.i,"t",T),u.C=0,_=u.j.J,u.h=new wl,u.g=jl(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Di(w(u.Y,u,u.g),u.O)),m=u.U,_=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Wo[0]=U.toString()),U=Wo);for(var H=0;H<U.length;H++){var re=zo(_,U[H],T||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),fr(),Mi(u.i,u.u,u.A,u.l,u.R,u.m)}Cn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Kt(u)==3?m.j():this.Y(u)},Cn.prototype.Y=function(u){try{if(u==this.g)e:{const at=Kt(this.g);var m=this.g.Ba();const gn=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||la(this.g)))){this.J||at!=4||m==7||(m==8||0>=gn?fr(3):fr(2)),ji(this);var _=this.g.Z();this.X=_;t:if(Tl(this)){var T=la(this.g);u="";var U=T.length,H=Kt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),zr(this);var re="";break t}this.h.i=new f.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(H&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,Cs(this.i,this.u,this.A,this.l,this.R,at,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,ft=this.g;if((ze=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(ze)){var Oe=ze;break t}}Oe=null}if(_=Oe)Rn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ra(this,_);else{this.o=!1,this.s=3,it(12),pn(this),zr(this);break e}}if(this.P){_=!0;let ln;for(;!this.J&&this.C<re.length;)if(ln=Jc(this,re),ln==ks){at==4&&(this.s=4,it(14),_=!1),Rn(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==ta){this.s=4,it(15),Rn(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else Rn(this.i,this.l,ln,null),ra(this,ln);if(Tl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||re.length!=0||this.h.h||(this.s=1,it(16),_=!1),this.o=this.o&&_,!_)Rn(this.i,this.l,re,"[Invalid Chunked Response]"),pn(this),zr(this);else if(0<re.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),ca(Et),Et.M=!0,it(11))}}else Rn(this.i,this.l,re,null),ra(this,re);at==4&&pn(this),this.o&&!this.J&&(at==4?zs(this.j,this):(this.o=!1,He(this)))}else bs(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),pn(this),zr(this)}}}catch{}finally{}};function Tl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Jc(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?ks:(_=Number(m.substring(_,T)),isNaN(_)?ta:(T+=1,T+_>m.length?ks:(m=m.slice(T,T+_),u.C=T+_,m)))}Cn.prototype.cancel=function(){this.J=!0,pn(this)};function He(u){u.S=Date.now()+u.I,Il(u,u.I)}function Il(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Sn(w(u.ba,u),m)}function ji(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Cn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ea(this.i,this.A),this.L!=2&&(fr(),it(17)),pn(this),this.s=2,zr(this)):Il(this,this.S-u)};function zr(u){u.j.G==0||u.J||zs(u.j,u)}function pn(u){ji(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ko(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ra(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||Bt(_.h,u))){if(!u.K&&Bt(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Us(_),Dn(_);else break e;js(_),it(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=Sn(w(_.Za,_),6e3));if(1>=Rl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else _r(_,11)}else if((u.K||_.g==u)&&Us(_),!K(m))for(U=_.Da.g.parse(m),m=0;m<U.length;m++){let Oe=U[m];if(_.T=Oe[0],Oe=Oe[1],_.G==2)if(Oe[0]=="c"){_.K=Oe[1],_.ia=Oe[2];const Et=Oe[3];Et!=null&&(_.la=Et,_.j.info("VER="+_.la));const at=Oe[4];at!=null&&(_.Aa=at,_.j.info("SVER="+_.Aa));const gn=Oe[5];gn!=null&&typeof gn=="number"&&0<gn&&(T=1.5*gn,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const ln=u.g;if(ln){const Wi=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wi){var H=T.h;H.g||Wi.indexOf("spdy")==-1&&Wi.indexOf("quic")==-1&&Wi.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(ia(H,H.h),H.h=null))}if(T.D){const $s=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;$s&&(T.ya=$s,$e(T.I,T.D,$s))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var re=u;if(T.qa=Fl(T,T.J?T.ia:null,T.W),re.K){Al(T.h,re);var ze=re,ft=T.L;ft&&(ze.I=ft),ze.B&&(ji(ze),He(ze)),T.g=re}else Hi(T);0<_.i.length&&Kn(_)}else Oe[0]!="stop"&&Oe[0]!="close"||_r(_,7);else _.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?_r(_,7):At(_):Oe[0]!="noop"&&_.l&&_.l.ta(Oe),_.v=0)}}fr(4)}catch{}}var Sl=class{constructor(u,m){this.g=u,this.map=m}};function Ui(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Rl(u){return u.h?1:u.g?u.g.size:0}function Bt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ia(u,m){u.g?u.g.add(m):u.h=m}function Al(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ui.prototype.cancel=function(){if(this.i=Cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Cl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return F(u.i)}function xs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,T=0;T<_;T++)m.push(u[T]);return m}m=[],_=0;for(T in u)m[_++]=u[T];return m}function Ds(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const T in u)m[_++]=T;return m}}}function Br(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Ds(u),T=xs(u),U=T.length,H=0;H<U;H++)m.call(void 0,T[H],_&&_[H],u)}var zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xc(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),U=null;if(0<=T){var H=u[_].substring(0,T);U=u[_].substring(T+1)}else H=u[_];m(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function pr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pr){this.h=u.h,Bi(this,u.j),this.o=u.o,this.g=u.g,$r(this,u.s),this.l=u.l;var m=u.i,_=new qn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),qr(this,_),this.m=u.m}else u&&(m=String(u).match(zi))?(this.h=!1,Bi(this,m[1]||"",!0),this.o=Ne(m[2]||""),this.g=Ne(m[3]||"",!0),$r(this,m[4]),this.l=Ne(m[5]||"",!0),qr(this,m[6]||"",!0),this.m=Ne(m[7]||"")):(this.h=!1,this.i=new qn(null,this.h))}pr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Wr(m,Os,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Wr(m,Os,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Wr(_,_.charAt(0)=="/"?Nl:kl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Wr(_,sa)),u.join("")};function on(u){return new pr(u)}function Bi(u,m,_){u.j=_?Ne(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function $r(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function qr(u,m,_){m instanceof qn?(u.i=m,Hn(u.i,u.h)):(_||(m=Wr(m,xl)),u.i=new qn(m,u.h))}function $e(u,m,_){u.i.set(m,_)}function Hr(u){return $e(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ne(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Wr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Pl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Pl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Os=/[#\/\?@]/g,kl=/[#\?:]/g,Nl=/[#\?]/g,xl=/[#\?@]/g,sa=/#/g;function qn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Rt(u){u.g||(u.g=new Map,u.h=0,u.i&&Xc(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=qn.prototype,r.add=function(u,m){Rt(this),this.i=null,u=mn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Pn(u,m){Rt(u),m=mn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function kn(u,m){return Rt(u),m=mn(u,m),u.g.has(m)}r.forEach=function(u,m){Rt(this),this.g.forEach(function(_,T){_.forEach(function(U){u.call(m,U,T,this)},this)},this)},r.na=function(){Rt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const U=u[T];for(let H=0;H<U.length;H++)_.push(m[T])}return _},r.V=function(u){Rt(this);let m=[];if(typeof u=="string")kn(this,u)&&(m=m.concat(this.g.get(mn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return Rt(this),this.i=null,u=mn(this,u),kn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Kr(u,m,_){Pn(u,m),0<_.length&&(u.i=null,u.g.set(mn(u,m),F(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const H=encodeURIComponent(String(T)),re=this.V(T);for(T=0;T<re.length;T++){var U=H;re[T]!==""&&(U+="="+encodeURIComponent(String(re[T]))),u.push(U)}}return this.i=u.join("&")};function mn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Hn(u,m){m&&!u.j&&(Rt(u),u.i=null,u.g.forEach(function(_,T){var U=T.toLowerCase();T!=U&&(Pn(this,T),Kr(this,U,_))},u)),u.j=m}function Zc(u,m){const _=new bi;if(f.Image){const T=new Image;T.onload=C(Wt,_,"TestLoadImage: loaded",!0,m,T),T.onerror=C(Wt,_,"TestLoadImage: error",!1,m,T),T.onabort=C(Wt,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=C(Wt,_,"TestLoadImage: timeout",!1,m,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Dl(u,m){const _=new bi,T=new AbortController,U=setTimeout(()=>{T.abort(),Wt(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(U),H.ok?Wt(_,"TestPingServer: ok",!0,m):Wt(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Wt(_,"TestPingServer: error",!1,m)})}function Wt(u,m,_,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(_)}catch{}}function eh(){this.g=new Yo}function Ol(u,m,_){const T=_||"";try{Br(u,function(U,H){let re=U;y(U)&&(re=Go(U)),m.push(T+H+"="+encodeURIComponent(re))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function mr(u){this.l=u.Ub||null,this.j=u.eb||!1}k(mr,Li),mr.prototype.g=function(){return new $i(this.l,this.j)},mr.prototype.i=function(u){return function(){return u}}({});function $i(u,m){ht.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k($i,ht),r=$i.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,xn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,xn(this)),this.g&&(this.readyState=3,xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ll(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ll(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Nn(this):xn(this),this.readyState==3&&Ll(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Nn(this))},r.Qa=function(u){this.g&&(this.response=u,Nn(this))},r.ga=function(){this.g&&Nn(this)};function Nn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,xn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty($i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function gr(u){let m="";return fe(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Gr(u,m,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=gr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):$e(u,m,_))}function Ye(u){ht.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ye,ht);var th=/^https?$/i,oa=["POST","PUT"];r=Ye.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():An.g(),this.v=this.o?Is(this.o):Is(An),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){qi(this,H);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)_.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())_.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),U=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(oa,m,void 0))||T||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,re]of _)this.g.setRequestHeader(H,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vs(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){qi(this,H)}};function qi(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ls(u),an(u)}function Ls(u){u.A||(u.A=!0,dt(u,"complete"),dt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,dt(this,"complete"),dt(this,"abort"),an(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),an(this,!0)),Ye.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?aa(this):this.bb())},r.bb=function(){aa(this)};function aa(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Kt(u)!=4||u.Z()!=2)){if(u.u&&Kt(u)==4)Ho(u.Ea,0,u);else if(dt(u,"readystatechange"),Kt(u)==4){u.h=!1;try{const re=u.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var T;if(T=re===0){var U=String(u.D).match(zi)[1]||null;!U&&f.self&&f.self.location&&(U=f.self.location.protocol.slice(0,-1)),T=!th.test(U?U.toLowerCase():"")}_=T}if(_)dt(u,"complete"),dt(u,"success");else{u.m=6;try{var H=2<Kt(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",Ls(u)}}finally{an(u)}}}}function an(u,m){if(u.g){Vs(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||dt(u,"ready");try{_.onreadystatechange=T}catch{}}}function Vs(u){u.I&&(f.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Kt(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Kt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Qo(m)}};function la(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function bs(u){const m={};u=(u.g&&2<=Kt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(K(u[T]))continue;var _=O(u[T]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[U]||[];m[U]=H,H.push(_)}x(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wn(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ua(u){this.Aa=0,this.i=[],this.j=new bi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wn("baseRetryDelayMs",5e3,u),this.cb=Wn("retryDelaySeedMs",1e4,u),this.Wa=Wn("forwardChannelMaxRetries",2,u),this.wa=Wn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ui(u&&u.concurrentRequestLimit),this.Da=new eh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ua.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,T){it(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=Fl(this,null,this.W),Kn(this)};function At(u){if(Ms(u),u.G==3){var m=u.U++,_=on(u.I);if($e(_,"SID",u.K),$e(_,"RID",m),$e(_,"TYPE","terminate"),yr(u,_),m=new Cn(u,u.j,m),m.L=2,m.v=Hr(on(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=m.v,_=!0),_||(m.g=jl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),He(m)}Ml(u)}function Dn(u){u.g&&(ca(u),u.g.cancel(),u.g=null)}function Ms(u){Dn(u),u.u&&(f.clearTimeout(u.u),u.u=null),Us(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function Kn(u){if(!sn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Be||ae(),ie||(Be(),ie=!0),ye.add(m,u),u.B=0}}function nh(u,m){return Rl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Sn(w(u.Ga,u,m),bl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Cn(this,this.j,u);let H=this.o;if(this.S&&(H?(H=S(H),N(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Qr(this,U,m),_=on(this.I),$e(_,"RID",u),$e(_,"CVER",22),this.D&&$e(_,"X-HTTP-Session-Id",this.D),yr(this,_),H&&(this.O?m="headers="+encodeURIComponent(String(gr(H)))+"&"+m:this.m&&Gr(_,this.m,H)),ia(this.h,U),this.Ua&&$e(_,"TYPE","init"),this.P?($e(_,"$req",m),$e(_,"SID","null"),U.T=!0,Ns(U,_,null)):Ns(U,_,m),this.G=2}}else this.G==3&&(u?Fs(this,u):this.i.length==0||sn(this.h)||Fs(this))};function Fs(u,m){var _;m?_=m.l:_=u.U++;const T=on(u.I);$e(T,"SID",u.K),$e(T,"RID",_),$e(T,"AID",u.T),yr(u,T),u.m&&u.o&&Gr(T,u.m,u.o),_=new Cn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Qr(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ia(u.h,_),Ns(_,T,m)}function yr(u,m){u.H&&fe(u.H,function(_,T){$e(m,T,_)}),u.l&&Br({},function(_,T){$e(m,T,_)})}function Qr(u,m,_){_=Math.min(u.i.length,_);var T=u.l?w(u.l.Na,u.l,u):null;e:{var U=u.i;let H=-1;for(;;){const re=["count="+_];H==-1?0<_?(H=U[0].g,re.push("ofs="+H)):H=0:re.push("ofs="+H);let ze=!0;for(let ft=0;ft<_;ft++){let Oe=U[ft].g;const Et=U[ft].map;if(Oe-=H,0>Oe)H=Math.max(0,U[ft].g-100),ze=!1;else try{Ol(Et,re,"req"+Oe+"_")}catch{T&&T(Et)}}if(ze){T=re.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,T}function Hi(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Be||ae(),ie||(Be(),ie=!0),ye.add(m,u),u.v=0}}function js(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Sn(w(u.Fa,u),bl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Vl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Sn(w(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Dn(this),Vl(this))};function ca(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Vl(u){u.g=new Cn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=on(u.qa);$e(m,"RID","rpc"),$e(m,"SID",u.K),$e(m,"AID",u.T),$e(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&$e(m,"TO",u.ja),$e(m,"TYPE","xmlhttp"),yr(u,m),u.m&&u.o&&Gr(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Hr(on(m)),_.m=null,_.P=!0,na(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Dn(this),js(this),it(19))};function Us(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function zs(u,m){var _=null;if(u.g==m){Us(u),ca(u),u.g=null;var T=2}else if(Bt(u.h,m))_=m.D,Al(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=Vi(),dt(T,new As(T,_)),Kn(u)}else Hi(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&nh(u,m)||T==2&&js(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),U){case 1:_r(u,5);break;case 4:_r(u,10);break;case 3:_r(u,6);break;default:_r(u,2)}}}function bl(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function _r(u,m){if(u.j.info("Error code "+m),m==2){var _=w(u.fb,u),T=u.Xa;const U=!T;T=new pr(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Bi(T,"https"),Hr(T),U?Zc(T.toString(),_):Dl(T.toString(),_)}else it(2);u.G=0,u.l&&u.l.sa(m),Ml(u),Ms(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Ml(u){if(u.G=0,u.ka=[],u.l){const m=Cl(u.h);(m.length!=0||u.i.length!=0)&&(V(u.ka,m),V(u.ka,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.ra()}}function Fl(u,m,_){var T=_ instanceof pr?on(_):new pr(_);if(T.g!="")m&&(T.g=m+"."+T.g),$r(T,T.s);else{var U=f.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var H=new pr(null);T&&Bi(H,T),m&&(H.g=m),U&&$r(H,U),_&&(H.l=_),T=H}return _=u.D,m=u.ya,_&&m&&$e(T,_,m),$e(T,"VER",u.la),yr(u,T),T}function jl(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ye(new mr({eb:_})):new Ye(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ha(){}r=ha.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Bs(){}Bs.prototype.g=function(u,m){return new $t(u,m)};function $t(u,m){ht.call(this),this.g=new ua(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!K(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!K(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Gn(this)}k($t,ht),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){At(this.g)},$t.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Go(u),u=_);m.i.push(new Sl(m.Ya++,u)),m.G==3&&Kn(m)},$t.prototype.N=function(){this.g.l=null,delete this.j,At(this.g),delete this.g,$t.aa.N.call(this)};function Ul(u){Bn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}k(Ul,Bn);function zl(){Rs.call(this),this.status=1}k(zl,Rs);function Gn(u){this.g=u}k(Gn,ha),Gn.prototype.ua=function(){dt(this.g,"a")},Gn.prototype.ta=function(u){dt(this.g,new Ul(u))},Gn.prototype.sa=function(u){dt(this.g,new zl)},Gn.prototype.ra=function(){dt(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,Sv=function(){return new Bs},Iv=function(){return Vi()},Tv=$n,tf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ps.NO_ERROR=0,Ps.TIMEOUT=8,Ps.HTTP_ERROR=6,Ju=Ps,El.COMPLETE="complete",wv=El,Ss.EventType=fn,fn.OPEN="a",fn.CLOSE="b",fn.ERROR="c",fn.MESSAGE="d",ht.prototype.listen=ht.prototype.K,za=Ss,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,Ev=Ye}).apply(typeof Fu<"u"?Fu:typeof self<"u"?self:typeof window<"u"?window:{});const yy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new Nf("@firebase/firestore");function co(){return fs.logLevel}function le(r,...e){if(fs.logLevel<=Pe.DEBUG){const t=e.map(Bf);fs.debug(`Firestore (${Lo}): ${r}`,...t)}}function Lr(r,...e){if(fs.logLevel<=Pe.ERROR){const t=e.map(Bf);fs.error(`Firestore (${Lo}): ${r}`,...t)}}function Io(r,...e){if(fs.logLevel<=Pe.WARN){const t=e.map(Bf);fs.warn(`Firestore (${Lo}): ${r}`,...t)}}function Bf(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r="Unexpected state"){const e=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: `+r;throw Lr(e),new Error(e)}function Ue(r,e){r||Te()}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Mr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jt.UNAUTHENTICATED))}shutdown(){}}class VR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bR{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ue(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new vi,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new vi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ue(typeof i.accessToken=="string"),new Rv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new jt(e)}}class MR{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class FR{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new MR(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ue(this.o===void 0);const i=l=>{l.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ue(typeof t.token=="string"),this.R=t.token,new jR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=zR(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function xe(r,e){return r<e?-1:r>e?1:0}function So(r,e,t){return r.length===e.length&&r.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new gt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new gt(0,0))}static max(){return new Ie(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,t,i){t===void 0?t=0:t>e.length&&Te(),i===void 0?i=e.length-t:i>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Xa.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xa?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qe extends Xa{construct(e,t,i){return new Qe(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Qe(t)}static emptyPath(){return new Qe([])}}const BR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends Xa{construct(e,t,i){return new Nt(e,t,i)}static isValidIdentifier(e){return BR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new he(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(i+=f,o++):(l(),o++)}if(l(),h)throw new he(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(t)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Qe.fromString(e))}static fromName(e){return new ge(Qe.fromString(e).popFirst(5))}static empty(){return new ge(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Qe(e.slice()))}}function $R(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(i===1e9?new gt(t+1,0):new gt(t,i));return new Ti(o,ge.empty(),e)}function qR(r){return new Ti(r.readTime,r.key,-1)}class Ti{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ti(Ie.min(),ge.empty(),-1)}static max(){return new Ti(Ie.max(),ge.empty(),-1)}}function HR(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(r.documentKey,e.documentKey),t!==0?t:xe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==WR)throw r;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):G.reject(t)}static resolve(e){return new G((t,i)=>{t(e)})}static reject(e){return new G((t,i)=>{i(e)})}static waitFor(e){return new G((t,i)=>{let o=0,l=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++l,h&&l===o&&t()},p=>i(p))}),h=!0,l===o&&t()})}static or(e){let t=G.resolve(!1);for(const i of e)t=t.next(o=>o?G.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new G((i,o)=>{const l=e.length,h=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(v=>{h[y]=v,++f,f===l&&i(h)},v=>o(v))}})}static doWhile(e,t){return new G((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function GR(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function bo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Nc.oe=-1;function xc(r){return r==null}function fc(r){return r===0&&1/r==-1/0}function QR(r){return typeof r=="number"&&Number.isInteger(r)&&!fc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=_y(e)),e=JR(r.get(t),e);return _y(e)}function JR(r,e){let t=e;const i=r.length;for(let o=0;o<i;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function _y(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Pi(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Cv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,t){this.comparator=e,this.root=t||kt.EMPTY}insert(e,t){return new nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ju(this.root,e,this.comparator,!0)}}class ju{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??kt.RED,this.left=o??kt.EMPTY,this.right=l??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new kt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return kt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,i,o,l){return this}insert(e,t,i){return new kt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ey(this.data.getIterator())}getIteratorFrom(e){return new Ey(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yt(this.comparator);return t.data=e,t}}class Ey{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new dn([])}unionWith(e){let t=new yt(Nt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Pv("Invalid base64 string: "+l):l}}(e);return new xt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const XR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ii(r){if(Ue(!!r),typeof r=="string"){let e=0;const t=XR.exec(r);if(Ue(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ot(r.seconds),nanos:ot(r.nanos)}}function ot(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Si(r){return typeof r=="string"?xt.fromBase64String(r):xt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Dc(r){const e=r.mapValue.fields.__previous_value__;return $f(e)?Dc(e):e}function Za(r){const e=Ii(r.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,t,i,o,l,h,f,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y}}class el{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new el("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof el&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ri(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?$f(r)?4:tA(r)?9007199254740991:eA(r)?10:11:Te()}function sr(r,e){if(r===e)return!0;const t=Ri(r);if(t!==Ri(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Za(r).isEqual(Za(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Ii(o.timestampValue),f=Ii(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return Si(o.bytesValue).isEqual(Si(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return ot(o.geoPointValue.latitude)===ot(l.geoPointValue.latitude)&&ot(o.geoPointValue.longitude)===ot(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ot(o.integerValue)===ot(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=ot(o.doubleValue),f=ot(l.doubleValue);return h===f?fc(h)===fc(f):isNaN(h)&&isNaN(f)}return!1}(r,e);case 9:return So(r.arrayValue.values||[],e.arrayValue.values||[],sr);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(vy(h)!==vy(f))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(f[p]===void 0||!sr(h[p],f[p])))return!1;return!0}(r,e);default:return Te()}}function tl(r,e){return(r.values||[]).find(t=>sr(t,e))!==void 0}function Ro(r,e){if(r===e)return 0;const t=Ri(r),i=Ri(e);if(t!==i)return xe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(r.booleanValue,e.booleanValue);case 2:return function(l,h){const f=ot(l.integerValue||l.doubleValue),p=ot(h.integerValue||h.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(r,e);case 3:return wy(r.timestampValue,e.timestampValue);case 4:return wy(Za(r),Za(e));case 5:return xe(r.stringValue,e.stringValue);case 6:return function(l,h){const f=Si(l),p=Si(h);return f.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(l,h){const f=l.split("/"),p=h.split("/");for(let y=0;y<f.length&&y<p.length;y++){const v=xe(f[y],p[y]);if(v!==0)return v}return xe(f.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,h){const f=xe(ot(l.latitude),ot(h.latitude));return f!==0?f:xe(ot(l.longitude),ot(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Ty(r.arrayValue,e.arrayValue);case 10:return function(l,h){var f,p,y,v;const I=l.fields||{},w=h.fields||{},C=(f=I.value)===null||f===void 0?void 0:f.arrayValue,k=(p=w.value)===null||p===void 0?void 0:p.arrayValue,F=xe(((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0,((v=k==null?void 0:k.values)===null||v===void 0?void 0:v.length)||0);return F!==0?F:Ty(C,k)}(r.mapValue,e.mapValue);case 11:return function(l,h){if(l===Uu.mapValue&&h===Uu.mapValue)return 0;if(l===Uu.mapValue)return 1;if(h===Uu.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=h.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let I=0;I<p.length&&I<v.length;++I){const w=xe(p[I],v[I]);if(w!==0)return w;const C=Ro(f[p[I]],y[v[I]]);if(C!==0)return C}return xe(p.length,v.length)}(r.mapValue,e.mapValue);default:throw Te()}}function wy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xe(r,e);const t=Ii(r),i=Ii(e),o=xe(t.seconds,i.seconds);return o!==0?o:xe(t.nanos,i.nanos)}function Ty(r,e){const t=r.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Ro(t[o],i[o]);if(l)return l}return xe(t.length,i.length)}function Ao(r){return nf(r)}function nf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const i=Ii(t);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Si(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ge.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=nf(l);return i+"]"}(r.arrayValue):"mapValue"in r?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${nf(t.fields[h])}`;return o+"}"}(r.mapValue):Te()}function Xu(r){switch(Ri(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dc(r);return e?16+Xu(e):16;case 5:return 2*r.stringValue.length;case 6:return Si(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+Xu(l),0)}(r.arrayValue);case 10:case 11:return function(i){let o=0;return Pi(i.fields,(l,h)=>{o+=l.length+Xu(h)}),o}(r.mapValue);default:throw Te()}}function Iy(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function rf(r){return!!r&&"integerValue"in r}function qf(r){return!!r&&"arrayValue"in r}function Sy(r){return!!r&&"nullValue"in r}function Ry(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Zu(r){return!!r&&"mapValue"in r}function eA(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ha(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Pi(r.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ha(i)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ha(r.arrayValue.values[t]);return e}return Object.assign({},r)}function tA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Zu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ha(t)}setAll(e){let t=Nt.emptyPath(),i={},o=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}h?i[f.lastSegment()]=Ha(h):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Zu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Zu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Pi(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new nn(Ha(this.value))}}function kv(r){const e=[];return Pi(r.fields,(t,i)=>{const o=new Nt([t]);if(Zu(i)){const l=kv(i.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,t,i,o,l,h,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new Ut(e,0,Ie.min(),Ie.min(),Ie.min(),nn.empty(),0)}static newFoundDocument(e,t,i,o){return new Ut(e,1,t,Ie.min(),i,o,0)}static newNoDocument(e,t){return new Ut(e,2,t,Ie.min(),Ie.min(),nn.empty(),0)}static newUnknownDocument(e,t){return new Ut(e,3,t,Ie.min(),Ie.min(),nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,t){this.position=e,this.inclusive=t}}function Ay(r,e,t){let i=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?i=ge.comparator(ge.fromName(h.referenceValue),t.key):i=Ro(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Cy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!sr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,t="asc"){this.field=e,this.dir=t}}function nA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{}class ct extends Nv{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new iA(e,t,i):t==="array-contains"?new aA(e,i):t==="in"?new lA(e,i):t==="not-in"?new uA(e,i):t==="array-contains-any"?new cA(e,i):new ct(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new sA(e,i):new oA(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ro(t,this.value)):t!==null&&Ri(this.value)===Ri(t)&&this.matchesComparison(Ro(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends Nv{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new zn(e,t)}matches(e){return xv(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function xv(r){return r.op==="and"}function Dv(r){return rA(r)&&xv(r)}function rA(r){for(const e of r.filters)if(e instanceof zn)return!1;return!0}function sf(r){if(r instanceof ct)return r.field.canonicalString()+r.op.toString()+Ao(r.value);if(Dv(r))return r.filters.map(e=>sf(e)).join(",");{const e=r.filters.map(t=>sf(t)).join(",");return`${r.op}(${e})`}}function Ov(r,e){return r instanceof ct?function(i,o){return o instanceof ct&&i.op===o.op&&i.field.isEqual(o.field)&&sr(i.value,o.value)}(r,e):r instanceof zn?function(i,o){return o instanceof zn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,h,f)=>l&&Ov(h,o.filters[f]),!0):!1}(r,e):void Te()}function Lv(r){return r instanceof ct?function(t){return`${t.field.canonicalString()} ${t.op} ${Ao(t.value)}`}(r):r instanceof zn?function(t){return t.op.toString()+" {"+t.getFilters().map(Lv).join(" ,")+"}"}(r):"Filter"}class iA extends ct{constructor(e,t,i){super(e,t,i),this.key=ge.fromName(i.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class sA extends ct{constructor(e,t){super(e,"in",t),this.keys=Vv("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class oA extends ct{constructor(e,t){super(e,"not-in",t),this.keys=Vv("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Vv(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ge.fromName(i.referenceValue))}class aA extends ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qf(t)&&tl(t.arrayValue,this.value)}}class lA extends ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&tl(this.value.arrayValue,t)}}class uA extends ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(tl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!tl(this.value.arrayValue,t)}}class cA extends ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>tl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,t=null,i=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.ue=null}}function Py(r,e=null,t=[],i=[],o=null,l=null,h=null){return new hA(r,e,t,i,o,l,h)}function Hf(r){const e=Se(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>sf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),xc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ao(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ao(i)).join(",")),e.ue=t}return e.ue}function Wf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!nA(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Ov(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Cy(r.startAt,e.startAt)&&Cy(r.endAt,e.endAt)}function of(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,t=null,i=[],o=[],l=null,h="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function dA(r,e,t,i,o,l,h,f){return new fl(r,e,t,i,o,l,h,f)}function bv(r){return new fl(r)}function ky(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Mv(r){return r.collectionGroup!==null}function Wa(r){const e=Se(r);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new yt(Nt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new mc(l,i))}),t.has(Nt.keyField().canonicalString())||e.ce.push(new mc(Nt.keyField(),i))}return e.ce}function nr(r){const e=Se(r);return e.le||(e.le=fA(e,Wa(r))),e.le}function fA(r,e){if(r.limitType==="F")return Py(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new mc(o.field,l)});const t=r.endAt?new pc(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new pc(r.startAt.position,r.startAt.inclusive):null;return Py(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function af(r,e){const t=r.filters.concat([e]);return new fl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function lf(r,e,t){return new fl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Oc(r,e){return Wf(nr(r),nr(e))&&r.limitType===e.limitType}function Fv(r){return`${Hf(nr(r))}|lt:${r.limitType}`}function ho(r){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>Lv(o)).join(", ")}]`),xc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Ao(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Ao(o)).join(",")),`Target(${i})`}(nr(r))}; limitType=${r.limitType})`}function Lc(r,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ge.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(r,e)&&function(i,o){for(const l of Wa(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(i,o){return!(i.startAt&&!function(h,f,p){const y=Ay(h,f,p);return h.inclusive?y<=0:y<0}(i.startAt,Wa(i),o)||i.endAt&&!function(h,f,p){const y=Ay(h,f,p);return h.inclusive?y>=0:y>0}(i.endAt,Wa(i),o))}(r,e)}function pA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function jv(r){return(e,t)=>{let i=!1;for(const o of Wa(r)){const l=mA(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function mA(r,e,t){const i=r.field.isKeyField()?ge.comparator(e.key,t.key):function(l,h,f){const p=h.data.field(l),y=f.data.field(l);return p!==null&&y!==null?Ro(p,y):Te()}(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Pi(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return Cv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=new nt(ge.comparator);function Vr(){return gA}const Uv=new nt(ge.comparator);function Ba(...r){let e=Uv;for(const t of r)e=e.insert(t.key,t);return e}function zv(r){let e=Uv;return r.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function as(){return Ka()}function Bv(){return Ka()}function Ka(){return new gs(r=>r.toString(),(r,e)=>r.isEqual(e))}const yA=new nt(ge.comparator),_A=new yt(ge.comparator);function ke(...r){let e=_A;for(const t of r)e=e.add(t);return e}const vA=new yt(xe);function EA(){return vA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(e)?"-0":e}}function $v(r){return{integerValue:""+r}}function wA(r,e){return QR(e)?$v(e):Kf(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this._=void 0}}function TA(r,e,t){return r instanceof gc?function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&$f(l)&&(l=Dc(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):r instanceof nl?Hv(r,e):r instanceof rl?Wv(r,e):function(o,l){const h=qv(o,l),f=Ny(h)+Ny(o.Pe);return rf(h)&&rf(o.Pe)?$v(f):Kf(o.serializer,f)}(r,e)}function IA(r,e,t){return r instanceof nl?Hv(r,e):r instanceof rl?Wv(r,e):t}function qv(r,e){return r instanceof yc?function(i){return rf(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class gc extends Vc{}class nl extends Vc{constructor(e){super(),this.elements=e}}function Hv(r,e){const t=Kv(e);for(const i of r.elements)t.some(o=>sr(o,i))||t.push(i);return{arrayValue:{values:t}}}class rl extends Vc{constructor(e){super(),this.elements=e}}function Wv(r,e){let t=Kv(e);for(const i of r.elements)t=t.filter(o=>!sr(o,i));return{arrayValue:{values:t}}}class yc extends Vc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Ny(r){return ot(r.integerValue||r.doubleValue)}function Kv(r){return qf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function SA(r,e){return r.field.isEqual(e.field)&&function(i,o){return i instanceof nl&&o instanceof nl||i instanceof rl&&o instanceof rl?So(i.elements,o.elements,sr):i instanceof yc&&o instanceof yc?sr(i.Pe,o.Pe):i instanceof gc&&o instanceof gc}(r.transform,e.transform)}class RA{constructor(e,t){this.version=e,this.transformResults=t}}class In{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new In}static exists(e){return new In(void 0,e)}static updateTime(e){return new In(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ec(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class bc{}function Gv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Gf(r.key,In.none()):new pl(r.key,r.data,In.none());{const t=r.data,i=nn.empty();let o=new yt(Nt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new ki(r.key,i,new dn(o.toArray()),In.none())}}function AA(r,e,t){r instanceof pl?function(o,l,h){const f=o.value.clone(),p=Dy(o.fieldTransforms,l,h.transformResults);f.setAll(p),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(r,e,t):r instanceof ki?function(o,l,h){if(!ec(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=Dy(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(Qv(o)),p.setAll(f),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Ga(r,e,t,i){return r instanceof pl?function(l,h,f,p){if(!ec(l.precondition,h))return f;const y=l.value.clone(),v=Oy(l.fieldTransforms,p,h);return y.setAll(v),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(r,e,t,i):r instanceof ki?function(l,h,f,p){if(!ec(l.precondition,h))return f;const y=Oy(l.fieldTransforms,p,h),v=h.data;return v.setAll(Qv(l)),v.setAll(y),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(I=>I.field))}(r,e,t,i):function(l,h,f){return ec(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(r,e,t)}function CA(r,e){let t=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),l=qv(i.transform,o||null);l!=null&&(t===null&&(t=nn.empty()),t.set(i.field,l))}return t||null}function xy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&So(i,o,(l,h)=>SA(l,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class pl extends bc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ki extends bc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Qv(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}}),e}function Dy(r,e,t){const i=new Map;Ue(r.length===t.length);for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,f=e.data.field(l.field);i.set(l.field,IA(h,f,t[o]))}return i}function Oy(r,e,t){const i=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);i.set(o.field,TA(l,h,e))}return i}class Gf extends bc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PA extends bc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&AA(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ga(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ga(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Bv();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const p=Gv(h,f);p!==null&&i.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,(t,i)=>xy(t,i))&&So(this.baseMutations,e.baseMutations,(t,i)=>xy(t,i))}}class Qf{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ue(e.mutations.length===i.length);let o=function(){return yA}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new Qf(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Le;function DA(r){switch(r){default:return Te();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function Yv(r){if(r===void 0)return Lr("GRPC error has no .code"),J.UNKNOWN;switch(r){case ut.OK:return J.OK;case ut.CANCELLED:return J.CANCELLED;case ut.UNKNOWN:return J.UNKNOWN;case ut.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case ut.INTERNAL:return J.INTERNAL;case ut.UNAVAILABLE:return J.UNAVAILABLE;case ut.UNAUTHENTICATED:return J.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case ut.NOT_FOUND:return J.NOT_FOUND;case ut.ALREADY_EXISTS:return J.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return J.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case ut.ABORTED:return J.ABORTED;case ut.OUT_OF_RANGE:return J.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return J.UNIMPLEMENTED;case ut.DATA_LOSS:return J.DATA_LOSS;default:return Te()}}(Le=ut||(ut={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=new ls([4294967295,4294967295],0);function Ly(r){const e=OA().encode(r),t=new vv;return t.update(e),new Uint8Array(t.digest())}function Vy(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ls([t,i],0),new ls([o,l],0)]}class Yf{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new $a(`Invalid padding: ${t}`);if(i<0)throw new $a(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new $a(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new $a(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=ls.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(ls.fromNumber(i)));return o.compare(LA)===1&&(o=new ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Ly(e),[i,o]=Vy(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(i,o,l);if(!this.de(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Yf(l,o,t);return i.forEach(f=>h.insert(f)),h}insert(e){if(this.Te===0)return;const t=Ly(e),[i,o]=Vy(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(i,o,l);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class $a extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,ml.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Mc(Ie.min(),o,new nt(xe),Vr(),ke())}}class ml{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new ml(i,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class Jv{constructor(e,t){this.targetId=e,this.me=t}}class Xv{constructor(e,t,i=xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class by{constructor(){this.fe=0,this.ge=My(),this.pe=xt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),t=ke(),i=ke();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Te()}}),new ml(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=My()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class VA{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vr(),this.qe=zu(),this.Qe=zu(),this.Ke=new nt(xe)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(of(l))if(i===0){const h=new ge(l.path);this.We(t,h,Ut.newNoDocument(h,Ie.min()))}else Ue(i===1);else{const h=this.Ze(t);if(h!==i){const f=this.Xe(e),p=f?this.et(f,e,h):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=Si(i).toUint8Array()}catch(p){if(p instanceof Pv)return Io("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Yf(h,o,l)}catch(p){return Io(p instanceof $a?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Te===0?null:f}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const h=this.Le.nt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,h)=>{const f=this.Ye(h);if(f){if(l.current&&of(f.target)){const p=new ge(f.target.path);this.st(p).has(h)||this.ot(h,p)||this.We(h,p,Ut.newNoDocument(p,e))}l.be&&(t.set(h,l.ve()),l.Ce())}});let i=ke();this.Qe.forEach((l,h)=>{let f=!0;h.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.ke.forEach((l,h)=>h.setReadTime(e));const o=new Mc(e,t,this.Ke,this.ke,i);return this.ke=Vr(),this.qe=zu(),this.Qe=zu(),this.Ke=new nt(xe),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new by,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new yt(xe),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new yt(xe),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new by),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function zu(){return new nt(ge.comparator)}function My(){return new nt(ge.comparator)}const bA={asc:"ASCENDING",desc:"DESCENDING"},MA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FA={and:"AND",or:"OR"};class jA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function uf(r,e){return r.useProto3Json||xc(e)?e:{value:e}}function _c(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function UA(r,e){return _c(r,e.toTimestamp())}function rr(r){return Ue(!!r),Ie.fromTimestamp(function(t){const i=Ii(t);return new gt(i.seconds,i.nanos)}(r))}function Jf(r,e){return cf(r,e).canonicalString()}function cf(r,e){const t=function(o){return new Qe(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function eE(r){const e=Qe.fromString(r);return Ue(sE(e)),e}function hf(r,e){return Jf(r.databaseId,e.path)}function bd(r,e){const t=eE(e);if(t.get(1)!==r.databaseId.projectId)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ge(nE(t))}function tE(r,e){return Jf(r.databaseId,e)}function zA(r){const e=eE(r);return e.length===4?Qe.emptyPath():nE(e)}function df(r){return new Qe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function nE(r){return Ue(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Fy(r,e,t){return{name:hf(r,e),fields:t.value.mapValue.fields}}function BA(r,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,v){return y.useProto3Json?(Ue(v===void 0||typeof v=="string"),xt.fromBase64String(v||"")):(Ue(v===void 0||v instanceof Buffer||v instanceof Uint8Array),xt.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(y){const v=y.code===void 0?J.UNKNOWN:Yv(y.code);return new he(v,y.message||"")}(h);t=new Xv(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=bd(r,i.document.name),l=rr(i.document.updateTime),h=i.document.createTime?rr(i.document.createTime):Ie.min(),f=new nn({mapValue:{fields:i.document.fields}}),p=Ut.newFoundDocument(o,l,h,f),y=i.targetIds||[],v=i.removedTargetIds||[];t=new tc(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=bd(r,i.document),l=i.readTime?rr(i.readTime):Ie.min(),h=Ut.newNoDocument(o,l),f=i.removedTargetIds||[];t=new tc([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=bd(r,i.document),l=i.removedTargetIds||[];t=new tc([],l,o,null)}else{if(!("filter"in e))return Te();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new xA(o,l),f=i.targetId;t=new Jv(f,h)}}return t}function $A(r,e){let t;if(e instanceof pl)t={update:Fy(r,e.key,e.value)};else if(e instanceof Gf)t={delete:hf(r,e.key)};else if(e instanceof ki)t={update:Fy(r,e.key,e.data),updateMask:XA(e.fieldMask)};else{if(!(e instanceof PA))return Te();t={verify:hf(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,h){const f=h.transform;if(f instanceof gc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof nl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof rl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof yc)return{fieldPath:h.field.canonicalString(),increment:f.Pe};throw Te()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:UA(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te()}(r,e.precondition)),t}function qA(r,e){return r&&r.length>0?(Ue(e!==void 0),r.map(t=>function(o,l){let h=o.updateTime?rr(o.updateTime):rr(l);return h.isEqual(Ie.min())&&(h=rr(l)),new RA(h,o.transformResults||[])}(t,e))):[]}function HA(r,e){return{documents:[tE(r,e.path)]}}function WA(r,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=tE(r,o);const l=function(y){if(y.length!==0)return iE(zn.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(y){if(y.length!==0)return y.map(v=>function(w){return{field:fo(w.field),direction:QA(w.dir)}}(v))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=uf(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function KA(r){let e=zA(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ue(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(I){const w=rE(I);return w instanceof zn&&Dv(w)?w.getFilters():[w]}(t.where));let h=[];t.orderBy&&(h=function(I){return I.map(w=>function(k){return new mc(po(k.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(w))}(t.orderBy));let f=null;t.limit&&(f=function(I){let w;return w=typeof I=="object"?I.value:I,xc(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(I){const w=!!I.before,C=I.values||[];return new pc(C,w)}(t.startAt));let y=null;return t.endAt&&(y=function(I){const w=!I.before,C=I.values||[];return new pc(C,w)}(t.endAt)),dA(e,o,h,l,f,"F",p,y)}function GA(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rE(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=po(t.unaryFilter.field);return ct.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=po(t.unaryFilter.field);return ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=po(t.unaryFilter.field);return ct.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=po(t.unaryFilter.field);return ct.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(r):r.fieldFilter!==void 0?function(t){return ct.create(po(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return zn.create(t.compositeFilter.filters.map(i=>rE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(r):Te()}function QA(r){return bA[r]}function YA(r){return MA[r]}function JA(r){return FA[r]}function fo(r){return{fieldPath:r.canonicalString()}}function po(r){return Nt.fromServerFormat(r.fieldPath)}function iE(r){return r instanceof ct?function(t){if(t.op==="=="){if(Ry(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NAN"}};if(Sy(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ry(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NOT_NAN"}};if(Sy(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(t.field),op:YA(t.op),value:t.value}}}(r):r instanceof zn?function(t){const i=t.getFilters().map(o=>iE(o));return i.length===1?i[0]:{compositeFilter:{op:JA(t.op),filters:i}}}(r):Te()}function XA(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,t,i,o,l=Ie.min(),h=Ie.min(),f=xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.ht=e}}function eC(r){const e=KA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.ln=new nC}addToCollectionParentIndex(e,t){return this.ln.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(Ti.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(Ti.min())}updateCollectionGroup(e,t,i){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class nC{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new yt(Qe.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new yt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(41943040,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Co(0)}static Qn(){return new Co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy([r,e],[t,i]){const o=xe(r,t);return o===0?xe(e,i):o}class rC{constructor(e){this.Gn=e,this.buffer=new yt(Uy),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Uy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class iC{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){le("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){bo(t)?le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Vo(t)}await this.Yn(3e5)})}}class sC{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return G.resolve(Nc.oe);const i=new rC(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(jy)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,h,f,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,h=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(i=I,f=Date.now(),this.removeTargets(e,i,t))).next(I=>(l=I,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(I=>(y=Date.now(),co()<=Pe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${I} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:I})))}}function oC(r,e){return new sC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.changes=new gs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?G.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Ga(i.mutation,o,dn.empty(),gt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ke()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ke()){const o=as();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let h=Ba();return l.forEach((f,p)=>{h=h.insert(f,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=as();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ke()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,f)=>{t.set(h,f)})})}computeViews(e,t,i,o){let l=Vr();const h=Ka(),f=function(){return Ka()}();return t.forEach((p,y)=>{const v=i.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof ki)?l=l.insert(y.key,y):v!==void 0?(h.set(y.key,v.mutation.getFieldMask()),Ga(v.mutation,y,v.mutation.getFieldMask(),gt.now())):h.set(y.key,dn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,v)=>h.set(y,v)),t.forEach((y,v)=>{var I;return f.set(y,new lC(v,(I=h.get(y))!==null&&I!==void 0?I:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Ka();let o=new nt((h,f)=>h-f),l=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const f of h)f.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let v=i.get(p)||dn.empty();v=f.applyToLocalView(y,v),i.set(p,v);const I=(o.get(f.batchId)||ke()).add(p);o=o.insert(f.batchId,I)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,v=p.value,I=Bv();v.forEach(w=>{if(!l.has(w)){const C=Gv(t.get(w),i.get(w));C!==null&&I.set(w,C),l=l.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,I))}return G.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Mv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):G.resolve(as());let f=-1,p=l;return h.next(y=>G.forEach(y,(v,I)=>(f<I.largestBatchId&&(f=I.largestBatchId),l.get(v)?G.resolve():this.remoteDocumentCache.getEntry(e,v).next(w=>{p=p.insert(v,w)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,ke())).next(v=>({batchId:f,changes:zv(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(i=>{let o=Ba();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=Ba();return this.indexManager.getCollectionParents(e,l).next(f=>G.forEach(f,p=>{const y=function(I,w){return new fl(w,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(v=>{v.forEach((I,w)=>{h=h.insert(I,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(h=>{l.forEach((p,y)=>{const v=y.getKey();h.get(v)===null&&(h=h.insert(v,Ut.newInvalidDocument(v)))});let f=Ba();return h.forEach((p,y)=>{const v=l.get(p);v!==void 0&&Ga(v.mutation,y,dn.empty(),gt.now()),Lc(t,y)&&(f=f.insert(p,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return G.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:rr(o.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:eC(o.bundledQuery),readTime:rr(o.readTime)}}(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.overlays=new nt(ge.comparator),this.Er=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const i=as();return G.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),G.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(i)),G.resolve()}getOverlaysForCollection(e,t,i){const o=as(),l=t.length+1,h=new ge(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return G.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new nt((y,v)=>y-v);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let v=l.get(y.largestBatchId);v===null&&(v=as(),l=l.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const f=as(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,v)=>f.set(y,v)),!(f.size()>=o)););return G.resolve(f)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new NA(t,i));let l=this.Er.get(t);l===void 0&&(l=ke(),this.Er.set(t,l)),this.Er.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(){this.dr=new yt(St.Ar),this.Rr=new yt(St.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new St(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new St(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new ge(new Qe([])),i=new St(t,e),o=new St(t,e+1),l=[];return this.Rr.forEachInRange([i,o],h=>{this.gr(h),l.push(h.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ge(new Qe([])),i=new St(t,e),o=new St(t,e+1);let l=ke();return this.Rr.forEachInRange([i,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new St(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class St{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ge.comparator(e.key,t.key)||xe(e.br,t.br)}static Vr(e,t){return xe(e.br,t.br)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new yt(St.Ar)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new kA(l,t,i,o);this.mutationQueue.push(h);for(const f of o)this.vr=this.vr.add(new St(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return G.resolve(h)}lookupMutationBatch(e,t){return G.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return G.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new St(t,0),o=new St(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],h=>{const f=this.Cr(h.br);l.push(f)}),G.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new yt(xe);return t.forEach(o=>{const l=new St(o,0),h=new St(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,h],f=>{i=i.add(f.br)})}),G.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ge.isDocumentKey(l)||(l=l.child(""));const h=new St(new ge(l),0);let f=new yt(xe);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.br)),!0)},h),G.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ue(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return G.forEach(t.mutations,o=>{const l=new St(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new St(t,0),o=this.vr.firstAfterOrEqual(i);return G.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.Nr=e,this.docs=function(){return new nt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return G.resolve(i?i.document.mutableCopy():Ut.newInvalidDocument(t))}getEntries(e,t){let i=Vr();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Ut.newInvalidDocument(o))}),G.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Vr();const h=t.path,f=new ge(h.child("")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||HR(qR(v),i)<=0||(o.has(v.key)||Lc(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return G.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Te()}Lr(e,t){return G.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new mC(this)}getSize(e){return G.resolve(this.size)}}class mC extends aC{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),G.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.persistence=e,this.Br=new gs(t=>Hf(t),Wf),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.kr=0,this.qr=new Xf,this.targetCount=0,this.Qr=Co.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),G.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Co(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.Un(t),G.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Br.forEach((h,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Br.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),G.waitFor(l).next(()=>o)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return G.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),G.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),G.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return G.resolve(i)}containsKey(e,t){return G.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Nc(0),this.Ur=!1,this.Ur=!0,this.Wr=new dC,this.referenceDelegate=e(this),this.Gr=new gC(this),this.indexManager=new tC,this.remoteDocumentCache=function(o){return new pC(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new ZA(t),this.jr=new cC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new fC(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const o=new yC(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return G.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class yC extends KR{constructor(e){super(),this.currentSequenceNumber=e}}class Zf{constructor(e){this.persistence=e,this.Zr=new Xf,this.Xr=null}static ei(e){return new Zf(e)}get ti(){if(this.Xr)return this.Xr;throw Te()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),G.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),G.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ti,i=>{const o=ge.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Ie.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return G.or([()=>G.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class vc{constructor(e,t){this.persistence=e,this.ri=new gs(i=>YR(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=oC(this,t)}static ei(e,t){return new vc(e,t)}Hr(){}Jr(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return G.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?G.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,h=>this.ir(e,h,t).next(f=>{f||(i++,l.removeEntry(h,Ie.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),G.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),G.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xu(e.data.value)),t}ir(e,t,i){return G.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return G.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=ke(),o=ke();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new ep(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return zT()?8:GR(zt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new _C;return this.ts(e,t,h).next(f=>{if(l.result=f,this.Hi)return this.ns(e,t,h,f.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(co()<=Pe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",ho(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),G.resolve()):(co()<=Pe.DEBUG&&le("QueryEngine","Query:",ho(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(co()<=Pe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",ho(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(t))):G.resolve())}Xi(e,t){if(ky(t))return G.resolve(null);let i=nr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=lf(t,null,"F"),i=nr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const h=ke(...l);return this.Zi.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,f);return this.ss(t,y,h,p.readTime)?this.Xi(e,lf(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return ky(t)||o.isEqual(Ie.min())?G.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const h=this.rs(t,l);return this.ss(t,h,i,o)?G.resolve(null):(co()<=Pe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(t)),this.os(e,h,t,$R(o,-1)).next(f=>f))})}rs(e,t){let i=new yt(jv(e));return t.forEach((o,l)=>{Lc(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return co()<=Pe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",ho(t)),this.Zi.getDocumentsMatchingQuery(e,t,Ti.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new nt(xe),this.cs=new gs(l=>Hf(l),Wf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uC(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function wC(r,e,t,i){return new EC(r,e,t,i)}async function aE(r,e){const t=Se(r);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const h=[],f=[];let p=ke();for(const y of o){h.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of l){f.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:h,addedBatchIds:f}))})})}function TC(r,e){const t=Se(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,p,y,v){const I=y.batch,w=I.keys();let C=G.resolve();return w.forEach(k=>{C=C.next(()=>v.getEntry(p,k)).next(F=>{const V=y.docVersions.get(k);Ue(V!==null),F.version.compareTo(V)<0&&(I.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),v.addEntry(F)))})}),C.next(()=>f.mutationQueue.removeMutationBatch(p,I))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=ke();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function lE(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function IC(r,e){const t=Se(r),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((v,I)=>{const w=o.get(I);if(!w)return;f.push(t.Gr.removeMatchingKeys(l,v.removedDocuments,I).next(()=>t.Gr.addMatchingKeys(l,v.addedDocuments,I)));let C=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(I)!==null?C=C.withResumeToken(xt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,i)),o=o.insert(I,C),function(F,V,W){return F.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(w,C,v)&&f.push(t.Gr.updateTargetData(l,C))});let p=Vr(),y=ke();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),f.push(SC(l,h,e.documentUpdates).next(v=>{p=v.Is,y=v.Es})),!i.isEqual(Ie.min())){const v=t.Gr.getLastRemoteSnapshotVersion(l).next(I=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(v)}return G.waitFor(f).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.us=o,l))}function SC(r,e,t){let i=ke(),o=ke();return t.forEach(l=>i=i.add(l)),e.getEntries(r,i).next(l=>{let h=Vr();return t.forEach((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(f,p.readTime),h=h.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(f,p)):le("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)}),{Is:h,Es:o}})}function RC(r,e){const t=Se(r);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function AC(r,e){const t=Se(r);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,G.resolve(o)):t.Gr.allocateTargetId(i).next(h=>(o=new mi(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function ff(r,e,t){const i=Se(r),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,h=>i.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!bo(h))throw h;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function zy(r,e,t){const i=Se(r);let o=Ie.min(),l=ke();return i.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,v){const I=Se(p),w=I.cs.get(v);return w!==void 0?G.resolve(I.us.get(w)):I.Gr.getTargetData(y,v)}(i,h,nr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(h,f.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(h,e,t?o:Ie.min(),t?l:ke())).next(f=>(CC(i,pA(e),f),{documents:f,ds:l})))}function CC(r,e,t){let i=r.ls.get(e)||Ie.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),r.ls.set(e,i)}class By{constructor(){this.activeTargetIds=EA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PC{constructor(){this._o=new By,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new By,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu=null;function Md(){return Bu===null?Bu=function(){return 268435456+Math.round(2147483648*Math.random())}():Bu++,"0x"+Bu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class DC extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,h){const f=Md(),p=this.No(t,i.toUriEncodedString());le("RestConnection",`Sending RPC '${t}' ${f}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,l,h),this.Bo(t,p,y,o).then(v=>(le("RestConnection",`Received RPC '${t}' ${f}: `,v),v),v=>{throw Io("RestConnection",`RPC '${t}' ${f} failed with error: `,v,"url: ",p,"request:",o),v})}ko(t,i,o,l,h,f){return this.Oo(t,i,o,l,h)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,h)=>t[h]=l),o&&o.headers.forEach((l,h)=>t[h]=l)}No(t,i){const o=NC[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const l=Md();return new Promise((h,f)=>{const p=new Ev;p.setWithCredentials(!0),p.listenOnce(wv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ju.NO_ERROR:const v=p.getResponseJson();le(Ft,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),h(v);break;case Ju.TIMEOUT:le(Ft,`RPC '${e}' ${l} timed out`),f(new he(J.DEADLINE_EXCEEDED,"Request time out"));break;case Ju.HTTP_ERROR:const I=p.getStatus();if(le(Ft,`RPC '${e}' ${l} failed with status:`,I,"response text:",p.getResponseText()),I>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const C=w==null?void 0:w.error;if(C&&C.status&&C.message){const k=function(V){const W=V.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(W)>=0?W:J.UNKNOWN}(C.status);f(new he(k,C.message))}else f(new he(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new he(J.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{le(Ft,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);le(Ft,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=Md(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Sv(),f=Iv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");le(Ft,`Creating RPC '${e}' stream ${o}: ${v}`,p);const I=h.createWebChannel(v,p);let w=!1,C=!1;const k=new xC({Eo:V=>{C?le(Ft,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(w||(le(Ft,`Opening RPC '${e}' stream ${o} transport.`),I.open(),w=!0),le(Ft,`RPC '${e}' stream ${o} sending:`,V),I.send(V))},Ao:()=>I.close()}),F=(V,W,K)=>{V.listen(W,te=>{try{K(te)}catch(se){setTimeout(()=>{throw se},0)}})};return F(I,za.EventType.OPEN,()=>{C||(le(Ft,`RPC '${e}' stream ${o} transport opened.`),k.So())}),F(I,za.EventType.CLOSE,()=>{C||(C=!0,le(Ft,`RPC '${e}' stream ${o} transport closed`),k.Do())}),F(I,za.EventType.ERROR,V=>{C||(C=!0,Io(Ft,`RPC '${e}' stream ${o} transport errored:`,V),k.Do(new he(J.UNAVAILABLE,"The operation could not be completed")))}),F(I,za.EventType.MESSAGE,V=>{var W;if(!C){const K=V.data[0];Ue(!!K);const te=K,se=(te==null?void 0:te.error)||((W=te[0])===null||W===void 0?void 0:W.error);if(se){le(Ft,`RPC '${e}' stream ${o} received error:`,se);const Q=se.status;let fe=function(A){const N=ut[A];if(N!==void 0)return Yv(N)}(Q),x=se.message;fe===void 0&&(fe=J.INTERNAL,x="Unknown error status: "+Q+" with message "+se.message),C=!0,k.Do(new he(fe,x)),I.close()}else le(Ft,`RPC '${e}' stream ${o} received:`,K),k.vo(K)}}),F(f,Tv.STAT_EVENT,V=>{V.stat===tf.PROXY?le(Ft,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===tf.NOPROXY&&le(Ft,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.bo()},0),k}}function Fd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(r){return new jA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,t,i,o,l,h,f,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new uE(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(Lr(t.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new he(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OC extends cE{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=BA(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ie.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ie.min():h.readTime?rr(h.readTime):Ie.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=df(this.serializer),t.addTarget=function(l,h){let f;const p=h.target;if(f=of(p)?{documents:HA(l,p)}:{query:WA(l,p).ct},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=Zv(l,h.resumeToken);const y=uf(l,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ie.min())>0){f.readTime=_c(l,h.snapshotVersion.toTimestamp());const y=uf(l,h.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const i=GA(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=df(this.serializer),t.removeTarget=e,this.c_(t)}}class LC extends cE{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=qA(e.writeResults,e.commitTime),i=rr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=df(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>$A(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Oo(e,cf(t,i),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(J.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.ko(e,cf(t,i),o,h,f,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(J.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class bC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Lr(t),this.C_=!1):le("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(h=>{i.enqueueAndForget(async()=>{ys(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Se(p);y.k_.add(4),await gl(y),y.K_.set("Unknown"),y.k_.delete(4),await jc(y)}(this))})}),this.K_=new bC(i,o)}}async function jc(r){if(ys(r))for(const e of r.q_)await e(!0)}async function gl(r){for(const e of r.q_)await e(!1)}function hE(r,e){const t=Se(r);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),ip(t)?rp(t):Mo(t).s_()&&np(t,e))}function tp(r,e){const t=Se(r),i=Mo(t);t.B_.delete(e),i.s_()&&dE(t,e),t.B_.size===0&&(i.s_()?i.a_():ys(t)&&t.K_.set("Unknown"))}function np(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Mo(r).V_(e)}function dE(r,e){r.U_.xe(e),Mo(r).m_(e)}function rp(r){r.U_=new VA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.B_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),Mo(r).start(),r.K_.F_()}function ip(r){return ys(r)&&!Mo(r).i_()&&r.B_.size>0}function ys(r){return Se(r).k_.size===0}function fE(r){r.U_=void 0}async function FC(r){r.K_.set("Online")}async function jC(r){r.B_.forEach((e,t)=>{np(r,e)})}async function UC(r,e){fE(r),ip(r)?(r.K_.O_(e),rp(r)):r.K_.set("Unknown")}async function zC(r,e,t){if(r.K_.set("Online"),e instanceof Xv&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const f of l.targetIds)o.B_.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.B_.delete(f),o.U_.removeTarget(f))}(r,e)}catch(i){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ec(r,i)}else if(e instanceof tc?r.U_.$e(e):e instanceof Jv?r.U_.Je(e):r.U_.Ge(e),!t.isEqual(Ie.min()))try{const i=await lE(r.localStore);t.compareTo(i)>=0&&await function(l,h){const f=l.U_.it(h);return f.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.B_.get(y);v&&l.B_.set(y,v.withResumeToken(p.resumeToken,h))}}),f.targetMismatches.forEach((p,y)=>{const v=l.B_.get(p);if(!v)return;l.B_.set(p,v.withResumeToken(xt.EMPTY_BYTE_STRING,v.snapshotVersion)),dE(l,p);const I=new mi(v.target,p,y,v.sequenceNumber);np(l,I)}),l.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(i){le("RemoteStore","Failed to raise snapshot:",i),await Ec(r,i)}}async function Ec(r,e,t){if(!bo(e))throw e;r.k_.add(1),await gl(r),r.K_.set("Offline"),t||(t=()=>lE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await t(),r.k_.delete(1),await jc(r)})}function pE(r,e){return e().catch(t=>Ec(r,t,e))}async function Uc(r){const e=Se(r),t=Ai(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;BC(e);)try{const o=await RC(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,$C(e,o)}catch(o){await Ec(e,o)}mE(e)&&gE(e)}function BC(r){return ys(r)&&r.L_.length<10}function $C(r,e){r.L_.push(e);const t=Ai(r);t.s_()&&t.f_&&t.g_(e.mutations)}function mE(r){return ys(r)&&!Ai(r).i_()&&r.L_.length>0}function gE(r){Ai(r).start()}async function qC(r){Ai(r).w_()}async function HC(r){const e=Ai(r);for(const t of r.L_)e.g_(t.mutations)}async function WC(r,e,t){const i=r.L_.shift(),o=Qf.from(i,e,t);await pE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Uc(r)}async function KC(r,e){e&&Ai(r).f_&&await async function(i,o){if(function(h){return DA(h)&&h!==J.ABORTED}(o.code)){const l=i.L_.shift();Ai(i).__(),await pE(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Uc(i)}}(r,e),mE(r)&&gE(r)}async function qy(r,e){const t=Se(r);t.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const i=ys(t);t.k_.add(3),await gl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await jc(t)}async function GC(r,e){const t=Se(r);e?(t.k_.delete(2),await jc(t)):e||(t.k_.add(2),await gl(t),t.K_.set("Unknown"))}function Mo(r){return r.W_||(r.W_=function(t,i,o){const l=Se(t);return l.b_(),new OC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Ro:FC.bind(null,r),mo:jC.bind(null,r),po:UC.bind(null,r),R_:zC.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),ip(r)?rp(r):r.K_.set("Unknown")):(await r.W_.stop(),fE(r))})),r.W_}function Ai(r){return r.G_||(r.G_=function(t,i,o){const l=Se(t);return l.b_(),new LC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:qC.bind(null,r),po:KC.bind(null,r),p_:HC.bind(null,r),y_:WC.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await Uc(r)):(await r.G_.stop(),r.L_.length>0&&(le("RemoteStore",`Stopping write stream with ${r.L_.length} pending writes`),r.L_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,f=new sp(e,t,h,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function op(r,e){if(Lr("AsyncQueue",`${e}: ${r}`),bo(r))return new he(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{static emptySet(e){return new Eo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ge.comparator(t.key,i.key):(t,i)=>ge.comparator(t.key,i.key),this.keyedMap=Ba(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Eo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(){this.z_=new nt(ge.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Te():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Po{constructor(e,t,i,o,l,h,f,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach(f=>{h.push({type:0,doc:f})}),new Po(e,t,Eo.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class YC{constructor(){this.queries=Wy(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Se(t),l=o.queries;o.queries=Wy(),l.forEach((h,f)=>{for(const p of f.J_)p.onError(i)})})(this,new he(J.ABORTED,"Firestore shutting down"))}}function Wy(){return new gs(r=>Fv(r),Oc)}async function JC(r,e){const t=Se(r);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new QC,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=op(h,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&ap(t)}async function XC(r,e){const t=Se(r),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.J_.indexOf(e);h>=0&&(l.J_.splice(h,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function ZC(r,e){const t=Se(r);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.J_)f.ta(o)&&(i=!0);h.H_=o}}i&&ap(t)}function eP(r,e,t){const i=Se(r),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function ap(r){r.X_.forEach(e=>{e.next()})}var pf,Ky;(Ky=pf||(pf={})).na="default",Ky.Cache="cache";class tP{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Po(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==pf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e){this.key=e}}class _E{constructor(e){this.key=e}}class nP{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ke(),this.mutatedKeys=ke(),this.Va=jv(e),this.ma=new Eo(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new Hy,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,I)=>{const w=o.get(v),C=Lc(this.query,I)?I:null,k=!!w&&this.mutatedKeys.has(w.key),F=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let V=!1;w&&C?w.data.isEqual(C.data)?k!==F&&(i.track({type:3,doc:C}),V=!0):this.ya(w,C)||(i.track({type:2,doc:C}),V=!0,(p&&this.Va(C,p)>0||y&&this.Va(C,y)<0)&&(f=!0)):!w&&C?(i.track({type:0,doc:C}),V=!0):w&&!C&&(i.track({type:1,doc:w}),V=!0,(p||y)&&(f=!0)),V&&(C?(h=h.add(C),l=F?l.add(v):l.delete(v)):(h=h.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{ma:h,pa:i,ss:f,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((v,I)=>function(C,k){const F=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return F(C)-F(k)}(v.type,I.type)||this.Va(v.doc,I.doc)),this.wa(i),o=o!=null&&o;const f=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,h.length!==0||y?{snapshot:new Po(this.query,e.ma,l,h,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Hy,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ke(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new _E(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new yE(i))}),t}va(e){this.da=e.ds,this.Ra=ke();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Po.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class rP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class iP{constructor(e){this.key=e,this.Fa=!1}}class sP{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new gs(f=>Fv(f),Oc),this.Oa=new Map,this.Na=new Set,this.La=new nt(ge.comparator),this.Ba=new Map,this.ka=new Xf,this.qa={},this.Qa=new Map,this.Ka=Co.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function oP(r,e,t=!0){const i=SE(r);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await vE(i,e,t,!0),o}async function aP(r,e){const t=SE(r);await vE(t,e,!0,!1)}async function vE(r,e,t,i){const o=await AC(r.localStore,nr(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await lP(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&hE(r.remoteStore,o),f}async function lP(r,e,t,i,o){r.Ua=(I,w,C)=>async function(F,V,W,K){let te=V.view.ga(W);te.ss&&(te=await zy(F.localStore,V.query,!1).then(({documents:x})=>V.view.ga(x,te)));const se=K&&K.targetChanges.get(V.targetId),Q=K&&K.targetMismatches.get(V.targetId)!=null,fe=V.view.applyChanges(te,F.isPrimaryClient,se,Q);return Qy(F,V.targetId,fe.ba),fe.snapshot}(r,I,w,C);const l=await zy(r.localStore,e,!0),h=new nP(e,l.ds),f=h.ga(l.documents),p=ml.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",o),y=h.applyChanges(f,r.isPrimaryClient,p);Qy(r,t,y.ba);const v=new rP(e,t,h);return r.xa.set(e,v),r.Oa.has(t)?r.Oa.get(t).push(e):r.Oa.set(t,[e]),y.snapshot}async function uP(r,e,t){const i=Se(r),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(h=>!Oc(h,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await ff(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&tp(i.remoteStore,o.targetId),mf(i,o.targetId)}).catch(Vo)):(mf(i,o.targetId),await ff(i.localStore,o.targetId,!0))}async function cP(r,e){const t=Se(r),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),tp(t.remoteStore,i.targetId))}async function hP(r,e,t){const i=_P(r);try{const o=await function(h,f){const p=Se(h),y=gt.now(),v=f.reduce((C,k)=>C.add(k.key),ke());let I,w;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let k=Vr(),F=ke();return p.hs.getEntries(C,v).next(V=>{k=V,k.forEach((W,K)=>{K.isValidDocument()||(F=F.add(W))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,k)).next(V=>{I=V;const W=[];for(const K of f){const te=CA(K,I.get(K.key).overlayedDocument);te!=null&&W.push(new ki(K.key,te,kv(te.value.mapValue),In.exists(!0)))}return p.mutationQueue.addMutationBatch(C,y,W,f)}).next(V=>{w=V;const W=V.applyToLocalDocumentSet(I,F);return p.documentOverlayCache.saveOverlays(C,V.batchId,W)})}).then(()=>({batchId:w.batchId,changes:zv(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(h,f,p){let y=h.qa[h.currentUser.toKey()];y||(y=new nt(xe)),y=y.insert(f,p),h.qa[h.currentUser.toKey()]=y}(i,o.batchId,t),await yl(i,o.changes),await Uc(i.remoteStore)}catch(o){const l=op(o,"Failed to persist write");t.reject(l)}}async function EE(r,e){const t=Se(r);try{const i=await IC(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ba.get(l);h&&(Ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?Ue(h.Fa):o.removedDocuments.size>0&&(Ue(h.Fa),h.Fa=!1))}),await yl(t,i,e)}catch(i){await Vo(i)}}function Gy(r,e,t){const i=Se(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,h)=>{const f=h.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(h,f){const p=Se(h);p.onlineState=f;let y=!1;p.queries.forEach((v,I)=>{for(const w of I.J_)w.ea(f)&&(y=!0)}),y&&ap(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function dP(r,e,t){const i=Se(r);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),l=o&&o.key;if(l){let h=new nt(ge.comparator);h=h.insert(l,Ut.newNoDocument(l,Ie.min()));const f=ke().add(l),p=new Mc(Ie.min(),new Map,new nt(xe),h,f);await EE(i,p),i.La=i.La.remove(l),i.Ba.delete(e),lp(i)}else await ff(i.localStore,e,!1).then(()=>mf(i,e,t)).catch(Vo)}async function fP(r,e){const t=Se(r),i=e.batch.batchId;try{const o=await TC(t.localStore,e);TE(t,i,null),wE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await yl(t,o)}catch(o){await Vo(o)}}async function pP(r,e,t){const i=Se(r);try{const o=await function(h,f){const p=Se(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let v;return p.mutationQueue.lookupMutationBatch(y,f).next(I=>(Ue(I!==null),v=I.keys(),p.mutationQueue.removeMutationBatch(y,I))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v)).next(()=>p.localDocuments.getDocuments(y,v))})}(i.localStore,e);TE(i,e,t),wE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await yl(i,o)}catch(o){await Vo(o)}}function wE(r,e){(r.Qa.get(e)||[]).forEach(t=>{t.resolve()}),r.Qa.delete(e)}function TE(r,e,t){const i=Se(r);let o=i.qa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function mf(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Oa.get(e))r.xa.delete(i),t&&r.Ma.Wa(i,t);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(i=>{r.ka.containsKey(i)||IE(r,i)})}function IE(r,e){r.Na.delete(e.path.canonicalString());const t=r.La.get(e);t!==null&&(tp(r.remoteStore,t),r.La=r.La.remove(e),r.Ba.delete(t),lp(r))}function Qy(r,e,t){for(const i of t)i instanceof yE?(r.ka.addReference(i.key,e),mP(r,i)):i instanceof _E?(le("SyncEngine","Document no longer in limbo: "+i.key),r.ka.removeReference(i.key,e),r.ka.containsKey(i.key)||IE(r,i.key)):Te()}function mP(r,e){const t=e.key,i=t.path.canonicalString();r.La.get(t)||r.Na.has(i)||(le("SyncEngine","New document in limbo: "+t),r.Na.add(i),lp(r))}function lp(r){for(;r.Na.size>0&&r.La.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const t=new ge(Qe.fromString(e)),i=r.Ka.next();r.Ba.set(i,new iP(t)),r.La=r.La.insert(t,i),hE(r.remoteStore,new mi(nr(bv(t.path)),i,"TargetPurposeLimboResolution",Nc.oe))}}async function yl(r,e,t){const i=Se(r),o=[],l=[],h=[];i.xa.isEmpty()||(i.xa.forEach((f,p)=>{h.push(i.Ua(p,e,t).then(y=>{var v;if((y||t)&&i.isPrimaryClient){const I=y?!y.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(y){o.push(y);const I=ep.zi(p.targetId,y);l.push(I)}}))}),await Promise.all(h),i.Ma.R_(o),await async function(p,y){const v=Se(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>G.forEach(y,w=>G.forEach(w.Wi,C=>v.persistence.referenceDelegate.addReference(I,w.targetId,C)).next(()=>G.forEach(w.Gi,C=>v.persistence.referenceDelegate.removeReference(I,w.targetId,C)))))}catch(I){if(!bo(I))throw I;le("LocalStore","Failed to update sequence numbers: "+I)}for(const I of y){const w=I.targetId;if(!I.fromCache){const C=v.us.get(w),k=C.snapshotVersion,F=C.withLastLimboFreeSnapshotVersion(k);v.us=v.us.insert(w,F)}}}(i.localStore,l))}async function gP(r,e){const t=Se(r);if(!t.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const i=await aE(t.localStore,e);t.currentUser=e,function(l,h){l.Qa.forEach(f=>{f.forEach(p=>{p.reject(new he(J.CANCELLED,h))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await yl(t,i.Ts)}}function yP(r,e){const t=Se(r),i=t.Ba.get(e);if(i&&i.Fa)return ke().add(i.key);{let o=ke();const l=t.Oa.get(e);if(!l)return o;for(const h of l){const f=t.xa.get(h);o=o.unionWith(f.view.fa)}return o}}function SE(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=EE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dP.bind(null,e),e.Ma.R_=ZC.bind(null,e.eventManager),e.Ma.Wa=eP.bind(null,e.eventManager),e}function _P(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pP.bind(null,e),e}class wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return wC(this.persistence,new vC,e.initialUser,this.serializer)}ja(e){return new oE(Zf.ei,this.serializer)}za(e){return new PC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wc.provider={build:()=>new wc};class vP extends wc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Ue(this.persistence.referenceDelegate instanceof vc);const i=this.persistence.referenceDelegate.garbageCollector;return new iC(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new oE(i=>vc.ei(i,t),this.serializer)}}class gf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Gy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=gP.bind(null,this.syncEngine),await GC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YC}()}createDatastore(e){const t=Fc(e.databaseInfo.databaseId),i=function(l){return new DC(l)}(e.databaseInfo);return function(l,h,f,p){return new VC(l,h,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,h,f){return new MC(i,o,l,h,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Gy(this.syncEngine,t,0),function(){return $y.p()?new $y:new kC}())}createSyncEngine(e,t){return function(o,l,h,f,p,y,v){const I=new sP(o,l,h,f,p,y);return v&&(I.$a=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Se(o);le("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await gl(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}gf.provider={build:()=>new gf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Lr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=jt.UNAUTHENTICATED,this.clientId=Av.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async h=>{le("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(le("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=op(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function jd(r,e){r.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener(async o=>{i.isEqual(o)||(await aE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Yy(r,e){r.asyncQueue.verifyOperationInProgress();const t=await TP(r);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(i=>qy(e.remoteStore,i)),r.setAppCheckTokenChangeListener((i,o)=>qy(e.remoteStore,o)),r._onlineComponents=e}async function TP(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await jd(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Io("Error using user provided cache. Falling back to memory cache: "+t),await jd(r,new wc)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await jd(r,new vP(void 0));return r._offlineComponents}async function RE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await Yy(r,r._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await Yy(r,new gf))),r._onlineComponents}function IP(r){return RE(r).then(e=>e.syncEngine)}async function SP(r){const e=await RE(r),t=e.eventManager;return t.onListen=oP.bind(null,e.syncEngine),t.onUnlisten=uP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=aP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=cP.bind(null,e.syncEngine),t}function RP(r,e,t={}){const i=new vi;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,f,p,y){const v=new EP({next:w=>{v.eu(),h.enqueueAndForget(()=>XC(l,I)),w.fromCache&&p.source==="server"?y.reject(new he(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),I=new tP(f,v,{includeMetadataChanges:!0,ua:!0});return JC(l,I)}(await SP(r),r.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(r,e,t){if(!t)throw new he(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function AP(r,e,t,i){if(e===!0&&i===!0)throw new he(J.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Xy(r){if(!ge.isDocumentKey(r))throw new he(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Zy(r){if(ge.isDocumentKey(r))throw new he(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function zc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te()}function br(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zc(r);throw new he(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new he(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bc{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e_(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new LR;switch(i.type){case"firstParty":return new FR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Jy.get(t);i&&(le("ComponentProvider","Removing Datastore"),Jy.delete(t),i.terminate())}(this),Promise.resolve()}}function CP(r,e,t,i={}){var o;const l=(r=br(r,Bc))._getSettings(),h=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==h&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),i.mockUserToken){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=jt.MOCK_USER;else{f=LT(i.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new he(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new jt(y)}r._authCredentials=new VR(new Rv(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Fo(this.firestore,e,this._query)}}class rn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class Ei extends Fo{constructor(e,t,i){super(e,t,bv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new ge(e))}withConverter(e){return new Ei(this.firestore,e,this._path)}}function PE(r,e,...t){if(r=_t(r),CE("collection","path",e),r instanceof Bc){const i=Qe.fromString(e,...t);return Zy(i),new Ei(r,null,i)}{if(!(r instanceof rn||r instanceof Ei))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Qe.fromString(e,...t));return Zy(i),new Ei(r.firestore,null,i)}}function $c(r,e,...t){if(r=_t(r),arguments.length===1&&(e=Av.newId()),CE("doc","path",e),r instanceof Bc){const i=Qe.fromString(e,...t);return Xy(i),new rn(r,null,new ge(i))}{if(!(r instanceof rn||r instanceof Ei))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Qe.fromString(e,...t));return Xy(i),new rn(r.firestore,r instanceof Ei?r.converter:null,new ge(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new uE(this,"async_queue_retry"),this.fu=()=>{const i=Fd();i&&le("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=Fd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Fd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new vi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!bo(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(i);throw Lr("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=sp.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&Te()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class jo extends Bc{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new t_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new t_(e),this._firestoreClient=void 0,await e}}}function PP(r,e){const t=typeof r=="object"?r:L_(),i=typeof r=="string"?r:"(default)",o=Df(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=DT("firestore");l&&CP(o,...l)}return o}function kE(r){if(r._terminated)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||kP(r),r._firestoreClient}function kP(r){var e,t,i;const o=r._freezeSettings(),l=function(f,p,y,v){return new ZR(f,p,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,AE(v.experimentalLongPollingOptions),v.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new wP(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ko(xt.fromBase64String(e))}catch(t){throw new he(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ko(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=/^__.*__$/;class xP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ki(e,this.data,this.fieldMask,t,this.fieldTransforms):new pl(e,this.data,t,this.fieldTransforms)}}class NE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ki(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class dp{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new dp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Tc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(xE(this.Mu)&&NP.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class DP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Fc(e)}$u(e,t,i,o=!1){return new dp({Mu:e,methodName:t,Ku:i,path:Nt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hc(r){const e=r._freezeSettings(),t=Fc(r._databaseId);return new DP(r._databaseId,!!e.ignoreUndefinedProperties,t)}function DE(r,e,t,i,o,l={}){const h=r.$u(l.merge||l.mergeFields?2:0,e,t,o);fp("Data must be an object, but it was:",h,i);const f=OE(i,h);let p,y;if(l.merge)p=new dn(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const v=[];for(const I of l.mergeFields){const w=yf(e,I,t);if(!h.contains(w))throw new he(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);VE(v,w)||v.push(w)}p=new dn(v),y=h.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,y=h.fieldTransforms;return new xP(new nn(f),p,y)}class Wc extends up{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wc}}function OP(r,e,t,i){const o=r.$u(1,e,t);fp("Data must be an object, but it was:",o,i);const l=[],h=nn.empty();Pi(i,(p,y)=>{const v=pp(e,p,t);y=_t(y);const I=o.Bu(v);if(y instanceof Wc)l.push(v);else{const w=_l(y,I);w!=null&&(l.push(v),h.set(v,w))}});const f=new dn(l);return new NE(h,f,o.fieldTransforms)}function LP(r,e,t,i,o,l){const h=r.$u(1,e,t),f=[yf(e,i,t)],p=[o];if(l.length%2!=0)throw new he(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)f.push(yf(e,l[w])),p.push(l[w+1]);const y=[],v=nn.empty();for(let w=f.length-1;w>=0;--w)if(!VE(y,f[w])){const C=f[w];let k=p[w];k=_t(k);const F=h.Bu(C);if(k instanceof Wc)y.push(C);else{const V=_l(k,F);V!=null&&(y.push(C),v.set(C,V))}}const I=new dn(y);return new NE(v,I,h.fieldTransforms)}function VP(r,e,t,i=!1){return _l(t,r.$u(i?4:3,e))}function _l(r,e){if(LE(r=_t(r)))return fp("Unsupported field value:",e,r),OE(r,e);if(r instanceof up)return function(i,o){if(!xE(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let h=0;for(const f of i){let p=_l(f,o.ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(r,e)}return function(i,o){if((i=_t(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return wA(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=gt.fromDate(i);return{timestampValue:_c(o.serializer,l)}}if(i instanceof gt){const l=new gt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:_c(o.serializer,l)}}if(i instanceof cp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ko)return{bytesValue:Zv(o.serializer,i._byteString)};if(i instanceof rn){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Jf(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof hp)return function(h,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw f.qu("VectorValues must only contain numeric values.");return Kf(f.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${zc(i)}`)}(r,e)}function OE(r,e){const t={};return Cv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pi(r,(i,o)=>{const l=_l(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function LE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof gt||r instanceof cp||r instanceof ko||r instanceof rn||r instanceof up||r instanceof hp)}function fp(r,e,t){if(!LE(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=zc(t);throw i==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+i)}}function yf(r,e,t){if((e=_t(e))instanceof qc)return e._internalPath;if(typeof e=="string")return pp(r,e);throw Tc("Field path arguments must be of type string or ",r,!1,void 0,t)}const bP=new RegExp("[~\\*/\\[\\]]");function pp(r,e,t){if(e.search(bP)>=0)throw Tc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new qc(...e.split("."))._internalPath}catch{throw Tc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Tc(r,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${i}`),h&&(p+=` in document ${o}`),p+=")"),new he(J.INVALID_ARGUMENT,f+r+p)}function VE(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class MP extends bE{data(){return super.data()}}function mp(r,e){return typeof e=="string"?pp(r,e):e instanceof qc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gp{}class jP extends gp{}function UP(r,e,...t){let i=[];e instanceof gp&&i.push(e),i=i.concat(t),function(l){const h=l.filter(p=>p instanceof yp).length,f=l.filter(p=>p instanceof Kc).length;if(h>1||h>0&&f>0)throw new he(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)r=o._apply(r);return r}class Kc extends jP{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Kc(e,t,i)}_apply(e){const t=this._parse(e);return ME(e._query,t),new Fo(e.firestore,e.converter,af(e._query,t))}_parse(e){const t=Hc(e.firestore);return function(l,h,f,p,y,v,I){let w;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){r_(I,v);const C=[];for(const k of I)C.push(n_(p,l,k));w={arrayValue:{values:C}}}else w=n_(p,l,I)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||r_(I,v),w=VP(f,h,I,v==="in"||v==="not-in");return ct.create(y,v,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function zP(r,e,t){const i=e,o=mp("where",r);return Kc._create(o,i,t)}class yp extends gp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new yp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:zn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const f=l.getFlattenedFilters();for(const p of f)ME(h,p),h=af(h,p)}(e._query,t),new Fo(e.firestore,e.converter,af(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function n_(r,e,t){if(typeof(t=_t(t))=="string"){if(t==="")throw new he(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mv(e)&&t.indexOf("/")!==-1)throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Qe.fromString(t));if(!ge.isDocumentKey(i))throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Iy(r,new ge(i))}if(t instanceof rn)return Iy(r,t._key);throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zc(t)}.`)}function r_(r,e){if(!Array.isArray(r)||r.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ME(r,e){const t=function(o,l){for(const h of o)for(const f of h.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class BP{convertValue(e,t="none"){switch(Ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Pi(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(h=>ot(h.doubleValue));return new hp(l)}convertGeoPoint(e){return new cp(ot(e.latitude),ot(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Dc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Za(e));default:return null}}convertTimestamp(e){const t=Ii(e);return new gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Qe.fromString(e);Ue(sE(i));const o=new el(i.get(1),i.get(3)),l=new ge(i.popFirst(5));return o.isEqual(t)||Lr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(r,e,t){let i;return i=r?r.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $P extends bE{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(mp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class nc extends $P{data(e={}){return super.data(e)}}class qP{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new $u(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new nc(this._firestore,this._userDataWriter,i.key,i,new $u(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(f=>{const p=new nc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new $u(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new nc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new $u(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return f.type!==0&&(y=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),v=h.indexOf(f.doc.key)),{type:HP(f.type),doc:p,oldIndex:y,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function HP(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class WP extends BP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ko(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,t)}}function KP(r){r=br(r,Fo);const e=br(r.firestore,jo),t=kE(e),i=new WP(e);return FP(r._query),RP(t,r._query).then(o=>new qP(e,i,r,o))}function GP(r,e,t){r=br(r,rn);const i=br(r.firestore,jo),o=FE(r.converter,e);return Gc(i,[DE(Hc(i),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,In.none())])}function QP(r,e,t,...i){r=br(r,rn);const o=br(r.firestore,jo),l=Hc(o);let h;return h=typeof(e=_t(e))=="string"||e instanceof qc?LP(l,"updateDoc",r._key,e,t,i):OP(l,"updateDoc",r._key,e),Gc(o,[h.toMutation(r._key,In.exists(!0))])}function YP(r){return Gc(br(r.firestore,jo),[new Gf(r._key,In.none())])}function JP(r,e){const t=br(r.firestore,jo),i=$c(r),o=FE(r.converter,e);return Gc(t,[DE(Hc(r.firestore),"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,In.exists(!1))]).then(()=>i)}function Gc(r,e){return function(i,o){const l=new vi;return i.asyncQueue.enqueueAndForget(async()=>hP(await IP(i),o,l)),l.promise}(kE(r),e)}(function(e,t=!0){(function(o){Lo=o})(Do),wo(new cs("firestore",(i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),f=new jo(new bR(i.getProvider("auth-internal")),new UR(i.getProvider("app-check-internal")),function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new el(y.options.projectId,v)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),_i(yy,"4.7.5",e),_i(yy,"4.7.5","esm2017")})();const XP={apiKey:"AIzaSyBhYjblKQl1TrwyyZtpmOwaH8Dq2VBrV1Y",authDomain:"c-team-17c00.firebaseapp.com",projectId:"c-team-17c00",storageBucket:"c-team-17c00.firebasestorage.app",messagingSenderId:"914238747049",appId:"1:914238747049:web:d29637e35942b8e3e9d4b8"},jE=O_(XP),Uo=PP(jE),Ni=wR(jE),ZP=async(r,e)=>{try{return{success:!0,user:(await i1(Ni,r,e)).user}}catch(t){return{success:!1,error:t.message}}},ek=async(r,e,t)=>{try{const o=(await r1(Ni,r,e)).user;return await o1(o,{displayName:t}),await GP($c(Uo,"Vartotojai",o.uid),{uid:o.uid,email:r,name:t}),{success:!0,user:o}}catch(i){return{success:!1,error:i.message}}},tk=async()=>{try{return await c1(Ni),{success:!0}}catch(r){return{success:!1,error:r.message}}},nk=async r=>{try{return await n1(Ni,r),{success:!0}}catch(e){return{success:!1,error:e.message}}},rk=async(r,e)=>{if(!e)return{success:!1,error:"userId is required and cannot be undefined"};try{const t=await JP(PE(Uo,"Projektai"),{...r,userId:e,createdAt:new Date});return{success:!0,project:{...r,id:t.id,userId:e}}}catch(t){return{success:!1,error:t.message}}},ik=async r=>{if(!r)return{success:!1,error:"userId is required"};try{const e=UP(PE(Uo,"Projektai"),zP("userId","==",r)),t=await KP(e),i=[];return t.forEach(o=>{i.push({id:o.id,...o.data()})}),{success:!0,projects:i}}catch(e){return{success:!1,error:e.message}}},sk=async r=>{try{return await YP($c(Uo,"Projektai",r)),{success:!0}}catch(e){return{success:!1,error:e.message}}},UE=async(r,e)=>{try{return await QP($c(Uo,"Projektai",r),e),{success:!0}}catch(t){return{success:!1,error:t.message}}},ok={projects:[],loading:!1,error:null},zE=G0.createContext(),ak=({children:r})=>{const[e,t]=$.useReducer(CR,ok),[i,o]=kc(Ni),l=w=>{t({type:PR,payload:{project:w}})},h=async w=>{try{t({type:Fa,payload:!0}),await deleteDoc(doc(Uo,"Projektai",w)),t({type:kR,payload:w})}catch(C){t({type:Mu,payload:C.message})}finally{t({type:Fa,payload:!1})}},f=(w,C)=>{t({type:"UPDATE_PROJECT",payload:{projectId:w,updatedProjectData:C}})},p=(w,C)=>{t({type:xR,payload:{projectId:w,status:C}})},y=w=>{t({type:NR,payload:w})},v=w=>{t({type:Fa,payload:w})},I=w=>{t({type:Mu,payload:w})};return $.useEffect(()=>{if(o||!i)return;(async()=>{t({type:Fa,payload:!0});try{const C=await ik(i.uid);C.success?y(C.projects):t({type:Mu,payload:C.error})}catch(C){t({type:Mu,payload:C.message})}finally{t({type:Fa,payload:!1})}})()},[i,o]),b.jsx(zE.Provider,{value:{...e,createProject:l,updateProject:f,deleteProject:h,updateProjectStatus:p,setProjects:y,setLoading:v,setError:I},children:r})},_p=()=>$.useContext(zE);var Ud={exports:{}},zd,i_;function lk(){if(i_)return zd;i_=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return zd=r,zd}var Bd,s_;function uk(){if(s_)return Bd;s_=1;var r=lk();function e(){}function t(){}return t.resetWarningCache=e,Bd=function(){function i(h,f,p,y,v,I){if(I!==r){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}i.isRequired=i;function o(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},Bd}var o_;function ck(){return o_||(o_=1,Ud.exports=uk()()),Ud.exports}var hk=ck();const en=If(hk);var dk=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function _f(){return _f=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},_f.apply(this,arguments)}function fk(r,e){if(r==null)return{};var t={},i=Object.keys(r),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}function qu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function pk(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,vf(r,e)}function vf(r,e){return vf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},vf(r,e)}var Qc=function(r){pk(e,r);function e(){var i;return i=r.call(this)||this,i.handleExpired=i.handleExpired.bind(qu(i)),i.handleErrored=i.handleErrored.bind(qu(i)),i.handleChange=i.handleChange.bind(qu(i)),i.handleRecaptchaRef=i.handleRecaptchaRef.bind(qu(i)),i}var t=e.prototype;return t.getCaptchaFunction=function(o){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[o]:this.props.grecaptcha[o]:null},t.getValue=function(){var o=this.getCaptchaFunction("getResponse");return o&&this._widgetId!==void 0?o(this._widgetId):null},t.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},t.execute=function(){var o=this.getCaptchaFunction("execute");if(o&&this._widgetId!==void 0)return o(this._widgetId);this._executeRequested=!0},t.executeAsync=function(){var o=this;return new Promise(function(l,h){o.executionResolve=l,o.executionReject=h,o.execute()})},t.reset=function(){var o=this.getCaptchaFunction("reset");o&&this._widgetId!==void 0&&o(this._widgetId)},t.forceReset=function(){var o=this.getCaptchaFunction("reset");o&&o()},t.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},t.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},t.handleChange=function(o){this.props.onChange&&this.props.onChange(o),this.executionResolve&&(this.executionResolve(o),delete this.executionReject,delete this.executionResolve)},t.explicitRender=function(){var o=this.getCaptchaFunction("render");if(o&&this._widgetId===void 0){var l=document.createElement("div");this._widgetId=o(l,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(l)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},t.componentDidMount=function(){this.explicitRender()},t.componentDidUpdate=function(){this.explicitRender()},t.handleRecaptchaRef=function(o){this.captcha=o},t.render=function(){var o=this.props;o.sitekey,o.onChange,o.theme,o.type,o.tabindex,o.onExpired,o.onErrored,o.size,o.stoken,o.grecaptcha,o.badge,o.hl,o.isolated;var l=fk(o,dk);return $.createElement("div",_f({},l,{ref:this.handleRecaptchaRef}))},e}($.Component);Qc.displayName="ReCAPTCHA";Qc.propTypes={sitekey:en.string.isRequired,onChange:en.func,grecaptcha:en.object,theme:en.oneOf(["dark","light"]),type:en.oneOf(["image","audio"]),tabindex:en.number,onExpired:en.func,onErrored:en.func,size:en.oneOf(["compact","normal","invisible"]),stoken:en.string,hl:en.string,badge:en.oneOf(["bottomright","bottomleft","inline"]),isolated:en.bool};Qc.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var $d={exports:{}},je={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function mk(){if(a_)return je;a_=1;var r=typeof Symbol=="function"&&Symbol.for,e=r?Symbol.for("react.element"):60103,t=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,h=r?Symbol.for("react.provider"):60109,f=r?Symbol.for("react.context"):60110,p=r?Symbol.for("react.async_mode"):60111,y=r?Symbol.for("react.concurrent_mode"):60111,v=r?Symbol.for("react.forward_ref"):60112,I=r?Symbol.for("react.suspense"):60113,w=r?Symbol.for("react.suspense_list"):60120,C=r?Symbol.for("react.memo"):60115,k=r?Symbol.for("react.lazy"):60116,F=r?Symbol.for("react.block"):60121,V=r?Symbol.for("react.fundamental"):60117,W=r?Symbol.for("react.responder"):60118,K=r?Symbol.for("react.scope"):60119;function te(Q){if(typeof Q=="object"&&Q!==null){var fe=Q.$$typeof;switch(fe){case e:switch(Q=Q.type,Q){case p:case y:case i:case l:case o:case I:return Q;default:switch(Q=Q&&Q.$$typeof,Q){case f:case v:case k:case C:case h:return Q;default:return fe}}case t:return fe}}}function se(Q){return te(Q)===y}return je.AsyncMode=p,je.ConcurrentMode=y,je.ContextConsumer=f,je.ContextProvider=h,je.Element=e,je.ForwardRef=v,je.Fragment=i,je.Lazy=k,je.Memo=C,je.Portal=t,je.Profiler=l,je.StrictMode=o,je.Suspense=I,je.isAsyncMode=function(Q){return se(Q)||te(Q)===p},je.isConcurrentMode=se,je.isContextConsumer=function(Q){return te(Q)===f},je.isContextProvider=function(Q){return te(Q)===h},je.isElement=function(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===e},je.isForwardRef=function(Q){return te(Q)===v},je.isFragment=function(Q){return te(Q)===i},je.isLazy=function(Q){return te(Q)===k},je.isMemo=function(Q){return te(Q)===C},je.isPortal=function(Q){return te(Q)===t},je.isProfiler=function(Q){return te(Q)===l},je.isStrictMode=function(Q){return te(Q)===o},je.isSuspense=function(Q){return te(Q)===I},je.isValidElementType=function(Q){return typeof Q=="string"||typeof Q=="function"||Q===i||Q===y||Q===l||Q===o||Q===I||Q===w||typeof Q=="object"&&Q!==null&&(Q.$$typeof===k||Q.$$typeof===C||Q.$$typeof===h||Q.$$typeof===f||Q.$$typeof===v||Q.$$typeof===V||Q.$$typeof===W||Q.$$typeof===K||Q.$$typeof===F)},je.typeOf=te,je}var l_;function gk(){return l_||(l_=1,$d.exports=mk()),$d.exports}var qd,u_;function yk(){if(u_)return qd;u_=1;var r=gk(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[r.ForwardRef]=i,l[r.Memo]=o;function h(k){return r.isMemo(k)?o:l[k.$$typeof]||e}var f=Object.defineProperty,p=Object.getOwnPropertyNames,y=Object.getOwnPropertySymbols,v=Object.getOwnPropertyDescriptor,I=Object.getPrototypeOf,w=Object.prototype;function C(k,F,V){if(typeof F!="string"){if(w){var W=I(F);W&&W!==w&&C(k,W,V)}var K=p(F);y&&(K=K.concat(y(F)));for(var te=h(k),se=h(F),Q=0;Q<K.length;++Q){var fe=K[Q];if(!t[fe]&&!(V&&V[fe])&&!(se&&se[fe])&&!(te&&te[fe])){var x=v(F,fe);try{f(k,fe,x)}catch{}}}}return k}return qd=C,qd}var _k=yk();const vk=If(_k);function Ef(){return Ef=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Ef.apply(this,arguments)}function Ek(r,e){if(r==null)return{};var t={},i=Object.keys(r),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}function wk(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}var jn={},Tk=0;function Ik(r,e){return e=e||{},function(i){var o=i.displayName||i.name||"Component",l=function(f){wk(p,f);function p(v,I){var w;return w=f.call(this,v,I)||this,w.state={},w.__scriptURL="",w}var y=p.prototype;return y.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+Tk++),this.__scriptLoaderID},y.setupScriptURL=function(){return this.__scriptURL=typeof r=="function"?r():r,this.__scriptURL},y.asyncScriptLoaderHandleLoad=function(I){var w=this;this.setState(I,function(){return w.props.asyncScriptOnLoad&&w.props.asyncScriptOnLoad(w.state)})},y.asyncScriptLoaderTriggerOnScriptLoaded=function(){var I=jn[this.__scriptURL];if(!I||!I.loaded)throw new Error("Script is not loaded.");for(var w in I.observers)I.observers[w](I);delete window[e.callbackName]},y.componentDidMount=function(){var I=this,w=this.setupScriptURL(),C=this.asyncScriptLoaderGetScriptLoaderID(),k=e,F=k.globalName,V=k.callbackName,W=k.scriptId;if(F&&typeof window[F]<"u"&&(jn[w]={loaded:!0,observers:{}}),jn[w]){var K=jn[w];if(K&&(K.loaded||K.errored)){this.asyncScriptLoaderHandleLoad(K);return}K.observers[C]=function(x){return I.asyncScriptLoaderHandleLoad(x)};return}var te={};te[C]=function(x){return I.asyncScriptLoaderHandleLoad(x)},jn[w]={loaded:!1,observers:te};var se=document.createElement("script");se.src=w,se.async=!0;for(var Q in e.attributes)se.setAttribute(Q,e.attributes[Q]);W&&(se.id=W);var fe=function(S){if(jn[w]){var A=jn[w],N=A.observers;for(var O in N)S(N[O])&&delete N[O]}};V&&typeof window<"u"&&(window[V]=function(){return I.asyncScriptLoaderTriggerOnScriptLoaded()}),se.onload=function(){var x=jn[w];x&&(x.loaded=!0,fe(function(S){return V?!1:(S(x),!0)}))},se.onerror=function(){var x=jn[w];x&&(x.errored=!0,fe(function(S){return S(x),!0}))},document.body.appendChild(se)},y.componentWillUnmount=function(){var I=this.__scriptURL;if(e.removeOnUnmount===!0)for(var w=document.getElementsByTagName("script"),C=0;C<w.length;C+=1)w[C].src.indexOf(I)>-1&&w[C].parentNode&&w[C].parentNode.removeChild(w[C]);var k=jn[I];k&&(delete k.observers[this.asyncScriptLoaderGetScriptLoaderID()],e.removeOnUnmount===!0&&delete jn[I])},y.render=function(){var I=e.globalName,w=this.props;w.asyncScriptOnLoad;var C=w.forwardedRef,k=Ek(w,["asyncScriptOnLoad","forwardedRef"]);return I&&typeof window<"u"&&(k[I]=typeof window[I]<"u"?window[I]:void 0),k.ref=C,$.createElement(i,k)},p}($.Component),h=$.forwardRef(function(f,p){return $.createElement(l,Ef({},f,{forwardedRef:p}))});return h.displayName="AsyncScriptLoader("+o+")",h.propTypes={asyncScriptOnLoad:en.func},vk(h,i)}}var wf="onloadcallback",Sk="grecaptcha";function Tf(){return typeof window<"u"&&window.recaptchaOptions||{}}function Rk(){var r=Tf(),e=r.useRecaptchaNet?"recaptcha.net":"www.google.com";return r.enterprise?"https://"+e+"/recaptcha/enterprise.js?onload="+wf+"&render=explicit":"https://"+e+"/recaptcha/api.js?onload="+wf+"&render=explicit"}const vp=Ik(Rk,{callbackName:wf,globalName:Sk,attributes:Tf().nonce?{nonce:Tf().nonce}:{}})(Qc),Ak="6LcIwrEqAAAAAOZnRmmCYLDR80SonOYOc58ETdiv",Ck=()=>{const[r,e]=$.useState({name:"",email:"",password:""}),[t,i]=$.useState(null),[o,l]=$.useState(!1),[h,f]=$.useState(!1),p=ms(),y=w=>{const{name:C,value:k}=w.target;e(F=>({...F,[C]:k}))},v=async w=>{w.preventDefault(),l(!0),i(null);try{const C=await ek(r.email,r.password,r.name);if(!C.success)throw new Error(C.error);p("/")}catch(C){let k="Įvyko klaida: ";C.message.includes("auth/email-already-in-use")?k="Šis el. pašto adresas jau naudojamas.":C.message.includes("Password should be at least 6 characters")?k="Slaptažodį turi sudaryti bent 6 simboliai.":k+=C.message,i(k)}finally{l(!1)}},I=w=>{f(!!w)};return b.jsx("div",{className:"register__wrapper",children:b.jsxs("form",{onSubmit:v,className:"register__form",children:[b.jsx("h2",{className:"register__form-title",children:"Registracija"}),b.jsx("input",{type:"text",name:"name",value:r.name,onChange:y,className:"register__form-input",placeholder:"Vardas",required:!0,disabled:o}),b.jsx("input",{type:"email",name:"email",value:r.email,onChange:y,className:"register__form-input",placeholder:"El. paštas",required:!0,disabled:o}),b.jsx("input",{type:"password",name:"password",value:r.password,onChange:y,className:"register__form-input",placeholder:"Slaptažodis",required:!0,disabled:o}),b.jsx("button",{type:"submit",className:"register__form-button",disabled:o||!h,children:o?"Registruojama...":"Registruotis"}),t&&b.jsx("p",{className:"register__form-error",children:t}),b.jsx(vp,{className:"grecaptcha-badge",sitekey:Ak,onChange:I}),b.jsx("div",{children:b.jsx(us,{to:"/login",className:"register__form-link",children:"Jau turite paskyrą? Prisijunkite"})}),o&&b.jsxs("div",{className:"register__form-loading",children:[b.jsx("div",{className:"register__form-loading-spinner"}),b.jsx("span",{className:"register__form-loading-text",children:"Kraunama..."})]})]})})},Pk="6LcIwrEqAAAAAOZnRmmCYLDR80SonOYOc58ETdiv",kk=()=>{const[r,e]=$.useState({email:"",password:""}),[t,i]=$.useState(null),[o,l]=$.useState(!1),[h,f]=$.useState(!1),p=ms(),y=w=>{const{name:C,value:k}=w.target;e(F=>({...F,[C]:k}))},v=async w=>{w.preventDefault(),l(!0),i(null);try{await ZP(r.email,r.password),p("/")}catch(C){let k="Įvyko klaida: ";C.message.includes("auth/too-many-requests")?k="Per daug prašymų, prašome palaukti.":C.message.includes("auth/invalid-credential")?k="Neteisingi prisijungimo duomenys.":k+=C.message,i(k)}finally{l(!1)}},I=w=>{f(!!w)};return b.jsx("div",{className:"login__wrapper",children:b.jsxs("form",{onSubmit:v,className:"login__form",children:[b.jsx("h2",{className:"login__form-title",children:"Prisijungimas"}),b.jsx("input",{type:"email",name:"email",value:r.email,onChange:y,placeholder:"El. paštas adresas",required:!0,disabled:o,className:"login__form-input"}),b.jsx("input",{type:"password",name:"password",value:r.password,onChange:y,placeholder:"Slaptažodis",required:!0,disabled:o,className:"login__form-input"}),b.jsx("button",{type:"submit",disabled:o||!h,className:"login__form-button",children:o?"Prisijungiama...":"Prisijungti"}),t&&b.jsx("p",{className:"login__form-error",children:t}),b.jsx(vp,{className:"grecaptcha-badge",sitekey:Pk,onChange:I}),b.jsx("div",{children:b.jsx(us,{to:"/reset-password",className:"login__form-link",children:"Pamirštote slaptažodį?"})}),b.jsx("div",{children:b.jsx(us,{to:"/register",className:"login__form-link",children:"Neturite paskyros? Užsiregistruokite"})}),o&&b.jsxs("div",{className:"login__form-loading",children:[b.jsx("div",{className:"login__form-loading-spinner"}),b.jsx("span",{className:"login__form-loading-text",children:"Palaukite..."})]})]})})},Nk="6LcIwrEqAAAAAOZnRmmCYLDR80SonOYOc58ETdiv",xk=()=>{const[r,e]=$.useState(""),[t,i]=$.useState(null),[o,l]=$.useState(!1),[h,f]=$.useState(!1),[p,y]=$.useState(!1),v=async w=>{w.preventDefault(),f(!0),i(null),l(!1);try{await nk(r),l(!0)}catch(C){let k="Įvyko klaida: ";C.message.includes("auth/invalid-email")?k="Neteisingas el. pašto adresas.":C.message.includes("auth/user-not-found")?k="Vartotojo su šiuo el. pašto adresu nėra.":k+=C.message,i(k)}finally{f(!1)}},I=w=>{y(!!w)};return b.jsx("div",{className:"reset-password__wrapper",children:b.jsxs("form",{onSubmit:v,className:"reset-password__form",children:[b.jsx("h2",{className:"reset-password__form-title",children:"Atkurti slaptažodį"}),b.jsx("input",{type:"email",value:r,onChange:w=>e(w.target.value),placeholder:"El. pašto adresas",required:!0,className:"reset-password__form-input",disabled:h||o}),b.jsx("button",{type:"submit",className:"reset-password__form-button",disabled:h||o||!p,children:h?"Siunčiama...":o?"Nurodymai išsiųsti!":"Atkurti slaptažodį"}),t&&b.jsx("p",{className:"reset-password__form-error",children:t}),b.jsx(vp,{className:"grecaptcha-badge",sitekey:Nk,onChange:I}),o&&b.jsx("p",{className:"reset-password__form-success",children:"Patikrinkite savo el. paštą, kur rasite instrukcijas, kaip atkurti slaptažodį."}),b.jsx("div",{children:b.jsx(us,{to:"/login",className:"reset-password__form-link",children:"Grižti prie prisijungimo"})}),h&&b.jsxs("div",{className:"reset-password__form-loading",children:[b.jsx("div",{className:"reset-password__form-loading-spinner"}),b.jsx("span",{className:"reset-password__form-loading-text",children:"Siunčiama..."})]})]})})},Dk=({message:r,onConfirm:e,onCancel:t})=>b.jsx("div",{className:"modal-overlay",children:b.jsxs("div",{className:"modal",children:[b.jsx("p",{children:r}),b.jsxs("div",{className:"modal-actions",children:[b.jsx("button",{onClick:e,children:"Taip"}),b.jsx("button",{onClick:t,children:"Ne"})]})]})}),Ok=({filteredProjects:r,handleDeleteClick:e,handleToggleStatus:t,projectLoading:i,projectError:o})=>{const l=ms();return i?b.jsx("p",{className:"home__projects-loading",children:"Kraunama..."}):o?b.jsx("p",{className:"home__projects-error",children:o}):b.jsx("div",{className:"home__projects-table-wrapper",children:b.jsxs("table",{className:"home__projects-list",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{children:"Pavadinimas"}),b.jsx("th",{children:"Aprašymas"}),b.jsx("th",{children:"Pradžios data"}),b.jsx("th",{children:"Pabaigos data"}),b.jsx("th",{children:"Prioritetas"}),b.jsx("th",{children:"Veiksmai"})]})}),b.jsx("tbody",{children:r.length>0?r.map(h=>b.jsxs("tr",{children:[b.jsx("td",{children:h.name}),b.jsx("td",{children:h.description||"Nenurodyta"}),b.jsx("td",{children:h.startDate}),b.jsx("td",{children:h.endDate}),b.jsx("td",{children:h.priority}),b.jsxs("td",{children:[b.jsx("button",{onClick:()=>l(`/edit-project/${h.id}`),children:"Keisti"}),b.jsx("button",{onClick:()=>e(h.id),children:"Ištrinti"}),b.jsx("button",{onClick:()=>t(h),children:h.status?"Atliktas":"Neatliktas"})]})]},h.id)):b.jsx("tr",{children:b.jsx("td",{colSpan:"6",children:"Kol kas projektų nėra."})})})]})})},Lk=({filter:r,onFilterChange:e})=>{const t=i=>{const{name:o,value:l}=i.target;e(o,l)};return b.jsxs("div",{className:"project-filter",children:[b.jsx("input",{type:"text",name:"name",value:r.name,onChange:t,placeholder:"Filtruoti pagal pavadinimą",className:"project-filter__input"}),b.jsxs("select",{name:"priority",value:r.priority,onChange:t,className:"project-filter__select",children:[b.jsx("option",{value:"",children:"Filtruoti pagal prioritetą"}),b.jsx("option",{value:"Aukštas",children:"Aukštas"}),b.jsx("option",{value:"Vidutinis",children:"Vidutinis"}),b.jsx("option",{value:"Žemas",children:"Žemas"})]}),b.jsxs("select",{name:"status",value:r.status,onChange:t,className:"project-filter__select",children:[b.jsx("option",{value:"",children:"Filtruoti pagal statusą"}),b.jsx("option",{value:"true",children:"Atliktas"}),b.jsx("option",{value:"false",children:"Neatliktas"}),b.jsx("option",{value:"all",children:"Visi"})]})]})},Vk="/to-do-list-app/assets/user-avatar-DEcUfELE.png",bk=()=>{const r=ms(),[e,t,i]=kc(Ni),[o,l]=$.useState(!1),[h,f]=$.useState(null),[p,y]=$.useState({name:"",priority:"",status:""}),{projects:v=[],setProjects:I,loading:w,error:C,setLoading:k,setError:F,updateProjectStatus:V}=_p(),W=v.filter(S=>{const{name:A,priority:N,status:O}=p,j=S.name&&S.name.toLowerCase().includes((A||"").toLowerCase()),P=N?S.priority.toLowerCase()===N.toLowerCase():!0,Xe=O===""?S.status===!1:O==="true"?S.status===!0:O==="false"?S.status===!1:!0;return j&&P&&Xe}),K=async()=>{try{await tk(),r("/login")}catch(S){console.error("Logout failed:",S.message),alert("Atsijungimas nepavyko. Bandykite dar tiesiogiai.")}},te=S=>{f(S),l(!0)},se=async()=>{if(h){k(!0),F(null);try{const S=await sk(h);S.success?(I(v.filter(A=>A.id!==h)),l(!1)):F(S.error)}catch(S){F(S.message)}finally{k(!1)}}},Q=()=>{l(!1)},fe=async S=>{const A=!S.status;k(!0),F(null);try{const N={status:A},O=await UE(S.id,N);O.success?V(S.id,A):F(O.error)}catch(N){F(N.message)}finally{k(!1)}},x=(S,A)=>{y(N=>({...N,[S]:A}))};return $.useEffect(()=>{t||e||r("/login")},[t,e,r]),t||!e?null:b.jsxs("div",{className:"home",children:[b.jsxs("main",{className:"home__main",children:[b.jsxs("section",{className:"home__user-section",children:[b.jsx("div",{className:"home__user-section-avatar",children:b.jsx("img",{src:Vk,alt:"Vartotojo avataras",width:"50",height:"50"})}),b.jsxs("div",{className:"home__user-section-info",children:[b.jsxs("p",{children:["Sveiki atvykę,"," ",e.displayName?`${e.displayName}!`:"Vartotojau!"]}),b.jsx("button",{onClick:K,children:"Atsijungti"})]})]}),b.jsxs("section",{className:"home__projects",children:[b.jsx("h2",{className:"home__projects-title",children:"Projektų sąrašas"}),b.jsx("div",{className:"home__projects-add-button",children:b.jsx(us,{to:"/create-project",children:b.jsx("button",{children:"Pridėti projektą"})})}),b.jsx(Lk,{filter:p,onFilterChange:x}),b.jsx(Ok,{filteredProjects:W,handleDeleteClick:te,handleToggleStatus:fe,projectLoading:w,projectError:C})]})]}),o&&b.jsx(Dk,{message:"Ar tikrai norite istrinti uzduoti?",onConfirm:se,onCancel:Q}),i&&b.jsxs("p",{className:"home__error",children:["Klaida: ",i]})]})},Mk=()=>{const r=ms(),[e,t]=kc(Ni),{createProject:i,setLoading:o,setError:l,loading:h,error:f}=_p(),[p,y]=$.useState({name:"",description:"",startDate:"",endDate:"",priority:"",status:!1}),v=new Date().toISOString().split("T")[0];$.useEffect(()=>{t||e||r("/login")},[t,e,r]);const I=C=>{y({...p,[C.target.name]:C.target.value})},w=async C=>{C.preventDefault(),o(!0),l(null);try{const k=await rk(p,e.uid);k.success?(i({...p,id:k.project.id,userId:e.uid}),r("/")):l(k.error)}catch(k){l(k.message)}finally{o(!1)}};return b.jsx("div",{className:"create-project__wrapper",children:b.jsxs("form",{onSubmit:w,className:"create-project__form",children:[b.jsx("h1",{className:"create-project__form-title",children:"Sukurti naują projektą"}),b.jsx("label",{htmlFor:"name",className:"create-project__form-label",children:"Pavadinimas:"}),b.jsx("input",{type:"text",name:"name",value:p.name,onChange:I,placeholder:"Projekto pavadinimas",required:!0,className:"create-project__form-input",disabled:h}),b.jsx("label",{htmlFor:"description",className:"create-project__form-label",children:"Aprašymas:"}),b.jsx("input",{type:"text",name:"description",value:p.description,onChange:I,placeholder:"Projekto aprašas (nebūtina)",className:"create-project__form-input",disabled:h}),b.jsx("label",{htmlFor:"startDate",className:"create-project__form-label",children:"Pradžios data:"}),b.jsx("input",{type:"date",id:"startDate",name:"startDate",value:p.startDate,onChange:I,required:!0,className:"create-project__form-input",disabled:h,min:v}),b.jsx("label",{htmlFor:"endDate",className:"create-project__form-label",children:"Pabaigos data:"}),b.jsx("input",{type:"date",id:"endDate",name:"endDate",value:p.endDate,onChange:I,required:!0,className:"create-project__form-input",disabled:h,min:v}),b.jsx("label",{htmlFor:"priority",className:"create-project__form-label",children:"Prioritetas:"}),b.jsxs("select",{id:"priority",name:"priority",value:p.priority,onChange:I,required:!0,className:"create-project__form-select",children:[b.jsx("option",{value:"",disabled:!0,children:"-----Prioritetas-----"}),b.jsx("option",{value:"Žemas",children:"Žemas"}),b.jsx("option",{value:"Vidutinis",children:"Vidutinis"}),b.jsx("option",{value:"Aukštas",children:"Aukštas"})]}),b.jsx("button",{type:"submit",className:"create-project__form-button",disabled:h,children:h?"Kuriama...":"Sukurti projektą"}),f&&b.jsxs("p",{className:"create-project__form-error-message",children:["Klaida: ",f]}),h&&b.jsxs("div",{className:"create-project__form-loading",children:[b.jsx("div",{className:"create-project__form-loading-spinner"}),b.jsx("span",{className:"create-project__form-loading-text",children:"Kuriama..."})]})]})})},Fk=()=>b.jsxs("footer",{className:"footer",children:[b.jsx("p",{className:"footer__text",children:"Kurata KITM mokyklos mokinių:"}),b.jsxs("ul",{className:"footer__list",children:[b.jsx("li",{className:"footer__item",children:"Marta Lionaitė"}),b.jsx("li",{className:"footer__item",children:"Deividas Kozlovas"}),b.jsx("li",{className:"footer__item",children:"Aurelijus Stražnickas"})]})]}),jk=()=>{const r=ms(),{projectId:e}=Nw(),[t,i]=kc(Ni),{projects:o=[],setLoading:l,setError:h,updateProject:f,loading:p,error:y}=_p(),[v,I]=$.useState({name:"",description:"",startDate:"",endDate:"",priority:""}),w=new Date().toISOString().split("T")[0];$.useEffect(()=>{if(!i)if(t||r("/login"),Array.isArray(o)){const F=o.find(V=>V.id===e);F?I({name:F.name,description:F.description||"",startDate:F.startDate||"",endDate:F.endDate||"",priority:F.priority||""}):h("Projektas nerastas.")}else h("Neteisingas projektų duomenų formatas.")},[t,e,r,o]);const C=F=>{I({...v,[F.target.name]:F.target.value})},k=async F=>{F.preventDefault(),l(!0),h(null);try{const V={...v,userId:t.uid},W=await UE(e,V);W.success?(f(e,V),r("/")):h(W.error)}catch(V){h(V.message)}finally{l(!1)}};return b.jsx("div",{className:"edit-project__wrapper",children:b.jsxs("form",{onSubmit:k,className:"edit-project__form",children:[b.jsx("h1",{className:"edit-project__form-title",children:"Redaguoti projektą"}),b.jsx("label",{htmlFor:"name",className:"edit-project__form-label",children:"Pavadinimas:"}),b.jsx("input",{type:"text",name:"name",value:v.name,onChange:C,required:!0,className:"edit-project__form-input",disabled:p}),b.jsx("label",{htmlFor:"description",className:"edit-project__form-label",children:"Aprašas:"}),b.jsx("input",{type:"text",name:"description",value:v.description,onChange:C,className:"edit-project__form-input",disabled:p}),b.jsx("label",{htmlFor:"startDate",className:"edit-project__form-label",children:"Pradžios data:"}),b.jsx("input",{type:"date",id:"startDate",name:"startDate",value:v.startDate,onChange:C,className:"edit-project__form-input",disabled:p,min:w}),b.jsx("label",{htmlFor:"endDate",className:"edit-project__form-label",children:"Pabaigos data:"}),b.jsx("input",{type:"date",id:"endDate",name:"endDate",value:v.endDate,onChange:C,className:"edit-project__form-input",disabled:p,min:w}),b.jsx("label",{htmlFor:"priority",className:"edit-project__form-label",children:"Prioritetas:"}),b.jsxs("select",{id:"priority",name:"priority",value:v.priority,onChange:C,className:"edit-project__form-select",disabled:p,children:[b.jsx("option",{value:"",disabled:!0,children:"-----Prioritetas-----"}),b.jsx("option",{value:"Žemas",children:"Žemas"}),b.jsx("option",{value:"Vidutinis",children:"Vidutinis"}),b.jsx("option",{value:"Aukštas",children:"Aukštas"})]}),b.jsx("button",{type:"submit",className:"edit-project__form-button",disabled:p,children:p?"Atnaujinama...":"Atnaujinti projektą"}),y&&b.jsxs("p",{className:"edit-project__form-error-message",children:["Klaida: ",y]}),p&&b.jsxs("div",{className:"edit-project__form-loading",children:[b.jsx("div",{className:"edit-project__form-loading-spinner"}),b.jsx("span",{className:"edit-project__form-loading-text",children:"Atnaujinama..."})]})]})})};function Uk(){return b.jsxs(ak,{children:[" ",b.jsxs(mT,{children:[b.jsx("header",{className:"App-header",children:b.jsx("h1",{className:"App-header-title",children:"To Do List APP"})}),b.jsx("div",{className:"App-screen",children:b.jsxs(Hw,{children:[b.jsx(ss,{path:"/",element:b.jsx(bk,{})}),b.jsx(ss,{path:"/register",element:b.jsx(Ck,{})}),b.jsx(ss,{path:"/login",element:b.jsx(kk,{})}),b.jsx(ss,{path:"/reset-password",element:b.jsx(xk,{})}),b.jsx(ss,{path:"/create-project",element:b.jsx(Mk,{})}),b.jsx(ss,{path:"/edit-project/:projectId",element:b.jsx(jk,{})})]})}),b.jsx(Fk,{})]})]})}ew.createRoot(document.getElementById("root")).render(b.jsx($.StrictMode,{children:b.jsx(Uk,{})}));
